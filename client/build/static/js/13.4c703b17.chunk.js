(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[13],{108:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(22),a=n.n(r),c=n(29),o=n(16),u=n(17),s=n(44),i=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"GetProductDetails",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/products/",{params:{sku:e}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"UpdateProductDetails",value:function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.put("/products/".concat(e),n);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getAllProducts",value:function(){var t=Object(c.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("products");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"createProduct",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("products",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"GetPOSProductDetails",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"",t.next=3,s.b.get("/server/api/getPOSProduct",{params:{upc:e,itemName:n}});case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"UpdatePOSProducts",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,s.b.post("/server/api/pos/Product/ManageItem",e);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"SyncInventory",value:function(){var t=Object(c.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.get("/server/api/sync");case 2:return e=t.sent,console.log(e.data),t.abrupt("return",e.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"UpdateProductFields",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.put("/server/api/invoice/product/update",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"CreateNotFoundItems",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.post("/server/api/invoice/notfound",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"CreateScanInvoiceData",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.post("/server/api/invoice/scaninvoicedata",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"UpdateInvoiceData",value:function(){var t=Object(c.a)(a.a.mark((function t(e,n,r,c){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),console.log(n),console.log(c),console.log(r),t.next=6,s.b.post("/server/api/invoice/updateinvoicedata",{params:{invoiceName:e,invoiceNo:n,date:r,itemNo:c}});case 6:return o=t.sent,t.abrupt("return",o.data);case 8:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"UpdateDBafterPosUpdate",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,s.b.post("/server/api/invoice/updatedbafterposupdate",e);case 3:n=t.sent,console.log(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"UpdateDBProduct",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,s.b.put("/server/api/invoice/pos/update",e);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"CreateDBProduct",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.post("/server/api/invoice/pos/create",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getInitialSyncedData",value:function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("In inventory service"),console.log(e),t.next=4,s.b.get("/server/api/invoice/pos",e);case 4:return n=t.sent,console.log(n),t.abrupt("return",n.data);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}()},258:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return I}));var r=n(22),a=n.n(r),c=n(29),o=n(46),u=n(129),s=n(108),i=n(45),p=n(2),l=n.n(p),d=n(204),f=n(253),v=n(260),b=n(264),y=n(263),h=n(259),j=n(261),m=n(269),g=n(262),x=n(205),k=n(267),O=n(271),w=n(27),S=n.n(w),P=n(4),C=[{id:"upc",label:"UPC"},{id:"sku",label:"SKU"},{id:"itemName",label:"Item Name"},{id:"cost",label:"Cost"},{id:"price",label:"Price"},{id:"currentStockQuantity",label:"Current Stock Quantity"},{id:"posSoldQuantity",label:"POS Sold Quantity"},{id:"wordpressSoldQty",label:"Wordpress Sold Qty."},{id:"OnHand",label:"On Hand"}],Q=Object(d.a)({root:{width:"100%",paddingTop:50},container:{maxHeight:"80vh",marginTop:10},table:{"& thead th":{fontWeight:"600",fontSize:20,backgroundColor:"grey"},"& tbody td":{fontWeight:"300"},"& tbody tr:hover":{backgroundColor:"#fffbf2",cursor:"pointer"}}});function I(){var t=Q(),e=l.a.useState(0),n=Object(o.a)(e,2),r=n[0],p=n[1],d=l.a.useState(100),w=Object(o.a)(d,2),I=w[0],N=w[1],U=new s.a,D=l.a.useState([]),T=Object(o.a)(D,2),E=T[0],R=T[1],H=l.a.useState(!0),L=Object(o.a)(H,2),A=L[0],G=L[1],M=l.a.useState(""),J=Object(o.a)(M,2),W=J[0],z=J[1],B=l.a.useState("20-July-2021"),F=Object(o.a)(B,2),K=F[0],q=F[1],Y=l.a.useState("22-July-2021"),V=Object(o.a)(Y,2),Z=V[0],X=V[1],$=function(){var t=Object(c.a)(a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,G(!0),t.next=4,U.SyncInventory();case 4:e=t.sent,n=e.map((function(t){var e=t.UPC,n=t.SKU,r=t.ItemName,a=t.Price;return{upc:e,itemName:r,cost:t.Cost,price:a,sku:n,currentStockQuantity:t.TotalQty,posSoldQuantity:t.soldQty,wordpressSoldQty:t.wordpressSoldQty}})),R(n),alert("Sync complete"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert("Couldn't sync inventory",t.t0);case 13:return t.prev=13,G(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(){return t.apply(this,arguments)}}();return l.a.useEffect((function(){function t(){return(t=Object(c.a)(a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,G(!0),t.next=4,U.getInitialSyncedData();case 4:e=t.sent,n=e.map((function(t){var e=t.UPC,n=t.SKU,r=t.ITEMNAME,a=t.PRICEPERUNIT;return{upc:e,itemName:r,cost:t.Cost,price:a,sku:n,currentStockQuantity:t.TotalQty,posSoldQuantity:t.QuantitySold,wordpressSoldQty:t.wordpressSoldQty,OnHand:t.OnHand}})),R(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert("Couldn't sync inventory",t.t0);case 12:return t.prev=12,G(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))).apply(this,arguments)}console.log(K,Z),function(){t.apply(this,arguments)}()}),[]),A?Object(P.jsx)(i.a,{}):Object(P.jsxs)(f.a,{className:t.root,children:[Object(P.jsxs)(x.a,{style:{display:"flex"},children:[Object(P.jsx)(O.a,{label:"Search",variant:"outlined",value:W,style:{marginLeft:20},onChange:function(t){return z(t.target.value)}}),Object(P.jsx)(O.a,{id:"date",label:"Start Date",type:"date",value:K,style:{marginLeft:20},InputLabelProps:{shrink:!0},onChange:function(t){return q(t.target.value)}}),Object(P.jsx)(O.a,{id:"date",label:"End Date",type:"date",value:Z,style:{marginLeft:20},InputLabelProps:{shrink:!0},onChange:function(t){return X(t.target.value)}}),Object(P.jsx)("button",{style:{backgroundColor:"green",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left",marginLeft:20},onClick:function(){return function(){console.log(K),console.log(Z);var t={method:"GET",headers:{UserId:"lRRqlkYefuV=",Password:"lRRqlkYefuV6jJ==",Pin:"qzOUsBmZFgMDlwGtrgYypxUz","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:{STARTDATE:K,ENDDATE:Z},json:!0};try{G(!0);var e=S.a.get("https://dataservices.sypramsoftware.com/api/Product/GetSoldItemList",t).then((function(t){return t})).map((function(t){var e=t.UPC,n=t.SKU,r=t.ITEMNAME,a=t.PRICEPERUNIT;return{upc:e,itemName:r,cost:t.Cost,price:a,sku:n,currentStockQuantity:t.TotalQty,posSoldQuantity:t.QuantitySold,wordpressSoldQty:t.wordpressSoldQty,OnHand:t.OnHand}}));R(e)}catch(n){alert("Couldn't sync inventory",n)}finally{G(!1)}}()},children:"Go!"}),Object(P.jsx)(k.a,{style:{flexGrow:1}}),Object(P.jsx)(u.e,{sm:"1",children:Object(P.jsx)("button",{className:"btn btn-lg btn-info",onClick:function(){return $()},children:"Sync"})})]}),Object(P.jsx)(h.a,{className:t.container,children:Object(P.jsxs)(v.a,{stickyHeader:!0,"aria-label":"sticky table",className:t.table,children:[Object(P.jsx)(j.a,{children:Object(P.jsx)(g.a,{children:C.map((function(t){return Object(P.jsx)(y.a,{align:t.align,style:{minWidth:t.minWidth},children:t.label},t.id)}))})}),Object(P.jsx)(b.a,{children:E.slice(r*I,r*I+I).filter((function(t){return W?t.itemName.toLowerCase().includes(W)?t:null:t})).map((function(t){return Object(P.jsx)(g.a,{hover:!0,role:"checkbox",children:C.map((function(e){var n=t[e.id];return Object(P.jsx)(y.a,{align:e.align,children:n},e.id)}))},t.upc)}))})]})}),Object(P.jsx)(m.a,{rowsPerPageOptions:[100,200,500],component:"div",count:E.length,rowsPerPage:I,page:r,onChangePage:function(t,e){p(e)},onChangeRowsPerPage:function(t){N(+t.target.value),p(0)}})]})}}}]);
//# sourceMappingURL=13.4c703b17.chunk.js.map