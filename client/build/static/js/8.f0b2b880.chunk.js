(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{143:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(27),a=n.n(r),c=n(35),o=n(20),s=n(21),i=n(56),u=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"GetProductDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/products/",{params:{sku:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateProductDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("/products/".concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAllProducts",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("products");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createProduct",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("products",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetPOSProductDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"",e.next=3,i.b.get("/server/api/getPOSProduct",{params:{upc:t,itemName:n}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdatePOSProducts",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,i.b.post("/server/api/pos/Product/ManageItem",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"SyncInventory",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.get("/server/api/sync");case 2:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"UpdateProductFields",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.put("/server/api/invoice/product/update",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateNotFoundItems",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.post("/server/api/invoice/notfound",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateScanInvoiceData",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.post("/server/api/invoice/scaninvoicedata",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateInvoiceData",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(n),console.log(c),console.log(r),e.next=6,i.b.post("/server/api/invoice/updateinvoicedata",{params:{invoiceName:t,invoiceNo:n,date:r,itemNo:c}});case 6:return o=e.sent,e.abrupt("return",o.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"UpdateDBafterPosUpdate",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,i.b.post("/server/api/invoice/updatedbafterposupdate",t);case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,i.b.post("/server/api/invoice/savedetails",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"reversePOSUpdate",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(n),console.log(c),console.log(r),e.next=6,i.b.post("/server/api/invoice/reverseposupdate",{params:{invoiceName:t,invoiceNo:n,date:r,itemNo:c}});case 6:return o=e.sent,e.abrupt("return",o.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"linkingCorrect",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,i.b.post("/server/api/invoice/linkingcorrect",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkManually",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,i.b.post("/server/api/invoice/linkmanually",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHicksvilleData",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in inventory for hicks data"),e.next=3,i.b.get("/server/api/invoice/gethicksvilledata",{params:{input:t}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSavedInvoices",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in inventory for saved invoices"),console.log(t),e.next=4,i.b.get("/server/api/invoice/getsavedinvoices",{params:t});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateDBProduct",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,i.b.put("/server/api/invoice/pos/update",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateDBProduct",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.post("/server/api/invoice/pos/create",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInitialSyncedData",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In inventory service"),console.log(t),e.next=4,i.b.get("/server/api/invoice/pos",t);case 4:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateLog",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,i.b.post("/server/api/invoice/generatelog",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkManuallyLog",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,i.b.post("/server/api/invoice/linkmanuallylog",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"reverseUpdate",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,i.b.post("/server/api/invoice/reverseupdate",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},145:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(27),a=n.n(r),c=n(35),o=n(20),s=n(21),i=n(56),u=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"GetFuzz",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,n),e.next=3,i.b.get("/server/api/fuzzwuzz",{params:{name:t,type:n}});case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},219:function(e,t){},286:function(e,t,n){"use strict";n.r(t);var r=n(161),a=n(73),c=n(24),o=n(58),s=n(2),i=n(37),u=n(143),l=n(145),p=n(153),d=n(61),v=n(57),b=n(297),f=n(300),j=(n(219),n(4));t.default=function(){var e=new u.a,t=new l.a,n=Object(s.useState)([]),m=Object(o.a)(n,2),O=m[0],h=m[1],x=Object(s.useState)(!0),g=Object(o.a)(x,2),y=g[0],k=g[1],w=Object(s.useState)([]),S=Object(o.a)(w,2),N=(S[0],S[1],Object(s.useState)(!1)),P=Object(o.a)(N,2),C=P[0],z=P[1],D=Object(s.useState)(null),A=Object(o.a)(D,2),F=(A[0],A[1]),I=Object(s.useState)([]),U=Object(o.a)(I,2),B=(U[0],U[1]),L=Object(s.useState)([]),T=Object(o.a)(L,2),E=T[0],G=T[1],V=Object(s.useState)(""),_=Object(o.a)(V,2),M=_[0],q=_[1],J=Object(s.useState)(""),K=Object(o.a)(J,2),H=K[0],R=K[1],$=Object(s.useState)({item:"",quantity:"",description:"",price:"",pos:"",barcode:"",posSku:"",invoice:"",size:"",department:"",unitCost:"",unitPrice:""}),Q=Object(o.a)($,2),W=Q[0],X=Q[1],Y=function(e,t){X(Object(c.a)(Object(c.a)({},W),{},Object(a.a)({},e,t)))},Z=function(){z(!C)};Object(s.useEffect)((function(){d.a.database().ref("/review").on("value",(function(e){if(e.val()){var t=Object.values(e.val());console.log(t),h(t),k(!1)}}))}),[]);var ee=function(e){try{d.a.database().ref("/review/".concat(e)).remove();var t=Object(r.a)(O).filter((function(t){return t.itemNo!==e}));return h(t),!0}catch(n){return console.log(n),!1}};return y?Object(j.jsx)(v.a,{}):Object(j.jsxs)("div",{style:{marginTop:"90px"},children:[Object(j.jsx)("div",{className:"row",children:O.map((function(e,n){return Object(j.jsx)("div",{className:"col-md-4",style:{padding:"10px"},children:Object(j.jsxs)("div",{style:{border:"1px solid grey",margin:"10px"},children:[Object(j.jsx)("div",{className:"text-center bg-secondary",children:e.itemNo}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"text-center",children:e.description}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"row",style:{marginBottom:"10px"},children:[Object(j.jsx)("div",{className:"col-md-9"}),Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsx)("button",{className:"btn btn-sm btn-primary",onClick:function(){z(!0),R(e.itemNo),q(e.itemNo),function(e){F(e);var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(r);B(n);var a,o,s,i,u,l={item:e.itemNo,description:e.description,pos:e.posName,barcode:e.barcode,posSku:e.posSku||"",invoice:e.invoiceName,size:"loading...",department:"loading...",unitCost:"loading...",unitPrice:"loading..."};X(l),t.GetFuzz(e.description,"pos").then((function(t){o=t.result;for(var n=t.result.map((function(e){var t=Object(c.a)({},e);return t.label="".concat(e.name,"- ").concat(e.price,"- ").concat(e.upc," - ").concat(e.size),console.log(t),t})),r=0;r<o.length;r++)if(e.posSku==o[r].sku){a=null!==o[r].size?o[r].size:"NOT AVAILABLE",s=null!==o[r].department?o[r].department:"NOT AVAILABLE",i=null!==o[r].cost?o[r].cost:"NOT AVAILABLE",u=null!==o[r].price?o[r].price:"NOT AVAILABLE";break}console.log(s+i+u+"$"+a),l={item:e.itemNo,description:e.description,pos:e.posName,barcode:e.barcode,posSku:e.posSku||"",invoice:e.invoiceName,size:a,department:s,unitCost:i,unitPrice:u},X(l),G(n)})).catch((function(e){return console.log(e)}))}(e)},children:"Details"})})]})]})},e.itemNo)}))}),Object(j.jsxs)(p.o,{show:C,onClose:Z,children:[Object(j.jsx)(p.r,{closeButton:!0,children:H}),Object(j.jsx)(p.p,{children:Object(j.jsx)(p.f,{fluid:!0,children:Object(j.jsx)(p.s,{children:Object(j.jsxs)(p.e,{sm:"12",children:[Object(j.jsxs)(p.k,{children:[Object(j.jsx)(p.m,{htmlFor:"name",children:"Name"}),Object(j.jsx)(b.a,{value:W.item,onChange:function(e,t){if(t){var n=Object(c.a)({},W);console.log(t),n.description=t.name,n.barcode=t.upc,n.pos=t.name,n.posSku=t.sku,n.size=t.size,n.department=t.department,n.unitCost=t.cost,n.unitPrice=t.price,X(n),console.log(t),console.log(n),console.log(W)}},id:"combo-box",options:E,getOptionLabel:function(e){var t;return null!==(t=e.label)&&void 0!==t?t:W.item},style:{paddingTop:4},renderInput:function(e){return Object(j.jsx)(f.a,Object(c.a)(Object(c.a)({},e),{},{variant:"outlined",size:"small"}))}})]}),Object(j.jsxs)(p.s,{children:[Object(j.jsx)(p.e,{sm:"6",children:Object(j.jsxs)(p.k,{children:[Object(j.jsx)(p.m,{htmlFor:"type",children:"Barcode"}),Object(j.jsx)(p.l,{disabled:!0,type:"text",name:"type",value:W.barcode,onChange:function(e){return Y("barcode",e.target.value)}})]})}),Object(j.jsx)(p.e,{sm:"6",children:Object(j.jsxs)(p.k,{children:[Object(j.jsx)(p.m,{htmlFor:"short_description",children:"POS SKU"}),Object(j.jsx)(p.l,{disabled:!0,type:"text",name:"short_description",value:W.posSku,onChange:function(e){return Y("posSku",e.target.value)}})]})})]}),Object(j.jsxs)(p.k,{children:[Object(j.jsx)(p.m,{htmlFor:"description",children:"Invoice Description"}),Object(j.jsx)(p.l,{disabled:!0,type:"text",name:"description",value:W.description,onChange:function(e){return Y("description",e.target.value)}})]}),Object(j.jsxs)(p.k,{children:[Object(j.jsx)(p.m,{htmlFor:"regular_price",children:"POS Name"}),Object(j.jsx)(p.l,{disabled:!0,type:"text",name:"regular_price",value:W.pos,onChange:function(e){return Y("pos",e.target.value)}})]}),Object(j.jsxs)(p.k,{children:[Object(j.jsx)(p.m,{htmlFor:"size",children:"POS Size"}),Object(j.jsx)(p.l,{disabled:!0,type:"text",name:"size",value:W.size,onChange:function(e){return Y("size",e.target.value)}})]}),Object(j.jsxs)(p.k,{children:[Object(j.jsx)(p.m,{htmlFor:"department",children:"Department"}),Object(j.jsx)(p.l,{disabled:!0,type:"text",name:"department",value:W.department,onChange:function(e){return Y("department",e.target.value)}})]}),Object(j.jsxs)(p.k,{children:[Object(j.jsx)(p.m,{htmlFor:"unitPrice",children:"POS Unit Price"}),Object(j.jsx)(p.l,{disabled:!0,type:"text",name:"unitPrice",value:W.unitPrice,onChange:function(e){return Y("unitPrice",e.target.value)}})]}),Object(j.jsxs)(p.k,{children:[Object(j.jsx)(p.m,{htmlFor:"unitCost",children:"POS Unit Cost"}),Object(j.jsx)(p.l,{disabled:!0,type:"text",name:"unitCost",value:W.unitCost,onChange:function(e){return Y("unitCost",e.target.value)}})]})]})})})}),Object(j.jsxs)(p.q,{children:[Object(j.jsx)(p.d,{color:"primary",onClick:function(){return function(){console.log(M),z(!C),console.log(W);var t={invoiceName:W.invoice,itemName:W.item,value:{POS:W.pos,Barcode:W.barcode,PosSKU:W.posSku,isReviewed:"true",Size:W.size,Department:W.department,SellerCost:W.unitCost,SellingPrice:W.unitPrice}};k(!0),e.UpdateProductFields(t).then((function(e){if(!e)throw new Error("Product not created");console.log(e),alert("Successfully updated fields")})).then((function(){return ee(M)})).catch((function(e){console.log(e),alert("Some error occuured in creating product")})).finally((function(){return k(!1)}))}()},children:"Add"})," ",Object(j.jsx)(p.d,{color:"secondary",onClick:Z,children:"Cancel"})]})]}),Object(j.jsx)("div",{className:"row",style:{marginTop:"40px"},children:Object(j.jsx)("div",{className:"col-md-2",children:Object(j.jsx)(i.b,{className:"btn btn-lg btn-info",to:"/invoice",children:"Back"})})})]})}}}]);
//# sourceMappingURL=8.f0b2b880.chunk.js.map