(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{109:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(22),a=r.n(n),c=r(30),s=r(16),u=r(17),o=r(44),i=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"GetProductDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/products/",{params:{sku:t}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateProductDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("/products/".concat(t),r);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAllProducts",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("products");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createProduct",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("products",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetPOSProductDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"",e.next=3,o.b.get("/server/api/getPOSProduct",{params:{upc:t,itemName:r}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdatePOSProducts",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.post("/server/api/pos/Product/ManageItem",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"SyncInventory",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get("/server/api/sync");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"UpdateProductFields",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.put("/server/api/invoice/product/update",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateNotFoundItems",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.post("/server/api/invoice/notfound",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateDBProduct",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.put("/server/api/invoice/pos/update",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateDBProduct",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.post("/server/api/invoice/pos/create",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInitialSyncedData",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get("/server/api/invoice/pos");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()},142:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(22),a=r.n(n),c=r(30),s=r(16),u=r(17),o=r(44),i=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"GetFuzz",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,r),e.next=3,o.b.get("/server/api/fuzzwuzz",{params:{name:t,type:r}});case 3:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()},246:function(e,t,r){"use strict";r.r(t);var n=r(145),a=r(57),c=r(19),s=r(46),u=r(2),o=r(31),i=r(109),p=r(142),l=r(144),d=r(47),b=r(45),j=r(260),v=r(262),f=r(4);t.default=function(){var e=new i.a,t=new p.a,r=Object(u.useState)([]),O=Object(s.a)(r,2),m=O[0],h=O[1],x=Object(u.useState)(!0),y=Object(s.a)(x,2),k=y[0],g=y[1],w=Object(u.useState)([]),S=Object(s.a)(w,2),N=(S[0],S[1],Object(u.useState)(!1)),P=Object(s.a)(N,2),C=P[0],F=P[1],z=Object(u.useState)(null),D=Object(s.a)(z,2),B=(D[0],D[1]),U=Object(u.useState)([]),I=Object(s.a)(U,2),G=(I[0],I[1]),_=Object(u.useState)([]),T=Object(s.a)(_,2),q=T[0],A=T[1],E=Object(u.useState)(""),J=Object(s.a)(E,2),K=J[0],L=J[1],M=Object(u.useState)(""),R=Object(s.a)(M,2),H=R[0],Q=R[1],V=Object(u.useState)({item:"",quantity:"",description:"",price:"",pos:"",barcode:"",posSku:"",invoice:""}),W=Object(s.a)(V,2),X=W[0],Y=W[1],Z=function(e,t){Y(Object(c.a)(Object(c.a)({},X),{},Object(a.a)({},e,t)))},$=function(){F(!C)};Object(u.useEffect)((function(){d.a.database().ref("/review").on("value",(function(e){if(e.val()){var t=Object.values(e.val());h(t),g(!1)}}))}),[]);var ee=function(e){try{d.a.database().ref("/review/".concat(e)).remove();var t=Object(n.a)(m).filter((function(t){return t.itemNo!==e}));return h(t),!0}catch(r){return console.log(r),!1}};return k?Object(f.jsx)(b.a,{}):Object(f.jsxs)("div",{style:{marginTop:"90px"},children:[Object(f.jsx)("div",{className:"row",children:m.map((function(e,r){return Object(f.jsx)("div",{className:"col-md-4",style:{padding:"10px"},children:Object(f.jsxs)("div",{style:{border:"1px solid grey",margin:"10px"},children:[Object(f.jsx)("div",{className:"text-center bg-secondary",children:e.itemNo}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"text-center",children:e.description}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",style:{marginBottom:"10px"},children:[Object(f.jsx)("div",{className:"col-md-9"}),Object(f.jsx)("div",{className:"col-md-3",children:Object(f.jsx)("button",{className:"btn btn-sm btn-primary",onClick:function(){F(!0),Q(e.itemNo),L(e.itemNo),function(e){B(e);var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(n);G(r);var a={item:e.itemNo,description:e.description,pos:e.posName,barcode:e.barcode,posSku:e.posSku||"",invoice:e.invoiceName};Y(a),t.GetFuzz(e.description,"pos").then((function(e){var t=e.result.map((function(e){var t=Object(c.a)({},e);return t.label="".concat(e.name,"- ").concat(e.price,"- ").concat(e.upc),console.log(t),t}));A(t)})).catch((function(e){return console.log(e)}))}(e)},children:"Details"})})]})]})},e.itemNo)}))}),Object(f.jsxs)(l.o,{show:C,onClose:$,children:[Object(f.jsx)(l.r,{closeButton:!0,children:H}),Object(f.jsx)(l.p,{children:Object(f.jsx)(l.f,{fluid:!0,children:Object(f.jsx)(l.s,{children:Object(f.jsxs)(l.e,{sm:"12",children:[Object(f.jsxs)(l.k,{children:[Object(f.jsx)(l.m,{htmlFor:"name",children:"Name"}),Object(f.jsx)(j.a,{value:X.item,onChange:function(e,t){if(t){var r=Object(c.a)({},X);console.log(t),r.description=t.name,r.barcode=t.upc,r.pos=t.name,r.posSku=t.sku,Y(r)}},id:"combo-box",options:q,getOptionLabel:function(e){var t;return null!==(t=e.label)&&void 0!==t?t:X.item},style:{paddingTop:4},renderInput:function(e){return Object(f.jsx)(v.a,Object(c.a)(Object(c.a)({},e),{},{variant:"outlined",size:"small"}))}})]}),Object(f.jsxs)(l.s,{children:[Object(f.jsx)(l.e,{sm:"6",children:Object(f.jsxs)(l.k,{children:[Object(f.jsx)(l.m,{htmlFor:"type",children:"Barcode"}),Object(f.jsx)(l.l,{type:"text",name:"type",value:X.barcode,onChange:function(e){return Z("barcode",e.target.value)}})]})}),Object(f.jsx)(l.e,{sm:"6",children:Object(f.jsxs)(l.k,{children:[Object(f.jsx)(l.m,{htmlFor:"short_description",children:"POS SKU"}),Object(f.jsx)(l.l,{type:"text",name:"short_description",value:X.posSku,onChange:function(e){return Z("posSku",e.target.value)}})]})})]}),Object(f.jsxs)(l.k,{children:[Object(f.jsx)(l.m,{htmlFor:"description",children:"Invoice Description"}),Object(f.jsx)(l.l,{type:"text",name:"description",value:X.description,onChange:function(e){return Z("description",e.target.value)}})]}),Object(f.jsxs)(l.k,{children:[Object(f.jsx)(l.m,{htmlFor:"regular_price",children:"POS Name"}),Object(f.jsx)(l.l,{type:"text",name:"regular_price",value:X.pos,onChange:function(e){return Z("pos",e.target.value)}})]})]})})})}),Object(f.jsxs)(l.q,{children:[Object(f.jsx)(l.d,{color:"primary",onClick:function(){return function(){console.log(K),F(!C);var t={invoiceName:X.invoice,itemName:X.item,value:{POS:X.pos,Barcode:X.barcode,PosSKU:X.posSku,isReviewed:"true"}};g(!0),e.UpdateProductFields(t).then((function(e){if(!e)throw new Error("Product not created");console.log(e),alert("Successfully updated fields")})).then((function(){return ee(K)})).catch((function(e){console.log(e),alert("Some error occuured in creating product")})).finally((function(){return g(!1)}))}()},children:"Add"})," ",Object(f.jsx)(l.d,{color:"secondary",onClick:$,children:"Cancel"})]})]}),Object(f.jsx)("div",{className:"row",style:{marginTop:"40px"},children:Object(f.jsx)("div",{className:"col-md-2",children:Object(f.jsx)(o.b,{className:"btn btn-lg btn-info",to:"/invoice",children:"Back"})})})]})}}}]);
//# sourceMappingURL=9.cf2c5dc0.chunk.js.map