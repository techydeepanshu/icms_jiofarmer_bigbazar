/*! For license information please see 8.e22a5c88.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{116:function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return o.a})),n.d(t,"createChainedFunction",(function(){return r.a})),n.d(t,"createSvgIcon",(function(){return a.a})),n.d(t,"debounce",(function(){return c.a})),n.d(t,"deprecatedPropType",(function(){return i})),n.d(t,"isMuiElement",(function(){return s.a})),n.d(t,"ownerDocument",(function(){return l.a})),n.d(t,"ownerWindow",(function(){return u.a})),n.d(t,"requirePropFactory",(function(){return d.a})),n.d(t,"setRef",(function(){return p.a})),n.d(t,"unsupportedProp",(function(){return b.a})),n.d(t,"useControlled",(function(){return f.a})),n.d(t,"useEventCallback",(function(){return g.a})),n.d(t,"useForkRef",(function(){return j.a})),n.d(t,"unstable_useId",(function(){return m.a})),n.d(t,"useIsFocusVisible",(function(){return x.a}));var o=n(109),r=n(118),a=n(115),c=n(129);function i(e,t){return function(){return null}}var s=n(131),l=n(111),u=n(132),d=n(119),p=n(113),b=n(126),f=n(142),g=n(122),j=n(110),m=n(143),x=n(144)},119:function(e,t,n){"use strict";function o(e){return function(){return null}}n.d(t,"a",(function(){return o}))},120:function(e,t,n){"use strict";var o=n(5),r=n(105),a=n(18),c=n(17),i=n(23),s=n(25),l=n(2),u=n.n(l),d=n(4),p=["color","text"],b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.text,a=Object(r.a)(e,p);return Object(d.jsx)("button",Object(o.a)(Object(o.a)({className:t},a),{},{children:n}))}}]),n}(u.a.Component);t.a=b},123:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},124:function(e,t,n){var o=n(163).default;function r(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=c?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=n(116)},126:function(e,t,n){"use strict";function o(e,t,n,o,r){return null}n.d(t,"a",(function(){return o}))},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(29),r=n(18),a=n(17),c=n(22),i=n.n(c),s=n(47),l=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"PostImage",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.next=4,s.b.post("/server/api/upload-image",n);case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetProductDetails",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("invoiceName : ",t),e.next=3,s.b.get("/server/api/product/",{params:{invoiceName:t}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetOCRData",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.post("/server/api/ocr",{data:{filename:t}});case 2:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetSavedInvoiceData",value:function(){var e=Object(o.a)(i.a.mark((function e(t,n,o){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("IN TESSERACT SERVICE"),e.next=3,s.b.get("/server/api/invoice/getsaveinvoicedata/",{params:{invoiceName:t,invoiceNo:n,date:o}});case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}()}]),e}()},140:function(e,t,n){e.exports={main:"DisplayData_main__3dZaC",Filter:"DisplayData_Filter__1u_nu",Apply:"DisplayData_Apply__GjHhP",container:"DisplayData_container__2MkRT",HeadStyle:"DisplayData_HeadStyle__PCmCu",TableText:"DisplayData_TableText__hhvZ2",records:"DisplayData_records__1Gi0X",red:"DisplayData_red__24S03",image:"DisplayData_image__3STA7",button:"DisplayData_button__GadqQ",tooltip:"DisplayData_tooltip__fXq_c",tooltipIsReviewed:"DisplayData_tooltipIsReviewed__29ewR",element:"DisplayData_element__3jIVP",free:"DisplayData_free__1jKz9",tablewrapper:"DisplayData_tablewrapper__AuFC6",divRow:"DisplayData_divRow__1M_V6"}},149:function(e,t,n){"use strict";var o=n(123),r=n(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(2)),c=(0,o(n(125)).default)(a.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");t.default=c},150:function(e,t,n){"use strict";var o=n(123),r=n(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(2)),c=(0,o(n(125)).default)(a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=c},161:function(e,t,n){"use strict";var o=n(3);n.d(t,"a",(function(){return o.default}));var r="8.10.0";o.default.registerVersion("firebase",r,"app"),o.default.SDK_VERSION=r},162:function(e,t,n){"use strict";n(68)},163:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},164:function(e,t,n){"use strict";var o=n(123),r=n(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(2)),c=(0,o(n(125)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.default=c},174:function(e,t,n){"use strict";var o=n(7),r=n(257),a=n(134);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(e,Object(o.a)({defaultTheme:a.a},t))}},175:function(e,t,n){"use strict";var o=n(105),r=n(7),a=n(2),c=(n(21),n(106)),i=n(107),s=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var d=a.forwardRef((function(e,t){var n=e.alignContent,i=void 0===n?"stretch":n,s=e.alignItems,l=void 0===s?"stretch":s,u=e.classes,d=e.className,p=e.component,b=void 0===p?"div":p,f=e.container,g=void 0!==f&&f,j=e.direction,m=void 0===j?"row":j,x=e.item,O=void 0!==x&&x,v=e.justify,h=void 0===v?"flex-start":v,S=e.lg,y=void 0!==S&&S,C=e.md,P=void 0!==C&&C,w=e.sm,k=void 0!==w&&w,N=e.spacing,I=void 0===N?0:N,D=e.wrap,_=void 0===D?"wrap":D,E=e.xl,U=void 0!==E&&E,T=e.xs,A=void 0!==T&&T,M=e.zeroMinWidth,R=void 0!==M&&M,z=Object(o.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),F=Object(c.a)(u.root,d,g&&[u.container,0!==I&&u["spacing-xs-".concat(String(I))]],O&&u.item,R&&u.zeroMinWidth,"row"!==m&&u["direction-xs-".concat(String(m))],"wrap"!==_&&u["wrap-xs-".concat(String(_))],"stretch"!==l&&u["align-items-xs-".concat(String(l))],"stretch"!==i&&u["align-content-xs-".concat(String(i))],"flex-start"!==h&&u["justify-xs-".concat(String(h))],!1!==A&&u["grid-xs-".concat(String(A))],!1!==k&&u["grid-sm-".concat(String(k))],!1!==P&&u["grid-md-".concat(String(P))],!1!==y&&u["grid-lg-".concat(String(y))],!1!==U&&u["grid-xl-".concat(String(U))]);return a.createElement(b,Object(r.a)({className:F,ref:t},z))})),p=Object(i.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(o){var r=e.spacing(o);0!==r&&(n["spacing-".concat(t,"-").concat(o)]={margin:"-".concat(u(r,2)),width:"calc(100% + ".concat(u(r),")"),"& > $item":{padding:u(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var o={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");o[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else o[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else o[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,o):e[t.breakpoints.up(n)]=o}(t,e,n),t}),{}))}),{name:"MuiGrid"})(d);t.a=p},264:function(e,t,n){"use strict";n.r(t);var o=n(44),r=n(5),a=n(29),c=n(45),i=n(22),s=n.n(i),l=n(2),u=n(205),d=n(260),p=n(252),b=n(175),f=[{value:"Giant Farm",slug:"giant-farm",jsonName:"giant-farm.json",emptyColumn:!0,databaseName:"giantfarms"},{value:"Duty Free Produce",slug:"duty-free-produce",jsonName:"duty-free-produce.json",emptyColumn:!0,databaseName:"dutyfreeproduces"},{value:"Gurme Guru",slug:"gurme-guru",jsonName:"gurme-guru.json",emptyColumn:!0,databaseName:"gurmegurus"}],g=n(174),j=n(117),m=n(133),x=n(161),O=(n(162),n(24)),v=n(127),h=n(120),S=n(140),y=n.n(S),C=n(253),P=n(164),w=n.n(P),k=n(150),N=n.n(k),I=n(149),D=n.n(I),_=n(4),E=Object(g.a)({root:{width:"100%",paddingTop:50},container:{maxHeight:"80vh",marginTop:10},table:{"& thead th":{fontWeight:"600",fontSize:20,backgroundColor:"grey"},"& tbody td":{fontWeight:"300"},"& tbody tr:hover":{backgroundColor:"#fffbf2",cursor:"pointer"}}});t.default=function(){var e=new v.a,t=Object(l.useState)([]),n=Object(c.a)(t,2),i=(n[0],n[1]),g=Object(l.useState)([]),S=Object(c.a)(g,2),P=S[0],k=S[1],I=Object(O.c)(),U="Select Invoice("+f.length+")",T="",A=E(),M=new j.a,R=Object(l.useState)([]),z=Object(c.a)(R,2),F=z[0],q=z[1],L=Object(l.useState)(!1),W=Object(c.a)(L,2),Y=W[0],G=W[1],K=Object(l.useState)(""),H=Object(c.a)(K,2),B=H[0],Q=(H[1],Object(l.useState)("")),V=Object(c.a)(Q,2),$=V[0],J=V[1],X=Object(l.useState)(""),Z=Object(c.a)(X,2),ee=Z[0],te=Z[1],ne=Object(l.useState)(""),oe=Object(c.a)(ne,2),re=oe[0],ae=oe[1],ce=Object(l.useState)(""),ie=Object(c.a)(ce,2),se=ie[0],le=ie[1],ue=Object(l.useState)(),de=Object(c.a)(ue,2),pe=de[0],be=de[1],fe=Object(l.useState)(""),ge=Object(c.a)(fe,2),je=ge[0],me=(ge[1],Object(l.useState)("")),xe=Object(c.a)(me,2),Oe=xe[0],ve=xe[1],he=Object(l.useState)(""),Se=Object(c.a)(he,2),ye=Se[0],Ce=Se[1],Pe=Object(l.useState)(-1),we=Object(c.a)(Pe,2),ke=we[0],Ne=we[1],Ie=Object(O.d)((function(e){return e.redItems.notFounds})),De=Object(l.useState)(!1),_e=Object(c.a)(De,2),Ee=_e[0],Ue=(_e[1],Object(l.useState)("")),Te=Object(c.a)(Ue,2),Ae=(Te[0],Te[1],Object(l.useState)(-1)),Me=Object(c.a)(Ae,2),Re=(Me[0],Me[1]),ze=Object(l.useState)(""),Fe=Object(c.a)(ze,2),qe=(Fe[0],Fe[1]),Le=Object(l.useState)("true"),We=Object(c.a)(Le,2),Ye=(We[0],We[1]),Ge=(Object(O.d)((function(e){return e.openInvoice.inv})),Object(O.d)((function(e){return e.openInvoice.num})),Object(O.d)((function(e){return e.openInvoice.day})),Object(l.useState)("")),Ke=Object(c.a)(Ge,2),He=Ke[0],Be=Ke[1],Qe=Object(l.useState)(""),Ve=Object(c.a)(Qe,2),$e=Ve[0],Je=Ve[1],Xe=Object(l.useState)(),Ze=Object(c.a)(Xe,2),et=Ze[0],tt=Ze[1],nt=Object(l.useState)(""),ot=Object(c.a)(nt,2),rt=ot[0],at=ot[1],ct=Object(l.useState)(""),it=Object(c.a)(ct,2),st=it[0],lt=it[1],ut=Object(l.useState)(),dt=Object(c.a)(ut,2),pt=dt[0],bt=dt[1],ft=Object(l.useState)("false"),gt=Object(c.a)(ft,2),jt=(gt[0],gt[1],Object(l.useState)({item:"",quantity:"",description:"",price:"",pos:"",barcode:"",posSku:"",invoice:"",size:"",department:"",unitCost:"",unitPrice:""})),mt=Object(c.a)(jt,2),xt=mt[0],Ot=mt[1],vt=Object(l.useState)([]),ht=Object(c.a)(vt,2),St=ht[0],yt=ht[1],Ct=Object(l.useState)([]),Pt=Object(c.a)(Ct,2),wt=Pt[0],kt=Pt[1];console.log("table_state_value : ",wt);var Nt=Object(l.useState)({isReviewed:"",Item:"",Quantity:"",Description:"",Price:"",POS:"",Barcode:"",PosSKU:"",Size:"",Department:"",SellerCost:"",SellingPrice:""}),It=Object(c.a)(Nt,2),Dt=It[0],_t=It[1],Et=(Object(O.d)((function(e){return e.loaders.apiLoader})),Object(O.d)((function(e){return e.loaders.loader})),[]),Ut=[],Tt=[],At="",Mt=["Serial No.","Barcode","POS SKU","Qty Shipped",,"Unit Cost","ITEM NO","Link Product","DESCRIPTION","Units in  Case","Case cost","Extended Price","Unit Price","Mark up (%)","Add Details","Tick to Delete","Update POS","Reverse POS Update","NO LINKING","Serial No.(2)"];function Rt(){return zt.apply(this,arguments)}function zt(){return zt=Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("IN WOOCOM PRODUCTS"),e.next=3,Promise.all(Tt.map(function(){var e=Object(a.a)(s.a.mark((function e(t){var n,o,r,a,c,i,l,u,d,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.barcode),e.prev=1,e.next=4,M.GetProductDetails(t.barcode);case 4:return n=e.sent,console.log(n),o=n[0],r=o.id,a=o.name,c=o.regular_price,i=o.price,l=o.sku,u=o.slug,d=o.stock_quantity,p=o.sale_price,console.log("res[0]"),console.log("id : ",r),console.log("name : ",a),console.log("regular_price : ",c),console.log("price : ",i),console.log("sku : ",l),console.log("slug : ",u),console.log("stock_quantity : ",d),console.log("sale_price : ",p),e.abrupt("return",{id:r,name:a,regular_price:c,price:i,sku:l,slug:u,stock_quantity:d,sale_price:p,itemNo:t.itemNo});case 19:return e.prev=19,e.t0=e.catch(1),console.log("Couldn't fetch product from woodpress.",t.itemNo),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}()));case 3:t=e.sent,console.log(t),Ut=t;case 6:case"end":return e.stop()}}),e)}))),zt.apply(this,arguments)}function Ft(){return qt.apply(this,arguments)}function qt(){return qt=Object(a.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("IN POS PRODUCTS"),t=!1,e.next=4,Promise.all(Tt.map(function(){var e=Object(a.a)(s.a.mark((function e(n){var o,a,c,i,l,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n.barcode),e.prev=1,e.next=4,M.GetPOSProductDetails(n.barcode);case 4:if(o=e.sent,console.log(o),Array.isArray(o)){e.next=9;break}return alert("API not working"),e.abrupt("return");case 9:if(console.log("fetched pos data",o),a=o[0],c=a.SKU,i=a.UPC,l=a.ITEMNAME,u=a.TOTALQTY,d=a.DEPNAME,console.log(c),console.log(At),c!=At){e.next=19;break}return console.log(c),console.log(At),e.abrupt("return",Object(r.a)(Object(r.a)({},n),{},{COST:n.cp,PRICE:""===Oe?n.sellingPrice:Oe,SKU:c,UPC:i,ITEMNAME:l,TOTALQTY:parseInt(n.qty)*parseInt(n.pieces)+parseInt(u),itemNo:n.itemNo,isNew:!1,BUYASCASE:1,CASEUNITS:n.pieces.toString(),CASECOST:n.unitPrice.toString(),DEPNAME:d}));case 19:alert("SKU mismatch!!");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(1),t=!0,e.abrupt("return",Object(r.a)(Object(r.a)({},n),{},{COST:n.cp,PRICE:n.sp,SKU:n.posSku,UPC:n.barcode,ITEMNAME:n.description,TOTALQTY:parseInt(n.qty)*parseInt(n.pieces),itemNo:n.itemNo,isNew:!0,BUYASCASE:1,CASEUNITS:n.pieces.toString(),CASECOST:n.unitPrice.toString(),DEPNAME:""}));case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}()));case 4:n=e.sent,t&&alert("Couldn't fetch some data from POS"),console.log(n),Et=n,console.log(Et);case 9:case"end":return e.stop()}}),e)}))),qt.apply(this,arguments)}var Lt=function(){var e=Object(a.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Promise.all(t.map(function(){var e=Object(a.a)(s.a.mark((function e(t){var n,o,r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.UpdateProductDetails(t.id,{regular_price:t.regular_price,stock_quantity:t.stock_quantity});case 3:return n=e.sent,o=n.id,r=n.name,a=n.regular_price,c=n.stock_quantity,e.abrupt("return",{id:o,name:r,regular_price:a,stock_quantity:c,itemNo:t.itemNo});case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),alert("Couldn't update product on website."),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 3:n=e.sent,console.log("pushToWoocom_result : ",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Promise.all(t.map(function(){var e=Object(a.a)(s.a.mark((function e(t){var n,o,r,a,c,i,l,u,d,p,b,g,j,m,x,O,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.COST,o=t.PRICE,r=t.UPC,a=t.TOTALQTY,c=t.isNew,i=t.ITEMNAME,l=t.BUYASCASE,u=t.CASEUNITS,d=t.CASECOST,p=t.SKU,b=t.DEPNAME,g=t.itemNo,console.log("product : ",t),j="",console.log(t.itemNo),console.log(i.indexOf("-")),m=i,console.log("pushToPos_ITEMNAME : ",i),!(i.indexOf("-")<0)){e.next=25;break}O=0;case 10:if(!(O<f.length)){e.next=22;break}if(console.log(pt.slug),f[O].slug!==pt.slug){e.next=17;break}return x=!1,e.abrupt("break",22);case 17:return x=!0,e.abrupt("break",22);case 19:O++,e.next=10;break;case 22:console.log(x),j="SKU "+t.posSku,m=i+" - "+j;case 25:return e.next=27,M.UpdatePOSProducts(JSON.stringify({UPC:r,ITEMNAME:m,DESCRIPTION:"",PRICE:o,COST:n,QTY:a,SIZE:"",PACK:"",REPLACEQTY:1,DEPARTMENT:b,CATEGORY:"",SUBCATEGORY:"",ISFOODSTAMP:1,ISWEIGHTED:0,ISTAXABLE:1,VENDORNAME:pt.slug,VENDORCODE:g,VENDORCOST:"",ISNEWITEM:c?1:0,BUYASCASE:l,CASEUNITS:u,CASECOST:d,COMPANYNAME:pt.slug,PRODUCTCODE:g,MODELNUM:ee.slice(0,4)+" "+(new Date).toLocaleDateString(),VINTAGE:"ICMS"}));case 27:return v=e.sent,console.log("updated pos data",v),{UPC:r,SKU:p,Cost:n,ItemName:i,Price:o,TotalQty:a},console.log("res from POS",v),e.abrupt("return",!0);case 34:return e.prev=34,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t){return e.apply(this,arguments)}}()));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,o,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log(Et),console.log(Tt),t=Tt.map((function(e){return{item:e.itemNo,qty:parseInt(e.qty)*parseInt(e.pieces),cp:e.unitPrice,markup:e.markup,sp:e.sellingPrice,description:e.description}})),console.log(t),n={},o=0;o<t.length;o++)n.hasOwnProperty(t[o].item)?(console.log("true"),n[t[o].item].push(o)):t.lastIndexOf(t[o].item)!==o&&(console.log("false"),console.log(t.lastIndexOf(t[o].item)),n[t[o].item]=[o]);if(console.log(n),r=Object.values(n).filter((function(e){return e.length>1})),console.log(r),r.length>0&&r.forEach((function(e){var n=0;e.forEach((function(e){t[e]&&(n+=t[e].qty)-t[e].qty!==0&&(t[e]=null)})),t[e[0]].qty=n})),console.log(t),t=t.filter((function(e){return null!==e})),console.log(t),console.log(Ut.length),console.log(Ut),null==Ut[0]){e.next=19;break}return a=t.map((function(e,t){var n=Ut.findIndex((function(t){return e.item===t.itemNo}));if(console.log("wooIndex : ",n),-1!==n){var o=Ut[n],r=o.id,a=o.stock_quantity;return a+=e.qty,{id:r,regular_price:e.sp,stock_quantity:a,itemNo:e.item}}return null})).filter((function(e){return null!==e})),e.next=19,Lt(a);case 19:return e.next=21,Wt(Et);case 21:window.alert("Inventory updated successfully");case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var Gt=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,o,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],console.log("posProduct : ",Dt),[],n.push(Dt),console.log(n),n.isUpdated="true",n.itemNo,Tt=[wt[t]],console.log(Tt),At=Tt[0].posSku,e.next=12,Rt();case 12:return e.next=14,Ft();case 14:if(console.log(Et),void 0==Et[0]){e.next=36;break}return e.next=18,Yt();case 18:return console.log(Ut),console.log(Et),console.log(Tt),console.log(Tt),console.log(Tt.itemNo),o={invoiceName:pt.slug,itemName:Tt[0].itemNo.toLowerCase(),value:{cost:Tt[0].cp,sellingPrice:Oe,isUpdated:"true",isUpdatedDate:$}},console.log(o),e.next=25,M.UpdateHandWrittenProductFields(o);case 25:return console.log("PRODUCTT"),console.log(Tt),r={InvoiceName:pt.slug,InvoiceDate:"",ItemNo:Tt[0].itemNo,InvoiceDescription:Tt[0].description,PosDescription:Tt[0].posName,OldUnitCost:Tt[0].cost,OldUnitPrice:ye,OldMarkup:((ye-Tt[0].cost)/Tt[0].cost*100).toFixed(2).toString(),NewUnitCost:Et[0].COST,NewUnitPrice:Et[0].PRICE,NewMarkup:((Et[0].PRICE-Et[0].COST)/Et[0].COST*100).toFixed(2).toString(),UpdateDate:$,Person:ee,TimeStamp:(new Date).toTimeString().split(" ")[0],InvCaseCost:Tt[0].unitPrice,InvUnitsInCase:Tt[0].pieces,HandWritten:"YES",SKU:Tt[0].posSku},console.log(r),e.next=31,M.handwrittenPosLogs(r);case 31:a=e.sent,console.log(a),rn(pt),e.next=38;break;case 36:alert("POS not updated!!"),rn(pt);case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Kt=function(){var e=Object(a.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("reversePOSUpdate"),Tt=[wt[t]],console.log(Tt),At=Tt[0].posSku,e.next=6,Ft();case 6:if(console.log(Et),void 0==Et[0]){e.next=16;break}return n={invoiceName:pt.slug,itemName:Tt[0].itemNo.toLowerCase(),value:{isUpdated:"false"}},console.log(n),e.next=12,M.UpdateHandWrittenProductFields(n);case 12:console.log("PRODUCTT"),rn(pt),e.next=18;break;case 16:alert("POS not updated!!"),rn(pt);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(wt),console.log(wt[t]),n=wt[t],o={invoice:T.slug,itemNo:n.itemNo},e.next=7,M.reverseUpdate(o);case 7:r=e.sent,console.log(r),1==r.ok?on():alert("Some error occured in updation");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,o,r,a,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(wt),console.log(wt[t]),n=wt[t],console.log(n),o={invoice:T.slug,itemNo:n.itemNo},e.next=8,M.linkManually(o);case 8:return r=e.sent,console.log(r),a=n.cp-n.cost,c=n.cp>=3*n.cost?"YES":"",console.log(c),i={InvoiceDescription:n.description,PosDescription:n.posName,SKU:n.posSku,Barcode:n.barcode,InvoiceName:T.slug,ItemCode:n.itemNo,LinkingDate:$,PersonName:ee,Size:n.size,PosUnitCost:n.cost,PosUnitPrice:n.sellingPrice,Department:n.department,InvUnitCost:n.cp,CostIncrease:"YES"==c?"":a>0?"YES":"",CostDecrease:"YES"==c?"":a<0?"YES":"",CostSame:"YES"==c?"":0==a?"YES":"",InvError:c},console.log(i),e.next=17,M.linkManuallyLog(i);case 17:l=e.sent,console.log(l),"OK"==r.statusText||alert("Some error occured in updation"),on();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wt[t],console.log(n),o={invoiceName:pt.slug,itemName:n.itemNo.toLowerCase(),value:{pieces:n.pieces}},console.log("updateUnits_data : ",o),M.UpdateHandWrittenProductFields(o).then((function(e){if(!e)throw new Error("Product not updated");console.log(e),alert("Successfully updated fields")})).catch((function(e){console.log(e),alert("Some error occuured in creating product")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wt[t],console.log(n),o={invoiceName:pt.slug,itemName:n.itemNo.toLowerCase(),value:Object(r.a)(Object(r.a)({},n),{},{barcode:Dt.barcode,department:Dt.department,posName:Dt.pos,posSku:Dt.posSku,size:Dt.size,sellingPrice:Dt.sellingPrice,cost:Dt.sellerCost,isUpdated:"false"})},console.log("updatePosDetails : ",o),M.UpdateHandWrittenProductFields(o).then((function(e){if(!e)throw new Error("Product not updated");console.log(e),alert("Successfully updated fields")})).catch((function(e){console.log(e),alert("Some error occuured in creating product")})).finally((function(){rn(pt)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,o,r,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(wt),console.log(wt[t]),n=wt[t],console.log(n),o={invoice:T.slug,itemNo:n.itemNo},console.log(o),e.next=9,M.linkingCorrect(o);case 9:if(r=e.sent,console.log(r),"OK"!=r.statusText){e.next=23;break}return n.cp-n.cost,a=n.cp>=3*n.cost?"YES":"",c={InvoiceDescription:n.description,PosDescription:n.posName,SKU:n.posSku,Barcode:n.barcode,InvoiceName:T.slug,ItemCode:n.itemNo,LinkingDate:$,PersonName:ee,Size:n.size,PosUnitCost:n.cost,PosUnitPrice:n.sellingPrice,Department:n.department,InvUnitCost:n.cp,CostIncrease:"",CostDecrease:"",CostSame:"",Unidentified:"YES",InvError:a},e.next=17,M.UnidentifiedLog(c);case 17:i=e.sent,console.log(i),alert("SUCCESS"),on(),e.next=25;break;case 23:alert("Some error occured"),on();case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){if(console.log("renderTableData_tableData : ",wt),console.log("renderTableData_showPosState : ",xt),console.log("renderTableData_tableData : ",wt),wt){console.log(wt),console.log("renderTableData_showPosState : ",xt);var e=wt.map((function(e,t){var n=""===e.qty||""===e.itemNo||!e.pieces||isNaN(e.unitPrice)||""===e.unitPrice||isNaN(e.extendedPrice),o=0!=e.qty&&"0.00"===e.extendedPrice;console.log("renderTableData_element : ",e);var a=(e.sellingPrice-e.cost)/e.cost*100;console.log("isEmpty : ",n),console.log("isFree : ",o);return Object(_.jsxs)("tr",{className:n?y.a.red:o?y.a.free:null,style:"false"==e.linkingCorrect?{backgroundColor:"pink"}:"true"===e.isUpdated?{backgroundColor:"lightGreen"}:e.show?{opacity:"1"}:{opacity:"0.4"},children:[Object(_.jsxs)("td",{children:[" ",t+1," "]}),Object(_.jsxs)("td",{className:y.a.element,children:[Object(_.jsx)(d.a,{type:"tel",value:ke===t?xt.barcode:e.barcode,id:"outlined-secondary",variant:"outlined",onChange:function(e){en(t,"barcode",e.target.value)},style:{width:150}}),Object(_.jsx)(C.a,{color:"primary","aria-label":"add to review",children:Object(_.jsx)(D.a,{style:"true"===e.isReviewed?{fill:"red"}:null})}),Object(_.jsxs)("div",{className:"true"===e.isReviewed?y.a.tooltipIsReviewed:y.a.tooltip,children:[Object(_.jsxs)("p",{children:["POS Product-"," ",ke===t?xt.pos:e.posName]}),Object(_.jsxs)("p",{children:["Size-"," ",ke===t?xt.size:e.size]}),Object(_.jsxs)("p",{children:["Department -"," ",ke===t?xt.department:e.department]}),Object(_.jsxs)("p",{children:["Margin(%) - ",ke===t?((xt.sellingPrice-xt.sellerCost)/xt.sellerCost*100).toFixed(2):a.toFixed(2)]}),Object(_.jsxs)("p",{children:["Unit Cost-"," ",ke===t?xt.sellerCost:e.cost]}),Object(_.jsxs)("p",{children:["Unit Price-"," ",ke===t?xt.sellingPrice:e.sellingPrice]}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{onClick:function(){"true"===Ie?Zt("notfounds"):Vt(t)},disabled:ke!==t,style:{backgroundColor:"green",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left"},children:"Update Item"})}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{onClick:function(){return Bt(t)},style:{backgroundColor:"blue",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left"},children:"Link Manually"})}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{onClick:function(){return Ht(t)},style:{backgroundColor:"red",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left"},children:"Reverse Update"})})]})]}),Object(_.jsx)("td",{children:ke===t?xt.posSku:e.posSku}),Object(_.jsx)("td",{children:Object(_.jsx)(d.a,{type:"tel",value:e.qty,id:"outlined-secondary",variant:"outlined",onChange:function(e){en(t,"qty",e.target.value)},style:{width:100}})}),Object(_.jsx)("td",{children:e.cp}),Object(_.jsx)("td",{children:Object(_.jsx)(u.a,{value:e.itemNo,onChange:function(e,n){n&&en(t,"itemNo",n)},id:"combo-box",options:P,getOptionLabel:function(e){return e},style:{width:200},renderInput:function(e){return Object(_.jsx)(d.a,Object(r.a)(Object(r.a)({},e),{},{variant:"outlined"}))}})}),Object(_.jsx)("td",{children:Object(_.jsx)(u.a,{value:ke===t?xt.item:e.itemNo,loading:!0,onInputChange:function(e,n){console.log("ON INPUT CHANGE"),null!=e&&setTimeout((function(){tn(e,n,t)}),1500)},onChange:function(o,a){if(a){var c=Object(r.a)({},xt);console.log(a),c.item=e.itemNo,c.description=a.name,c.barcode=a.upc,c.pos=a.name,c.posSku=a.sku,c.size=a.size,c.department=a.department,c.sellerCost=a.cost,c.sellingPrice=a.price,I({type:"SET_POS_STATE",data:c}),Ne(t),qe(a.cost),_t(c),Ot(c),n&&(I({type:"NOT_FOUNDS",data:"true"}),Ye("false")),console.log(c)}},id:"combo-box",options:F,getOptionLabel:function(t){var n;return null!==(n=t.label)&&void 0!==n?n:e.itemNo},style:{width:400},renderInput:function(e){return Object(_.jsx)(d.a,Object(r.a)(Object(r.a)({},e),{},{variant:"outlined"}))}})}),Object(_.jsx)("td",{children:e.description}),Object(_.jsxs)("td",{children:[Object(_.jsx)(d.a,{type:"tel",value:e.pieces,variant:"outlined",onChange:function(e){en(t,"pieces",e.target.value)},style:{width:100}}),Object(_.jsx)("button",{onClick:function(){Qt(t)},style:{backgroundColor:"#008CBA",border:"none",color:"white",padding:"5px 16px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"10px",margin:"4px 2px",cursor:"pointer"},children:"Update Units"})]}),Object(_.jsx)("td",{children:Object(_.jsx)(d.a,{type:"tel",value:e.unitPrice,variant:"outlined",onChange:function(e){en(t,"unitPrice",e.target.value)},style:1===e.priceIncrease?{backgroundColor:"#1a8cff",width:100}:-1===e.priceIncrease?{backgroundColor:"#ffb31a",width:100}:{width:100}})}),Object(_.jsx)("td",{children:e.extendedPrice}),Object(_.jsx)("td",{children:Object(_.jsx)(d.a,{type:"tel",value:ke===t?xt.sellingPrice:e.sellingPrice,variant:"outlined",onChange:function(e){en(t,"sellingPrice",e.target.value)},style:{width:100}})}),Object(_.jsx)("td",{children:e.markup}),Object(_.jsxs)("td",{className:y.a.element,children:[Object(_.jsx)(C.a,{onClick:function(){Zt("details"),Re(t)},children:Object(_.jsx)(w.a,{})}),Object(_.jsx)("div",{className:y.a.tooltip,children:Object(_.jsxs)("p",{children:["Details- ",e.details]})})]}),Object(_.jsx)("td",{children:Object(_.jsx)(h.a,{text:e.show?"Delete":"Undo",color:"btn btn-info",type:"submit",onClick:function(){console.log("deleteRow")}})}),Object(_.jsx)("td",{children:Object(_.jsx)(h.a,{text:"Update POS",color:"btn btn-info",type:"submit",onClick:function(){window.confirm("Do You Want to Update Data in POS")&&Gt(t)},style:{width:120}})}),Object(_.jsx)("td",{children:Object(_.jsx)(h.a,{text:"Reverse POS",type:"submit",onClick:function(){return Kt(t)},style:{width:120,backgroundColor:"red",color:"white"}})}),Object(_.jsx)("td",{className:y.a.element,children:Object(_.jsx)(C.a,{onClick:function(){return $t(t)},children:Object(_.jsx)(N.a,{})})}),Object(_.jsx)("td",{children:t+1})]},t)}));return Object(_.jsxs)("div",{style:{marginTop:"35px"},children:[Object(_.jsx)("table",{className:"table table-hover table-responsive-sm",children:Object(_.jsxs)("tbody",{children:[Object(_.jsx)("tr",{children:Mt.map((function(e,t){return Object(_.jsx)("th",{style:{position:"sticky",top:"70px",background:"grey"},children:e.toUpperCase()},t)}))}),e,Object(_.jsx)("tr",{children:Object(_.jsx)("td",{children:Object(_.jsx)(h.a,{text:"Add cell",color:"btn btn-info",onClick:function(){return console.log("addRow")}})})})]})}),Object(_.jsxs)("div",{className:y.a.divRow,children:[Object(_.jsx)(h.a,{text:"Update Inventory",color:"btn btn-info",type:"submit",onClick:function(){return console.log("addRow")}}),Object(_.jsx)(h.a,{text:"Re upload",color:"btn btn-info",type:"submit",onClick:function(){return window.location.reload()}})]})]})}},Xt=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updateItem_selectedDropdown : ",pt),console.log("updateItem_posProduct : ",Dt),console.log("updateItem_tableData[index] : ",wt[t]),console.log("updateItem_itemName : ",re),n={invoiceName:pt.slug,itemName:re,value:{barcode:Dt.barcode,department:Dt.department,posName:Dt.pos,posSku:Dt.posSku,size:Dt.size,cost:Dt.sellerCost,sellingPrice:Dt.sellingPrice,pieces:se,sellingCost:je,itemNo:re,description:re,price:void 0===pe?et:pe,sku:"",details:"",extendedPrice:($e*et).toFixed(2).toString(),unitPrice:et,isUpdated:"",isUpdatedDate:$,itemNoPresent:"",linkingCorrect:"",margin:"",markup:"",priceIncrease:"",qty:$e,show:"",isReviewed:"true"}},console.log(n),e.next=8,M.UpdateHandWrittenProductFields(n);case 8:o=e.sent,console.log(o),rn(pt),Jt();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=function(e){console.log(Dt),console.log(!Y),G(!Y)},en=function(e,t,n){console.log("handleChange_key : ",t),console.log("handleChange_val : ",n),console.log("handleChange_index : ",e),console.log("handleChange_setPosProduct : ",Dt),console.log("handleChange_tableData[index] : ",wt[e]),"sellingPrice"===t&&(ve(n),Ce(St[e].sellingPrice),console.log("NewUnitPrice_value : ",n),console.log("PrevNewUnitPrice_value : ",St[e].sellingPrice));var a=Object(r.a)(Object(r.a)({},wt),{},Object(o.a)({},e,Object(r.a)(Object(r.a)({},wt[e]),{},Object(o.a)({},t,n)))),c=Object.values(a);console.log("propertyName : ",c),console.log("handelChange_propertyNames[index] : ",c[e]),kt(c)},tn=function(){var e=Object(a.a)(s.a.mark((function e(t,n,o){var a,c,i,l,u,d,p,b,f,g,j,m,x,O,v,h,S,y,C,P;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),console.log(n),console.log(n.length),q([]),isNaN(n)||!(n.length>0)){e.next=18;break}return console.log("number"),e.next=8,M.getHicksvilleData(n.toUpperCase());case 8:for(a=e.sent,c=a,console.log(c),i="",l=0;l<c.length;l++)i=i+c[l].name+"$$$";for(u=i.split("$$$"),d=[],p=0;p<u.length;p++)b=u[p].split("@@@"),f={sku:"nan"===b[1]?null:b[1],upc:"nan"===b[0]?null:b[0],altupc1:"nan"===b[14]?null:b[14],altupc2:"nan"===b[15]?null:b[15],name:"nan"===b[2]?null:b[2],vintage:"nan"===b[8]?null:b[8],totalQty:"nan"===b[13]?null:b[13],cost:"nan"===b[4]?null:b[4],pricea:"nan"===b[10]?null:b[10],priceb:"nan"===b[11]?null:b[11],pricec:"nan"===b[12]?null:b[12],department:"nan"===b[9]?null:b[9],salePrice:"nan"===b[5]?null:b[5],size:"nan"===b[6]?null:b[6],pack:"nan"===b[7]?null:b[7],price:"nan"===b[3]?null:b[3]},d.push(f);g=d.map((function(e){var t=Object(r.a)({},e);return t.label="".concat(e.name,"--").concat(e.price,"--").concat(e.upc,"--").concat(e.size,"--").concat(e.cost,"--").concat(e.sku),t})),q(g);case 18:if(!(isNaN(n)&&null!=n&&n.length>=4)){e.next=32;break}return console.log("string"),e.next=22,M.getHicksvilleData(n.toUpperCase());case 22:for(j=e.sent,m=j,console.log(m),x="",O=0;O<m.length;O++)x=x+m[O].name+"$$$";for(v=x.split("$$$"),h=[],S=0;S<v.length;S++)y=v[S].split("@@@"),C={sku:"nan"===y[1]?null:y[1],upc:"nan"===y[0]?null:y[0],altupc1:"nan"===y[14]?null:y[14],altupc2:"nan"===y[15]?null:y[15],name:"nan"===y[2]?null:y[2],vintage:"nan"===y[8]?null:y[8],totalQty:"nan"===y[13]?null:y[13],cost:"nan"===y[4]?null:y[4],pricea:"nan"===y[10]?null:y[10],priceb:"nan"===y[11]?null:y[11],pricec:"nan"===y[12]?null:y[12],department:"nan"===y[9]?null:y[9],salePrice:"nan"===y[5]?null:y[5],size:"nan"===y[6]?null:y[6],pack:"nan"===y[7]?null:y[7],price:"nan"===y[3]?null:y[3]},h.push(C);P=h.map((function(e){var t=Object(r.a)({},e);return"undefined"!=e.itemNo&&(t.label="".concat(e.name,"--").concat(e.price,"--").concat(e.upc,"--").concat(e.size,"--").concat(e.cost,"--").concat(e.sku)),t})),q(P);case 32:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),nn=function(){var e=Object(a.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=pt,console.log(t),e.next=4,M.getItemForHandwrittenInvoice(t);case 4:return n=e.sent,console.log("getItems_res : ",n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),on=function(){function t(){return(t=Object(a.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetProductDetails(pt.slug);case 2:return n=t.sent,console.log("setProductsInTable_invoiceData() : ",n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}I({type:"LOADER"}),function(){t.apply(this,arguments)}(),nn().then((function(e){console.log("setProductsInTable_getItems() : ",e);var t=e.map((function(e){void 0===e.itemNo&&(e.itemNo=e.Description.trim()),e.itemNo=e.Item.toString(),e.description=e.Description,e.pieces=e.Quantity,e.sku=e.sku,e.barcode=e.Barcode,e.posName=e.POS,e.markup=0,e.show=!0,e.posSku=e.PosSKU,e.isReviewed=e.isReviewed,e.size=e.Size,e.department=e.Department,e.cost=e.SellerCost,e.sellingPrice=e.SellingPrice,e.price=e.Price,e.details=e.Details,e.linkingCorrect=e.linkingCorrect,e.margin=void 0!==e.Item?(e.SellingPrice-e.SellerCost)/e.SellerCost*100:"";return e.cp="",e.sp="",void 0!==e.Item?0>e.sellerCost?e.priceIncrease=1:0<+e.sellerCost?e.priceIncrease=-1:0==+e.sellerCost&&(e.priceIncrease=0):e.priceIncrease=0,Object(r.a)(Object(r.a)({},e),{},{sp:0,cp:0})}));I({type:"LOADER"}),kt(t.filter((function(e){return null!==e}))),k(Object.keys(e)),i(e)})).catch((function(e){console.log("error on mapping ocrdata",e),I({type:"LOADER"})}))},rn=function(e){var t=e;function n(){return(n=Object(a.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getItemForHandwrittenInvoice(t);case 2:return n=e.sent,console.log("setProductsInTableNew_products : ",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("setProductsInTableNew_invoice : ",t),function(){return n.apply(this,arguments)}().then((function(e){console.log("fetchSavedData_handwrittenInvoiceData : ",e);var t=e.map((function(e){e.itemNoPresent=void 0!==e.itemNo,void 0===e.itemNo&&(e.itemNo=e.description.trim().toUpperCase()),e.itemNo=e.itemNo.toString().toUpperCase(),e.description=e.description.toString().toUpperCase(),e.markup=0,e.show=!0,console.log("check here");var t=0,n=0;return parseInt(e.pieces)&&(n=t=(parseFloat(e.unitPrice)/parseInt(e.pieces)).toFixed(2)),void 0!==e.itemNo?t>+e.cost?e.priceIncrease=1:t<e.cost?e.priceIncrease=-1:t==+e.cost&&(e.priceIncrease=0):e.priceIncrease=0,"0"==e.qty&&"0.00"===e.extendedPrice?null:(e.qty||(e.qty=(parseFloat(e.extendedPrice)/parseFloat(e.unitPrice)).toFixed(0)),e.margin=void 0!==e.itemNo?(e.SellingPrice-e.cost)/e.cost*100:"",Object(r.a)(Object(r.a)({},e),{},{sp:t,cp:n}))}));kt(t.filter((function(e){return null!==e}))),yt(t.filter((function(e){return null!==e}))),console.log("fetchSavedData_tableData : ",wt)})).catch((function(e){console.log("error on mapping ocrdata",e)}))};return Object(l.useEffect)((function(){var e=new Date;console.log(e);var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();console.log(t),J(t),x.a.auth().onAuthStateChanged((function(e){e?(te(e.email),console.log("This is the user: ",e),console.log("This is the user: ",e.email)):console.log("There is no logged in user")}))}),[]),Object(_.jsxs)("div",{className:"container-fluid",children:[Object(_.jsx)(p.a,{className:A.root,children:Object(_.jsxs)(b.a,{style:{display:"flex"},children:[Object(_.jsx)(u.a,{value:pt,onChange:function(){var e=Object(a.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("newValue",n),n&&(console.log("setSelectedDropdown :",n),bt(n),rn(n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),id:"combo-box",options:f,getOptionLabel:function(e){return e.value},style:{width:200},autoHighlight:!0,renderInput:function(e){return Object(_.jsx)(d.a,Object(r.a)(Object(r.a)({},e),{},{label:U,variant:"outlined"}))}}),Object(_.jsx)("br",{}),Object(_.jsx)(d.a,{label:"Item Name",variant:"outlined",value:re,onChange:function(e){ae(e.target.value)}}),Object(_.jsx)(d.a,{label:"Quantity",variant:"outlined",type:"text",name:"quantity",value:$e,onChange:function(e){Je(e.target.value),console.log("setInvoiceNo_quantity : ",$e)}}),Object(_.jsx)(d.a,{label:"Price",variant:"outlined",type:"text",name:"price",value:et,onChange:function(e){tt(e.target.value),console.log("setInvoiceNo_price : ",et)}}),Object(_.jsx)(d.a,{disabled:!0,label:"Extended Price",variant:"outlined",type:"text",name:"extendedprice",value:($e*et).toFixed(2),onChange:function(e){at(e.target.value),console.log("setInvoiceNo_extendedprice : ",rt)}}),Object(_.jsx)("br",{}),Object(_.jsx)(u.a,{value:Dt.POS,loading:!0,onInputChange:function(e,t){console.log("ON INPUT CHANGE"),null!=e&&setTimeout((function(){tn(e,t)}),1500)},onChange:function(e,t){if(t){var n=Object(r.a)({},Dt);console.log("newValue : ",t),n.item=re,n.isReviewed="true",n.description=t.name,n.barcode=t.upc,n.pos=t.name,n.posSku=t.sku,n.size=t.size,n.department=t.department,n.sellerCost=t.cost,n.sellingPrice=t.price,_t(n),console.log("setPosProduct : ",n),Tt=[],console.log(n)}},id:"combo-box",options:F,getOptionLabel:function(e){var t;return null!==(t=e.label)&&void 0!==t?t:Dt.item},style:{width:400},renderInput:function(e){return Object(_.jsx)(d.a,Object(r.a)(Object(r.a)({},e),{},{label:"POS Product",variant:"outlined"}))}}),Object(_.jsx)("button",{style:{backgroundColor:"green",height:"50px",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left",marginLeft:20},onClick:function(){return Zt("showModal")},children:"Add New Product"})]})}),Object(_.jsx)("p",{children:"Invoice-- ".concat(void 0===pt?"":pt.value)}),Object(_.jsx)("div",{children:Jt()}),Object(_.jsxs)(m.o,{show:Y,onClose:function(){return Zt("showModal")},children:[Object(_.jsx)(m.r,{closeButton:!0,children:B}),Object(_.jsx)(m.p,{children:Object(_.jsx)(m.f,{fluid:!0,children:Object(_.jsx)(m.s,{children:Object(_.jsxs)(m.e,{sm:"12",children:[Object(_.jsxs)(m.s,{children:[Object(_.jsx)(m.e,{sm:"6",children:Object(_.jsxs)(m.k,{children:[Object(_.jsx)(m.m,{htmlFor:"type",children:"Barcode"}),Object(_.jsx)(m.l,{disabled:!0,type:"text",name:"type",value:Dt.barcode,onChange:function(e){return en("barcode",e.target.value)}})]})}),Object(_.jsx)(m.e,{sm:"6",children:Object(_.jsxs)(m.k,{children:[Object(_.jsx)(m.m,{htmlFor:"short_description",children:"POS SKU"}),Object(_.jsx)(m.l,{disabled:!0,type:"text",name:"short_description",value:Dt.posSku,onChange:function(e){return en("posSku",e.target.value)}})]})})]}),Object(_.jsxs)(m.k,{children:[Object(_.jsx)(m.m,{htmlFor:"regular_price",children:"POS Name"}),Object(_.jsx)(m.l,{disabled:!0,type:"text",name:"regular_price",value:Dt.pos,onChange:function(e){return en("pos",e.target.value)}})]}),Object(_.jsxs)(m.k,{children:[Object(_.jsx)(m.m,{htmlFor:"size",children:"POS Size"}),Object(_.jsx)(m.l,{disabled:!0,type:"text",name:"size",value:Dt.size,onChange:function(e){return en("size",e.target.value)}})]}),Object(_.jsxs)(m.k,{children:[Object(_.jsx)(m.m,{htmlFor:"department",children:"Department"}),Object(_.jsx)(m.l,{disabled:!0,type:"text",name:"department",value:Dt.department,onChange:function(e){return en("department",e.target.value)}})]}),Object(_.jsxs)(m.k,{children:[Object(_.jsx)(m.m,{htmlFor:"unitsInCase",children:"Units In Case"}),Object(_.jsx)(m.l,{type:"text",name:"unitsInCase",value:se,onChange:function(e){return le(e.target.value)}})]}),Object(_.jsxs)(m.k,{children:[Object(_.jsx)(m.m,{htmlFor:"caseCost",children:"Case Cost"}),Object(_.jsx)(m.l,{type:"text",name:"caseCost",value:void 0===pe?et:pe,onChange:function(e){return be(e.target.value)}})]}),Object(_.jsxs)(m.k,{children:[Object(_.jsx)(m.m,{htmlFor:"unitPrice",children:"POS Unit Price"}),Object(_.jsx)(m.l,{disabled:!0,type:"text",name:"unitPrice",value:Dt.sellingPrice,onChange:function(e){return en("SellingPrice",e.target.value)}})]}),Object(_.jsxs)(m.k,{children:[Object(_.jsx)(m.m,{htmlFor:"unitCost",children:"POS Unit Cost"}),Object(_.jsx)(m.l,{disabled:!0,type:"text",name:"unitCost",value:Dt.sellerCost,onChange:function(e){return en("SellerCost",e.target.value)}})]})]})})})}),Object(_.jsxs)(m.q,{children:[Object(_.jsx)(m.d,{color:"primary",onClick:function(){Xt(),Zt("details")},children:"Add"})," ",Object(_.jsx)(m.d,{color:"secondary",onClick:Zt,children:"Cancel"})]})]}),Object(_.jsxs)(m.o,{show:Ee,onClose:function(){return Zt("details")},children:[Object(_.jsx)(m.r,{closeButton:!0,children:"Save Invoice Data"}),Object(_.jsx)(m.p,{children:Object(_.jsx)(m.f,{fluid:!0,children:Object(_.jsx)(m.s,{children:Object(_.jsx)(m.e,{sm:"6",children:Object(_.jsxs)(m.k,{children:[Object(_.jsx)(m.m,{htmlFor:"invoiceNo",children:"Invoice No."}),Object(_.jsx)(m.l,{type:"text",name:"invoiceNo",value:He,onChange:function(e){return Be(e.target.value)}}),Object(_.jsx)(m.m,{htmlFor:"date",children:"Date"}),Object(_.jsx)(m.l,{type:"date",name:"date",value:st,onChange:function(e){return lt(e.target.value)}})]})})})})}),Object(_.jsxs)(m.q,{children:[Object(_.jsx)(m.d,{color:"primary",children:"Save Invoice"})," ",Object(_.jsx)(m.d,{color:"secondary",onClick:Zt,children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=8.e22a5c88.chunk.js.map