(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{114:function(e,t,n){"use strict";function r(e){return function(){return null}}n.d(t,"a",(function(){return r}))},120:function(e,t,n){"use strict";function r(e,t,n,r,o){return null}n.d(t,"a",(function(){return r}))},121:function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return r.a})),n.d(t,"createChainedFunction",(function(){return o.a})),n.d(t,"createSvgIcon",(function(){return c.a})),n.d(t,"debounce",(function(){return a.a})),n.d(t,"deprecatedPropType",(function(){return i})),n.d(t,"isMuiElement",(function(){return s.a})),n.d(t,"ownerDocument",(function(){return u.a})),n.d(t,"ownerWindow",(function(){return l.a})),n.d(t,"requirePropFactory",(function(){return p.a})),n.d(t,"setRef",(function(){return d.a})),n.d(t,"unsupportedProp",(function(){return f.a})),n.d(t,"useControlled",(function(){return b.a})),n.d(t,"useEventCallback",(function(){return m.a})),n.d(t,"useForkRef",(function(){return j.a})),n.d(t,"unstable_useId",(function(){return x.a})),n.d(t,"useIsFocusVisible",(function(){return v.a}));var r=n(106),o=n(113),c=n(110),a=n(117);function i(e,t){return function(){return null}}var s=n(118),u=n(107),l=n(119),p=n(114),d=n(109),f=n(120),b=n(126),m=n(112),j=n(105),x=n(128),v=n(127)},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(47);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,c=function(){};return{s:c,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}},151:function(e,t,n){"use strict";var r=n(152),o=n(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(n(2)),a=(0,r(n(155)).default)(c.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");t.default=a},152:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},153:function(e,t,n){var r=n(154).default;function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var c={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(c,i,s):c[i]=e[i]}return c.default=e,n&&n.set(e,c),c},e.exports.default=e.exports,e.exports.__esModule=!0},154:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(121)},173:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return r}))},204:function(e,t,n){"use strict";var r=n(6),o=n(265),c=n(130);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(e,Object(r.a)({defaultTheme:c.a},t))}},205:function(e,t,n){"use strict";var r=n(101),o=n(6),c=n(2),a=(n(21),n(102)),i=n(103),s=[0,1,2,3,4,5,6,7,8,9,10],u=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var p=c.forwardRef((function(e,t){var n=e.alignContent,i=void 0===n?"stretch":n,s=e.alignItems,u=void 0===s?"stretch":s,l=e.classes,p=e.className,d=e.component,f=void 0===d?"div":d,b=e.container,m=void 0!==b&&b,j=e.direction,x=void 0===j?"row":j,v=e.item,O=void 0!==v&&v,h=e.justify,g=void 0===h?"flex-start":h,y=e.lg,S=void 0!==y&&y,N=e.md,P=void 0!==N&&N,w=e.sm,C=void 0!==w&&w,k=e.spacing,I=void 0===k?0:k,E=e.wrap,U=void 0===E?"wrap":E,T=e.xl,D=void 0!==T&&T,A=e.xs,M=void 0!==A&&A,q=e.zeroMinWidth,_=void 0!==q&&q,F=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),R=Object(a.a)(l.root,p,m&&[l.container,0!==I&&l["spacing-xs-".concat(String(I))]],O&&l.item,_&&l.zeroMinWidth,"row"!==x&&l["direction-xs-".concat(String(x))],"wrap"!==U&&l["wrap-xs-".concat(String(U))],"stretch"!==u&&l["align-items-xs-".concat(String(u))],"stretch"!==i&&l["align-content-xs-".concat(String(i))],"flex-start"!==g&&l["justify-xs-".concat(String(g))],!1!==M&&l["grid-xs-".concat(String(M))],!1!==C&&l["grid-sm-".concat(String(C))],!1!==P&&l["grid-md-".concat(String(P))],!1!==S&&l["grid-lg-".concat(String(S))],!1!==D&&l["grid-xl-".concat(String(D))]);return c.createElement(f,Object(o.a)({className:R,ref:t},F))})),d=Object(i.a)((function(e){return Object(o.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(r){var o=e.spacing(r);0!==o&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(l(o,2)),width:"calc(100% + ".concat(l(o),")"),"& > $item":{padding:l(o,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};u.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var o="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:o,flexGrow:0,maxWidth:o}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(o.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(p);t.a=d},257:function(e,t,n){"use strict";n.r(t);var r=n(143),o=n(137),c=n(19),a=n(22),i=n.n(a),s=n(29),u=n(46),l=n(2),p=(n(23),n(271)),d=n(146),f=n(268),b=n(253),m=n(205),j=n(204),x=n(144),v=n(108),O=n(151),h=n.n(O),g=n(115),y=n(162),S=n(129),N=n(145),P=n(161),w=n.n(P),C=n(254),k=n(160),I=n(45),E=n(4),U=Object(j.a)({root:{width:"100%",paddingTop:50},container:{maxHeight:"80vh",marginTop:10},table:{"& thead th":{fontWeight:"600",fontSize:20,backgroundColor:"grey"},"& tbody td":{fontWeight:"300"},"& tbody tr:hover":{backgroundColor:"#fffbf2",cursor:"pointer"}}}),T=[];t.default=function(){var e=new x.a,t=U(),n=Object(l.useState)(""),a=Object(u.a)(n,2),j=a[0],O=a[1],P=Object(l.useState)(d.a[0]),D=Object(u.a)(P,2),A=D[0],M=D[1],q=Object(l.useState)(""),_=Object(u.a)(q,2),F=_[0],R=_[1],z="Select Invoice("+d.a.length+")",B=[],W=(new g.a,Object(l.useState)([])),K=Object(u.a)(W,2),L=K[0],Q=K[1],Y=Object(l.useState)([]),G=Object(u.a)(Y,2),$=G[0],V=G[1],H=Object(l.useState)([]),J=Object(u.a)(H,2),X=J[0],Z=J[1],ee=Object(l.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],re=te[1],oe=Object(l.useState)([]),ce=Object(u.a)(oe,2),ae=ce[0],ie=ce[1],se=Object(l.useState)([]),ue=Object(u.a)(se,2),le=ue[0],pe=ue[1],de=Object(l.useState)(!1),fe=Object(u.a)(de,2),be=fe[0],me=fe[1],je=Object(l.useState)([]),xe=Object(u.a)(je,2),ve=xe[0],Oe=(xe[1],Object(l.useState)(-1)),he=Object(u.a)(Oe,2),ge=he[0],ye=he[1],Se=new v.a,Ne=Object(l.useState)(!1),Pe=Object(u.a)(Ne,2),we=Pe[0],Ce=Pe[1],ke=Object(l.useState)("false"),Ie=Object(u.a)(ke,2),Ee=Ie[0],Ue=Ie[1],Te=Object(l.useState)("false"),De=Object(u.a)(Te,2),Ae=De[0],Me=De[1],qe=Object(l.useState)("false"),_e=Object(u.a)(qe,2),Fe=_e[0],Re=_e[1],ze=Object(l.useState)(""),Be=Object(u.a)(ze,2),We=Be[0],Ke=Be[1],Le=Object(l.useState)("false"),Qe=Object(u.a)(Le,2),Ye=Qe[0],Ge=Qe[1],$e=Object(l.useState)(-1),Ve=Object(u.a)($e,2),He=Ve[0],Je=Ve[1],Xe=[],Ze=[],et=[],tt=Object(l.useState)("false"),nt=Object(u.a)(tt,2),rt=nt[0],ot=nt[1],ct=Object(l.useState)(""),at=Object(u.a)(ct,2),it=at[0],st=at[1],ut=Object(l.useState)(""),lt=Object(u.a)(ut,2),pt=lt[0],dt=lt[1],ft=Object(l.useState)("true"),bt=Object(u.a)(ft,2),mt=(bt[0],bt[1]),jt="",xt=["Serial No.","Barcode","POS SKU","Qty Shipped","ITEM NO","Link Product","DESCRIPTION","Units in  Case","Case cost","Extended Price","Unit Cost ","Unit Price","Mark up (%)","Tick to Delete","Update POS","Serial No.(2)"],vt=Object(l.useState)({item:"",quantity:"",description:"",price:"",pos:"",barcode:"",posSku:"",invoice:"",size:"",department:"",unitCost:"",unitPrice:""}),Ot=Object(u.a)(vt,2),ht=Ot[0],gt=Ot[1];function yt(){return St.apply(this,arguments)}function St(){return(St=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("IN WOOCOM PRODUCTS"),e.next=3,Promise.all(et.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o,c,a,s,u,l,p,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.barcode),e.prev=1,e.next=4,Se.GetProductDetails(t.barcode);case 4:return n=e.sent,console.log(n),r=n[0],o=r.id,c=r.name,a=r.regular_price,s=r.price,u=r.sku,l=r.slug,p=r.stock_quantity,d=r.sale_price,e.abrupt("return",{id:o,name:c,regular_price:a,price:s,sku:u,slug:l,stock_quantity:p,sale_price:d,itemNo:t.itemNo});case 10:return e.prev=10,e.t0=e.catch(1),console.log("Couldn't fetch product from woodpress.",t.itemNo),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()));case 3:t=e.sent,me(!1),console.log(t),Ze=t;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("IN POS PRODUCTS"),me(!0),t=!1,e.next=5,Promise.all(et.map(function(){var e=Object(s.a)(i.a.mark((function e(n){var r,o,a,s,u,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n.barcode),e.prev=1,e.next=4,Se.GetPOSProductDetails(n.barcode);case 4:if(r=e.sent,Array.isArray(r)){e.next=8;break}return alert("API not working"),e.abrupt("return");case 8:if(console.log("fetched pos data",r),o=r[0],a=o.SKU,s=o.UPC,u=o.ITEMNAME,l=o.TOTALQTY,p=o.DEPNAME,console.log(a),console.log(jt),a!=jt){e.next=18;break}return console.log(a),console.log(jt),e.abrupt("return",Object(c.a)(Object(c.a)({},n),{},{COST:n.cp,PRICE:n.sp,SKU:a,UPC:s,ITEMNAME:u,TOTALQTY:parseInt(n.qty)*parseInt(n.pieces)+parseInt(l),itemNo:n.itemNo,isNew:!1,BUYASCASE:1,CASEUNITS:n.pieces.toString(),CASECOST:n.unitPrice.toString(),DEPNAME:p}));case 18:alert("SKU mismatch!!");case 19:e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(1),t=!0,e.abrupt("return",Object(c.a)(Object(c.a)({},n),{},{COST:n.cp,PRICE:n.sp,SKU:n.posSku,UPC:n.barcode,ITEMNAME:n.description,TOTALQTY:parseInt(n.qty)*parseInt(n.pieces),itemNo:n.itemNo,isNew:!0,BUYASCASE:1,CASEUNITS:n.pieces.toString(),CASECOST:n.unitPrice.toString(),DEPNAME:""}));case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}()));case 5:n=e.sent,t&&alert("Couldn't fetch some data from POS"),me(!1),console.log(n),Xe=n,console.log(Xe);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wt=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me(!0),e.next=3,Promise.all(t.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se.UpdateProductDetails(t.id,{regular_price:t.regular_price,stock_quantity:t.stock_quantity});case 3:return n=e.sent,r=n.id,o=n.name,c=n.regular_price,a=n.stock_quantity,e.abrupt("return",{id:r,name:o,regular_price:c,stock_quantity:a,itemNo:t.itemNo});case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),alert("Couldn't update product on website."),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 3:e.sent,me(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me(!0),console.log(t),e.next=4,Promise.all(t.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o,c,a,s,u,l,p,d,f,b,m,j,x,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.COST,r=t.PRICE,o=t.UPC,c=t.TOTALQTY,a=t.isNew,s=t.ITEMNAME,u=t.BUYASCASE,l=t.CASEUNITS,p=t.CASECOST,d=t.SKU,f=t.DEPNAME,b=t.itemNo,e.next=4,Se.UpdatePOSProducts(JSON.stringify({UPC:o,ITEMNAME:s,DESCRIPTION:"",PRICE:r,COST:n,QTY:c,SIZE:"",PACK:"",REPLACEQTY:1,DEPARTMENT:f,CATEGORY:"",SUBCATEGORY:"",ISFOODSTAMP:1,ISWEIGHTED:0,ISTAXABLE:1,VENDORNAME:A.slug,VENDORCODE:b,VENDORCOST:"",ISNEWITEM:a?1:0,BUYASCASE:u,CASEUNITS:l,CASECOST:p,COMPANYNAME:A.slug,PRODUCTCODE:b}));case 4:if(m=e.sent,console.log("updated pos data",m),j={UPC:o,SKU:d,Cost:n,ItemName:s,Price:r,TotalQty:c},!a){e.next=14;break}return e.next=10,Se.CreateDBProduct(j);case 10:x=e.sent,console.log("Created new product",x),e.next=18;break;case 14:return e.next=16,Se.UpdateDBProduct({count:parseInt(t.qty)*parseInt(t.pieces),UPC:o});case 16:v=e.sent,console.log("updated existing product",v);case 18:return console.log("res from POS",m),e.abrupt("return",!0);case 22:return e.prev=22,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}()));case 4:e.sent,me(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log(Xe),me(!0),t=et.map((function(e){return{item:e.itemNo,qty:parseInt(e.qty)*parseInt(e.pieces),cp:e.unitPrice,markup:e.markup,sp:e.sp,description:e.description}})),n={},r=0;r<t.length;r++)n.hasOwnProperty(t[r].item)?n[t[r].item].push(r):t.lastIndexOf(t[r].item)!==r&&(n[t[r].item]=[r]);if((o=Object.values(n).filter((function(e){return e.length>1}))).length>0&&o.forEach((function(e){var n=0;e.forEach((function(e){t[e]&&(n+=t[e].qty)-t[e].qty!==0&&(t[e]=null)})),t[e[0]].qty=n})),t=t.filter((function(e){return null!==e})),console.log(Ze.length),null==Ze[0]){e.next=14;break}return c=t.map((function(e,t){var n=Ze.findIndex((function(t){return e.item===t.itemNo}));if(-1!==n){var r=Ze[n],o=r.id,c=r.stock_quantity;return c+=e.qty,{id:o,regular_price:e.sp,stock_quantity:c,itemNo:e.item}}return null})).filter((function(e){return null!==e})),console.log(c),e.next=14,wt(c);case 14:return e.next=16,Ct(Xe);case 16:me(!1),window.alert("Inventory updated successfully");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var It=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o,a,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(L),n=[],r=$.map((function(e){return L[e]})),o=[],n.push(L[t]),console.log(n),n.isUpdated="true",n.itemNo,n.forEach((function(e,t){if(!$.includes(t)&&!0===e.show&&1!=e.isForReview){var n=Object(c.a)({index:t+1},e);o.push(n)}})),console.log(o),0===$.length){e.next=16;break}return me(!0),e.next=14,Promise.all(r.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={Item:t.itemNo,Description:t.description,Quantity:t.qty,Price:t.unitPrice,sku:t.sku,Barcode:t.barcode,PosSKU:t.posSku,InvoiceName:A.slug},e.next=4,Se.CreateNotFoundItems(n);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Couldn't create not found product",t.description,{error:e.t0}),alert("Couldn't create product on website."),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 14:e.sent,me(!1);case 16:return a=o.filter((function(e){return 0!==e.priceIncrease})),me(!0),e.next=20,Promise.all(a.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={invoiceName:A.slug,itemName:t.itemNo,value:{Price:t.unitPrice}},console.log(n),e.next=5,Se.UpdateProductFields(n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("couldn't update price for product ".concat(t.itemNo));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 20:return e.sent,me(!1),o[0].isUpdated="true",et=o,console.log(et),jt=et[0].posSku,e.next=28,yt();case 28:return e.next=30,Nt();case 30:if(console.log(Xe),void 0==Xe[0]){e.next=47;break}return e.next=34,kt();case 34:return console.log(Ze),console.log(Xe),console.log(et),Ge("true"),Je(t),console.log(et),console.log(et.itemNo),e.next=41,Se.UpdateInvoiceData(A.slug,F,j,et[0].itemNo);case 41:return u={cost:et[0].cp,price:et[0].sp,item:et[0].itemNo,invoice:A.slug},e.next=44,Se.UpdateDBafterPosUpdate(u);case 44:Ut(),e.next=49;break;case 47:alert("POS not updated!!"),Ut();case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var t=Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetSavedInvoiceData(A.slug,F,j);case 2:if(n=t.sent,console.log(n),0!==n.length){t.next=8;break}alert("INvoice doesnt Exist!!"),t.next=9;break;case 8:return t.abrupt("return",n[0].InvoiceData);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ut=function(){function t(){return(t=Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetProductDetails(A.slug);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}me(!0),Et().then((function(e){(function(){return t.apply(this,arguments)})().then((function(t){t=function(e){var t={};for(var n in e)t[n.toUpperCase()]=e[n];return t}(t),console.log(t);var n=e.map((function(e){void 0===e.itemNo&&(e.itemNo=e.description.trim().toUpperCase()),e.itemNo=e.itemNo.toString().toUpperCase(),e.description=void 0!==t[e.itemNo]?t[e.itemNo].Description:e.description,e.pieces=void 0!==t[e.itemNo]?t[e.itemNo].Quantity:0,e.sku=void 0!==t[e.itemNo]?t[e.itemNo].sku:"",e.barcode=void 0!==t[e.itemNo]?t[e.itemNo].Barcode:"",e.posName=void 0!==t[e.itemNo]?t[e.itemNo].POS:"",e.markup=0,e.show=!0,e.posSku=void 0!==t[e.itemNo]?t[e.itemNo].PosSKU:"",e.isReviewed=void 0!==t[e.itemNo]?t[e.itemNo].isReviewed:"",e.size=void 0!==t[e.itemNo]?t[e.itemNo].Size:"",e.department=void 0!==t[e.itemNo]?t[e.itemNo].Department:"",e.cost=void 0!==t[e.itemNo]?t[e.itemNo].SellerCost:"",e.sellingPrice=void 0!==t[e.itemNo]?t[e.itemNo].SellingPrice:"",e.price=void 0!==t[e.itemNo]?t[e.itemNo].Price:"";var n=0,r=0;return parseInt(e.pieces)&&(r=n=(parseFloat(e.unitPrice)/parseInt(e.pieces)).toFixed(2)),void 0!==t[e.itemNo]?n>+t[e.itemNo].SellerCost?e.priceIncrease=1:n<+t[e.itemNo].SellerCost?e.priceIncrease=-1:n==+t[e.itemNo].SellerCost&&(e.priceIncrease=0):e.priceIncrease=0,"0"==e.qty&&"0.00"===e.extendedPrice?null:(e.qty||(e.qty=(parseFloat(e.extendedPrice)/parseFloat(e.unitPrice)).toFixed(0)),Object(c.a)(Object(c.a)({},e),{},{sp:n,cp:r}))}));me(!1),Q(n.filter((function(e){return null!==e}))),pe(Object.keys(t)),Z(t)})).catch((function(e){console.log("error on mapping ocrdata",e),me(!1)}))}))},Tt=function(){Ce(!we)},Dt=function(e,t){var n;"true"===rt?(console.log("notfoundstrue"),n={invoiceName:A.slug,itemName:ht.item,value:{POS:ht.pos,Barcode:ht.barcode,PosSKU:ht.posSku,isReviewed:"true",Description:ht.description,Size:ht.size,Department:ht.department,SellerCost:ht.unitCost,SellingPrice:ht.unitPrice,Quantity:it,Price:pt}},Tt()):n={invoiceName:A.slug,itemName:ht.item,value:{POS:ht.pos,Barcode:ht.barcode,PosSKU:ht.posSku,isReviewed:"true",Size:ht.size,Department:ht.department,SellerCost:ht.unitCost,SellingPrice:ht.unitPrice}},console.log(n),Se.UpdateProductFields(n).then((function(e){if(!e)throw new Error("Product not created");console.log(e),alert("Successfully updated fields"),Ue(!0)})).catch((function(e){console.log(e),alert("Some error occuured in creating product")})).finally((function(){me(!1),Ue("true"),t>We&&(Me("true"),Re("")),t<We&&(Re("true"),Me("")),"true"===rt&&(ot("false"),Ut())}))},At=function(){var e=Object(o.a)(L);e.push({qty:0,itemNo:"",description:"",pieces:0,unitPrice:0,extendedPrice:"",markup:0,sp:0,show:!0,showPOS:""}),T.push(e.length-1),V(T),Q(e)},Mt=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$.map((function(e){return L[e]})),n=[],L.forEach((function(e,t){if(!$.includes(t)&&!0===e.show&&1!=e.isForReview){var r=Object(c.a)({index:t+1},e);n.push(r)}})),0===$.length){e.next=9;break}return me(!0),e.next=7,Promise.all(t.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={Item:t.itemNo,Description:t.description,Quantity:t.qty,Price:t.unitPrice,sku:t.sku,Barcode:t.barcode,PosSKU:t.posSku,InvoiceName:A},e.next=4,Se.CreateNotFoundItems(n);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Couldn't create not found product",t.description,{error:e.t0}),alert("Couldn't create product on website."),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 7:e.sent,me(!1);case 9:return r=n.filter((function(e){return 0!==e.priceIncrease})),me(!0),e.next=13,Promise.all(r.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={invoiceName:A,itemName:t.itemNo,value:{Price:t.unitPrice}},e.next=4,Se.UpdateProductFields(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("couldn't update price for product ".concat(t.itemNo));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 13:e.sent,me(!1),ie(_t(n)),re(!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r){var c,a,s,u,l,p,d,f,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=Object(o.a)(L))[t][n]=r,a=c[t].itemNo,""!==c[t].qty&&""!==c[t].itemNo&&""!==c[t].unitPrice?(s=T.indexOf(t))>-1&&T.splice(s,1):T.push(t),V(T),"itemNo"===n&&(c[t].description=X[r].Description,c[t].pieces=X[r].Quantity,c[t].sku=X[r].sku,c[t].barcode=X[r].Barcode,c[t].posName=X[r].POS,c[t].posSku=X[r].PosSKU),"unitPrice"!==n&&"sp"!==n&&"itemNo"!==n||(u=parseFloat(c[t].cp),l=parseFloat(c[t].sp),p=(l-u)/u*100,d=parseFloat(c[t].unitPrice)/c[t].pieces,c[t].markup=isNaN(p)?0:p.toFixed(2),c[t].cp=isNaN(d)?0:d.toFixed(2)),"qty"!==n&&"unitPrice"!==n||(f=parseFloat(c[t].qty)*parseFloat(c[t].unitPrice),b=c[t].unitPrice/c[t].pieces,isNaN(f)||(c[t].extendedPrice=f.toFixed(2)),isNaN(b)||(c[t].cp=b.toFixed(2))),a&&(+c[t].unitPrice>+X[a].Price?c[t].priceIncrease=1:+c[t].unitPrice<+X[a].Price?c[t].priceIncrease=-1:+c[t].unitPrice==+X[a].Price&&(c[t].priceIncrease=0)),"barcode"===n&&(c[t].barcode=r),Q(c);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),_t=function(e){for(var t=Object(o.a)(e),n=new Map,a=0;a<t.length;a++)if(n.has(t[a].itemNo)){var i=Object(c.a)({},n.get(t[a].itemNo));i.qty=(parseFloat(i.qty)+parseFloat(t[a].qty)).toString(),n.set(t[a].itemNo,i)}else n.set(t[a].itemNo,t[a]);var s,u=[],l=Object(r.a)(n.values());try{for(l.s();!(s=l.n()).done;){var p=s.value;u.push(p)}}catch(d){l.e(d)}finally{l.f()}return u};return Object(l.useEffect)((function(){}),[]),be?Object(E.jsx)(I.a,{}):Object(E.jsxs)("div",{className:"container-fluid",children:[Object(E.jsx)(b.a,{className:t.root,children:Object(E.jsxs)(m.a,{style:{display:"flex"},children:[Object(E.jsx)(f.a,{value:A,onChange:function(e,t){t&&M(t)},id:"combo-box",options:d.a,getOptionLabel:function(e){return e.value},style:{width:300},autoHighlight:!0,renderInput:function(e){return Object(E.jsx)(p.a,Object(c.a)(Object(c.a)({},e),{},{label:z,variant:"outlined"}))}}),Object(E.jsx)(p.a,{label:"Invoice No.",variant:"outlined",value:F,style:{marginLeft:20},onChange:function(e){return R(e.target.value)}}),Object(E.jsx)(p.a,{id:"date",label:"Date",type:"date",value:j,style:{marginLeft:20},InputLabelProps:{shrink:!0},onChange:function(e){return O(e.target.value)}}),Object(E.jsx)("button",{style:{backgroundColor:"green",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left",marginLeft:20},onClick:Ut,children:"Fetch Invoice Data"})]})}),ne?Object(E.jsx)(k.a,{newInventoryData:ae,header:xt,goBack:re,invoice:A}):function(){if(function(e){for(var t="",n=0;n<e.length;n++)t=t+e[n].name+"$$$";for(var r=t.split("$$$"),o=[],a=0;a<r.length;a++){var i=r[a].split("@@@"),s={sku:"nan"===i[1]?null:i[1],upc:"nan"===i[0]?null:i[0],altupc1:"nan"===i[14]?null:i[14],altupc2:"nan"===i[15]?null:i[15],name:"nan"===i[2]?null:i[2],vintage:"nan"===i[8]?null:i[8],totalQty:"nan"===i[13]?null:i[13],cost:"nan"===i[4]?null:i[4],pricea:"nan"===i[10]?null:i[10],priceb:"nan"===i[11]?null:i[11],pricec:"nan"===i[12]?null:i[12],department:"nan"===i[9]?null:i[9],salePrice:"nan"===i[5]?null:i[5],size:"nan"===i[6]?null:i[6],pack:"nan"===i[7]?null:i[7],price:"nan"===i[3]?null:i[3]};o.push(s)}var u=o.map((function(e){var t=Object(c.a)({},e);return t.label="".concat(e.name,"- ").concat(e.price,"- ").concat(e.upc," - ").concat(e.size,"-").concat(e.cost),t}));B=u}(y),L){console.log(L);var e=L.map((function(e,t){var n=""===e.qty||""===e.itemNo||!e.pieces||isNaN(e.unitPrice)||""===e.unitPrice||isNaN(e.extendedPrice);if(n&&e.show){var r=[].concat(Object(o.a)(T),[t]);T=Object(o.a)(new Set(r))}var a=0!=e.qty&&"0.00"===e.extendedPrice;return Object(E.jsxs)("tr",{className:n?w.a.red:a?w.a.free:null,style:"true"===e.isUpdated||"true"===Ye&&He===t?{backgroundColor:"lightGreen"}:e.show?{opacity:"1"}:{opacity:"0.4"},children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsxs)("td",{className:w.a.element,children:[Object(E.jsx)(p.a,{type:"tel",value:ge===t?ht.barcode:e.barcode,id:"outlined-secondary",variant:"outlined",onChange:function(e){qt(t,"barcode",e.target.value)},style:{width:150}}),Object(E.jsx)(C.a,{color:"primary","aria-label":"add to review",children:Object(E.jsx)(h.a,{style:ve.includes(t)?{backgroundColor:"green"}:null})}),Object(E.jsxs)("div",{className:"true"===e.isReviewed||ge===t&&"true"===Ee?w.a.tooltipIsReviewed:w.a.tooltip,children:[Object(E.jsxs)("p",{children:["POS Product- ",ge===t?ht.pos:e.posName]}),Object(E.jsxs)("p",{children:["Size- ",ge===t?ht.size:e.size]}),Object(E.jsxs)("p",{children:["Department - ",ge===t?ht.department:e.department]}),Object(E.jsxs)("p",{children:["Unit Cost- ",ge===t?ht.unitCost:e.cost]}),Object(E.jsxs)("p",{children:["Unit Price- ",ge===t?ht.unitPrice:e.sellingPrice]}),Object(E.jsxs)("p",{children:["Price- ",ge===t?ht.price:e.price]}),Object(E.jsx)("div",{children:Object(E.jsx)("button",{onClick:function(){"true"===rt?Tt():Dt(A.slug,(parseFloat(e.unitPrice)/parseInt(e.pieces)).toFixed(2))},disabled:ge!==t,style:{backgroundColor:"green",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left"},children:"Update Item"})})]})]}),Object(E.jsx)("td",{children:ge===t?ht.posSku:e.posSku}),Object(E.jsx)("td",{children:Object(E.jsx)(p.a,{type:"tel",value:e.qty,id:"outlined-secondary",variant:"outlined",onChange:function(e){qt(t,"qty",e.target.value)},style:{width:100}})}),Object(E.jsx)("td",{children:Object(E.jsx)(f.a,{value:e.itemNo,onChange:function(e,n){n&&qt(t,"itemNo",n)},id:"combo-box",options:le,getOptionLabel:function(e){return e},style:{width:200},renderInput:function(e){return Object(E.jsx)(p.a,Object(c.a)(Object(c.a)({},e),{},{variant:"outlined"}))}})}),Object(E.jsx)("td",{children:Object(E.jsx)(f.a,{value:ge===t?ht.item:e.itemNo,onChange:function(r,o){if(o){var a=Object(c.a)({},ht);a.item=e.itemNo,a.description=o.name,a.barcode=o.upc,a.pos=o.name,a.posSku=o.sku,a.size=o.size,a.department=o.department,a.unitCost=o.cost,a.unitPrice=o.price,gt(a),ye(t),Ke(o.cost),Ue(""),n&&(ot("true"),mt("false")),console.log(a)}},id:"combo-box",options:B,getOptionLabel:function(t){var n;return null!==(n=t.label)&&void 0!==n?n:e.itemNo},style:{width:400},renderInput:function(e){return Object(E.jsx)(p.a,Object(c.a)(Object(c.a)({},e),{},{variant:"outlined"}))}})}),Object(E.jsx)("td",{children:e.description}),Object(E.jsx)("td",{children:e.pieces}),Object(E.jsx)("td",{children:Object(E.jsx)(p.a,{type:"tel",value:e.unitPrice,variant:"outlined",onChange:function(e){qt(t,"unitPrice",e.target.value)},style:ge===t?"true"===Ae?{backgroundColor:"#1a8cff",width:100}:"true"===Fe?{backgroundColor:"#ffb31a",width:100}:{width:100}:1===e.priceIncrease?{backgroundColor:"#1a8cff",width:100}:-1===e.priceIncrease?{backgroundColor:"#ffb31a",width:100}:{width:100}})}),Object(E.jsx)("td",{children:e.extendedPrice}),Object(E.jsx)("td",{children:e.cp}),Object(E.jsx)("td",{children:Object(E.jsx)(p.a,{type:"tel",value:e.sp,variant:"outlined",onChange:function(e){qt(t,"sp",e.target.value)},style:{width:100}})}),Object(E.jsx)("td",{children:e.markup}),Object(E.jsx)("td",{children:Object(E.jsx)(N.a,{text:e.show?"Delete":"Undo",color:"btn btn-info",type:"submit",onClick:function(){return function(e){var t=Object(o.a)(L);if(L[e].show){if(window.confirm("Delete the item?")){t[e].show=!1;var n=T.indexOf(e);n>-1&&T.splice(n,1)}}else if(t[e].show=!0,""!==t[e].qty&&""!==t[e].itemNo&&""!==t[e].unitPrice){var r=T.indexOf(e);r>-1&&T.splice(r,1)}else T.push(e);Q(t),V(T)}(t)}})}),Object(E.jsx)("td",{children:Object(E.jsx)(N.a,{text:"Update POS",color:"btn btn-info",type:"submit",onClick:function(){return It(t)},style:{width:120}})}),Object(E.jsx)("td",{children:t+1})]},t)}));return Object(E.jsxs)("div",{style:{marginTop:"70px"},children:[Object(E.jsx)("table",{className:"table table-hover table-responsive-sm",children:Object(E.jsxs)("tbody",{children:[Object(E.jsx)("tr",{children:xt.map((function(e,t){return Object(E.jsx)("th",{style:{position:"sticky",top:"70px",background:"grey"},children:e.toUpperCase()},t)}))}),e,Object(E.jsx)("tr",{children:Object(E.jsx)("td",{children:Object(E.jsx)(N.a,{text:"Add cell",color:"btn btn-info",onClick:At})})})]})}),Object(E.jsxs)("div",{className:w.a.divRow,children:[Object(E.jsx)(N.a,{text:"Update Inventory",color:"btn btn-info",type:"submit",onClick:Mt}),Object(E.jsx)(N.a,{text:"Re upload",color:"btn btn-info",type:"submit",onClick:function(){return window.location.reload()}})]})]})}}(),Object(E.jsxs)(S.o,{show:we,onClose:Tt,children:[Object(E.jsx)(S.r,{closeButton:!0,children:"Add Red Products"}),Object(E.jsx)(S.p,{children:Object(E.jsx)(S.f,{fluid:!0,children:Object(E.jsx)(S.s,{children:Object(E.jsx)(S.e,{sm:"6",children:Object(E.jsxs)(S.k,{children:[Object(E.jsx)(S.m,{htmlFor:"invoiceNo",children:"Units In Case"}),Object(E.jsx)(S.l,{type:"text",name:"unitsInCase",value:it,onChange:function(e){return st(e.target.value)}}),Object(E.jsx)(S.m,{htmlFor:"date",children:"Price"}),Object(E.jsx)(S.l,{type:"text",name:"price",value:pt,onChange:function(e){return dt(e.target.value)}})]})})})})}),Object(E.jsxs)(S.q,{children:[Object(E.jsx)(S.d,{color:"primary",onClick:Dt,children:"ADD"})," ",Object(E.jsx)(S.d,{color:"secondary",onClick:Tt,children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=6.2f95bc48.chunk.js.map