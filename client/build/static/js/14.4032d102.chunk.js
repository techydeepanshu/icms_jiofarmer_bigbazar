(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{121:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var n=c(29),r=c(18),a=c(17),s=c(22),i=c.n(s),o=c(47),l=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"GetFuzz",value:function(){var e=Object(n.a)(i.a.mark((function e(t,c){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,c),e.next=3,o.b.get("/server/api/fuzzwuzz",{params:{name:t,type:c}});case 3:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}]),e}()},254:function(e,t,c){"use strict";c.r(t);var n=c(114),r=c(5),a=c(45),s=c(2),i=c(31),o=c(117),l=c(121),j=c(134),u=c(51),b=c(46),d=c(205),O=c(261),m=c(4);t.default=function(){var e=new o.a,t=new l.a,c=Object(s.useState)([]),p=Object(a.a)(c,2),h=p[0],x=p[1],g=Object(s.useState)(!0),f=Object(a.a)(g,2),v=f[0],y=f[1],k=Object(s.useState)([]),N=Object(a.a)(k,2),S=N[0],w=N[1],C=Object(s.useState)(!1),_=Object(a.a)(C,2),z=_[0],F=_[1],q=Object(s.useState)(null),P=Object(a.a)(q,2),T=(P[0],P[1]),B=Object(s.useState)([]),D=Object(a.a)(B,2),A=(D[0],D[1]),G=Object(s.useState)([]),J=Object(a.a)(G,2),E=J[0],I=J[1],L=Object(s.useState)(""),R=Object(a.a)(L,2),H=R[0],K=R[1],M=Object(s.useState)(""),Q=Object(a.a)(M,2),U=Q[0],V=Q[1],W=Object(s.useState)({name:"",type:"",regular_price:"",description:"",short_description:"",categories:[],images:[],label:""}),X=Object(a.a)(W,2),Y=X[0],Z=X[1],$=function(e,t){var c=Object(r.a)({},Y);if("categories"!==e.target.name&&"images"!==e.target.name)c[e.target.name]=e.target.value;else{var n=null;"categories"===e.target.name?(n={id:t},c[e.target.name]=[n]):(n={src:t},c[e.target.name].push(n))}Z(c)},ee=function(){F(!z)};Object(s.useEffect)((function(){u.a.database().ref("/queue").on("value",(function(e){if(e.val()){var t=Object.values(e.val());x(t),y(!1)}}));var t=[];e.getAllProducts().then((function(e){t=e.map((function(e){return e.categories[0].id})),w(Object(n.a)(new Set(t)))})).catch((function(e){return console.log(e)}))}),[]);var te=function(e){console.log("item to be deleted",e);try{u.a.database().ref("/queue/".concat(e)).remove();var t=Object(n.a)(h).filter((function(t){return t.itemNo!==e}));return x(t),!0}catch(c){return console.log(c),!1}};return v?Object(m.jsx)(b.a,{}):Object(m.jsxs)("div",{style:{marginTop:"90px"},children:[Object(m.jsx)("div",{className:"row",children:h.map((function(e,c){return Object(m.jsx)("div",{className:"col-md-4",style:{padding:"10px"},children:Object(m.jsxs)("div",{style:{border:"1px solid grey",margin:"10px"},children:[Object(m.jsx)("div",{className:"text-center bg-secondary",children:e.itemNo}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"text-center",children:e.description}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"row",style:{marginBottom:"10px"},children:[Object(m.jsx)("div",{className:"col-md-9"}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("button",{className:"btn btn-sm btn-primary",onClick:function(){F(!0),K(e.description),V(e.itemNo),function(e){T(e);var c=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&c.push(n);A(c);var a={name:e.description,type:"simple",regular_price:e.cp,description:e.description,short_description:e.description,categories:[],images:[],label:e.description};Z(a),t.GetFuzz(e.description,"queue").then((function(e){var t=e.result.map((function(e){var t=Object(r.a)({},e);return t.label="".concat(e.name,"- ").concat(e.price,"- ").concat(e.upc),t}));I(t)})).catch((function(e){return console.log(e)}))}(e)},children:"Details"})})]})]})},e.sku)}))}),Object(m.jsxs)(j.o,{show:z,onClose:ee,children:[Object(m.jsx)(j.r,{closeButton:!0,children:H}),Object(m.jsx)(j.p,{children:Object(m.jsx)(j.f,{fluid:!0,children:Object(m.jsx)(j.s,{children:Object(m.jsxs)(j.e,{sm:"12",children:[Object(m.jsxs)(j.k,{children:[Object(m.jsx)(j.m,{htmlFor:"name",children:"Name"}),Object(m.jsx)(d.a,{value:Y,onChange:function(e,t){if(t){var c=Object(r.a)({},Y);console.log(t),c.name=t.name,c.short_description=t.name,c.description=t.name,c.regular_price=t.price,c.label=t.name,Z(c)}},id:"combo-box",options:E,getOptionLabel:function(e){var t;return null!==(t=e.label)&&void 0!==t?t:e.name},style:{paddingTop:4},renderInput:function(e){return Object(m.jsx)(O.a,Object(r.a)(Object(r.a)({},e),{},{variant:"outlined",size:"small"}))}})]}),Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.e,{sm:"6",children:Object(m.jsxs)(j.k,{children:[Object(m.jsx)(j.m,{htmlFor:"type",children:"Type"}),Object(m.jsx)(j.l,{type:"text",name:"type",value:Y.type,onChange:function(e){return $(e,"")}})]})}),Object(m.jsx)(j.e,{sm:"6",children:Object(m.jsxs)(j.k,{children:[Object(m.jsx)(j.m,{htmlFor:"regular_price",children:"Regular Price"}),Object(m.jsx)(j.l,{type:"text",name:"regular_price",value:Y.regular_price,onChange:function(e){return $(e,"")}})]})})]}),Object(m.jsxs)(j.k,{children:[Object(m.jsx)(j.m,{htmlFor:"description",children:"Description"}),Object(m.jsx)(j.l,{type:"text",name:"description",value:Y.description,onChange:function(e){return $(e,"")}})]}),Object(m.jsxs)(j.k,{children:[Object(m.jsx)(j.m,{htmlFor:"short_description",children:"Short Description"}),Object(m.jsx)(j.l,{type:"text",name:"short_description",value:Y.short_description,onChange:function(e){return $(e,"")}})]}),Object(m.jsxs)(j.s,{children:[Object(m.jsx)(j.e,{sm:"3",children:Object(m.jsxs)(j.k,{children:[Object(m.jsx)(j.m,{htmlFor:"categories",children:"Category"}),Object(m.jsxs)(j.g,{name:"categories",className:"mt-2",children:[Object(m.jsx)(j.j,{caret:!0,children:0===Y.categories.length?"Select a Category":Y.categories[0].id}),Object(m.jsx)(j.i,{children:S.map((function(e,t){return Object(m.jsx)(j.h,{name:"categories",onClick:function(t){return $(t,e)},children:e},t)}))})]})]})}),Object(m.jsx)(j.e,{sm:"9"})]})]})})})}),Object(m.jsxs)(j.q,{children:[Object(m.jsx)(j.d,{color:"primary",onClick:function(){return console.log(U),F(!z),void e.createProduct(Y).then((function(){return te(U)})).then((function(e){return alert("Successfully created a product")})).catch((function(e){return alert("Some error occuured in creating product")}))},children:"Add"})," ",Object(m.jsx)(j.d,{color:"secondary",onClick:ee,children:"Cancel"})]})]}),Object(m.jsx)("div",{className:"row",style:{marginTop:"40px"},children:Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)(i.b,{className:"btn btn-lg btn-info",to:"/invoice",children:"Back"})})})]})}}}]);
//# sourceMappingURL=14.4032d102.chunk.js.map