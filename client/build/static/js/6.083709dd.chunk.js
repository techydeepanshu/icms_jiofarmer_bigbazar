/*! For license information please see 6.083709dd.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{123:function(e,t,n){"use strict";function r(e){return function(){return null}}n.d(t,"a",(function(){return r}))},162:function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return r.a})),n.d(t,"createChainedFunction",(function(){return o.a})),n.d(t,"createSvgIcon",(function(){return c.a})),n.d(t,"debounce",(function(){return a.a})),n.d(t,"deprecatedPropType",(function(){return i})),n.d(t,"isMuiElement",(function(){return s.a})),n.d(t,"ownerDocument",(function(){return l.a})),n.d(t,"ownerWindow",(function(){return u.a})),n.d(t,"requirePropFactory",(function(){return d.a})),n.d(t,"setRef",(function(){return p.a})),n.d(t,"unsupportedProp",(function(){return f.a})),n.d(t,"useControlled",(function(){return b.a})),n.d(t,"useEventCallback",(function(){return m.a})),n.d(t,"useForkRef",(function(){return j.a})),n.d(t,"unstable_useId",(function(){return v.a})),n.d(t,"useIsFocusVisible",(function(){return O.a}));var r=n(141),o=n(152),c=n(148),a=n(156);function i(e,t){return function(){return null}}var s=n(158),l=n(144),u=n(159),d=n(123),p=n(146),f=n(181),b=n(175),m=n(151),j=n(142),v=n(176),O=n(177)},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(60);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,c=function(){};return{s:c,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}},178:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},179:function(e,t,n){var r=n(222).default;function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var c={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(c,i,s):c[i]=e[i]}return c.default=e,n&&n.set(e,c),c},e.exports.default=e.exports,e.exports.__esModule=!0},180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(162)},181:function(e,t,n){"use strict";function r(e,t,n,r,o){return null}n.d(t,"a",(function(){return r}))},192:function(e,t,n){"use strict";var r=n(178),o=n(179);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(n(2)),a=(0,r(n(180)).default)(c.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");t.default=a},193:function(e,t,n){"use strict";var r=n(178),o=n(179);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(n(2)),a=(0,r(n(180)).default)(c.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=a},195:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return r}))},220:function(e,t,n){"use strict";var r=n(3),o=n(137),c=n(59);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(e,Object(r.a)({defaultTheme:c.a},t))}},221:function(e,t,n){"use strict";var r=n(178),o=n(179);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(n(2)),a=(0,r(n(180)).default)(c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.default=a},222:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},280:function(e,t,n){"use strict";n.r(t);var r=n(167),o=n(161),c=n(24),a=n(27),i=n.n(a),s=n(35),l=n(58),u=n(2),d=(n(28),n(278)),p=n(170),f=n(275),b=n(262),m=n(134),j=n(220),v=n(168),O=n(143),h=n(192),x=n.n(h),g=n(145),N=(n(188),n(153)),S=n(169),y=n(187),k=n.n(y),C=n(263),P=n(186),w=n(57),I=n(221),D=n.n(I),U=n(259),E=n(3),T=n(10),A=(n(17),n(54)),M=n(55),F=n(141),q=44,_=u.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.color,c=void 0===o?"primary":o,a=e.disableShrink,i=void 0!==a&&a,s=e.size,l=void 0===s?40:s,d=e.style,p=e.thickness,f=void 0===p?3.6:p,b=e.value,m=void 0===b?0:b,j=e.variant,v=void 0===j?"indeterminate":j,O=Object(T.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),h={},x={},g={};if("determinate"===v||"static"===v){var N=2*Math.PI*((q-f)/2);h.strokeDasharray=N.toFixed(3),g["aria-valuenow"]=Math.round(m),h.strokeDashoffset="".concat(((100-m)/100*N).toFixed(3),"px"),x.transform="rotate(-90deg)"}return u.createElement("div",Object(E.a)({className:Object(A.a)(n.root,r,"inherit"!==c&&n["color".concat(Object(F.a)(c))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[v]),style:Object(E.a)({width:l,height:l},x,d),ref:t,role:"progressbar"},g,O),u.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(q," ").concat(q)},u.createElement("circle",{className:Object(A.a)(n.circle,i&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[v]),style:h,cx:q,cy:q,r:(q-f)/2,fill:"none",strokeWidth:f})))})),z=Object(M.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(_),R=n(5);R.default.registerVersion("firebase","8.6.3","app");n(82);var L=n(193),Y=n.n(L),B=n(4),K=Object(j.a)({root:{width:"100%",paddingTop:50},container:{maxHeight:"80vh",marginTop:10},table:{"& thead th":{fontWeight:"600",fontSize:20,backgroundColor:"grey"},"& tbody td":{fontWeight:"300"},"& tbody tr:hover":{backgroundColor:"#fffbf2",cursor:"pointer"}}}),Q=[];t.default=function(){var e=new v.a,t=K(),n=Object(u.useState)(""),a=Object(l.a)(n,2),j=(a[0],a[1],Object(u.useState)({})),h=Object(l.a)(j,2),y=h[0],I=h[1],E=Object(u.useState)(""),T=Object(l.a)(E,2),A=(T[0],T[1],"Select Invoice("+p.a.length+")"),M=Object(u.useState)(""),F=Object(l.a)(M,2),q=F[0],_=F[1],L=Object(u.useState)(""),$=Object(l.a)(L,2),G=$[0],W=$[1],H=Object(u.useState)(""),J=Object(l.a)(H,2),V=J[0],X=J[1],Z=Object(u.useState)(!1),ee=Object(l.a)(Z,2),te=ee[0],ne=ee[1],re=Object(u.useState)([]),oe=Object(l.a)(re,2),ce=(oe[0],oe[1]),ae=(new g.a,Object(u.useState)([])),ie=Object(l.a)(ae,2),se=ie[0],le=ie[1],ue=Object(u.useState)([]),de=Object(l.a)(ue,2),pe=de[0],fe=de[1],be=Object(u.useState)([]),me=Object(l.a)(be,2),je=me[0],ve=me[1],Oe=Object(u.useState)(!1),he=Object(l.a)(Oe,2),xe=he[0],ge=he[1],Ne=Object(u.useState)([]),Se=Object(l.a)(Ne,2),ye=Se[0],ke=Se[1],Ce=Object(u.useState)([]),Pe=Object(l.a)(Ce,2),we=Pe[0],Ie=Pe[1],De=Object(u.useState)(!1),Ue=Object(l.a)(De,2),Ee=Ue[0],Te=Ue[1],Ae=Object(u.useState)([]),Me=Object(l.a)(Ae,2),Fe=Me[0],qe=(Me[1],Object(u.useState)(-1)),_e=Object(l.a)(qe,2),ze=_e[0],Re=_e[1],Le=new O.a,Ye=Object(u.useState)(!1),Be=Object(l.a)(Ye,2),Ke=Be[0],Qe=Be[1],$e=Object(u.useState)("false"),Ge=Object(l.a)($e,2),We=(Ge[0],Ge[1]),He=Object(u.useState)("false"),Je=Object(l.a)(He,2),Ve=(Je[0],Je[1]),Xe=Object(u.useState)("false"),Ze=Object(l.a)(Xe,2),et=(Ze[0],Ze[1]),tt=Object(u.useState)(""),nt=Object(l.a)(tt,2),rt=nt[0],ot=nt[1],ct=Object(u.useState)("false"),at=Object(l.a)(ct,2),it=(at[0],at[1]),st=Object(u.useState)(-1),lt=Object(l.a)(st,2),ut=(lt[0],lt[1]),dt=[],pt=[],ft=[],bt=Object(u.useState)("false"),mt=Object(l.a)(bt,2),jt=mt[0],vt=mt[1],Ot=Object(u.useState)(""),ht=Object(l.a)(Ot,2),xt=ht[0],gt=ht[1],Nt=Object(u.useState)(""),St=Object(l.a)(Nt,2),yt=St[0],kt=St[1],Ct=Object(u.useState)("true"),Pt=Object(l.a)(Ct,2),wt=(Pt[0],Pt[1]),It="",Dt=Object(u.useState)(""),Ut=Object(l.a)(Dt,2),Et=(Ut[0],Ut[1],Object(u.useState)([])),Tt=Object(l.a)(Et,2),At=Tt[0],Mt=Tt[1],Ft=Object(u.useState)(!1),qt=Object(l.a)(Ft,2),_t=qt[0],zt=qt[1],Rt=Object(u.useState)([]),Lt=Object(l.a)(Rt,2),Yt=Lt[0],Bt=Lt[1],Kt=Object(u.useState)(""),Qt=Object(l.a)(Kt,2),$t=Qt[0],Gt=Qt[1],Wt=Object(u.useState)(-1),Ht=Object(l.a)(Wt,2),Jt=Ht[0],Vt=Ht[1],Xt=Object(u.useState)(""),Zt=Object(l.a)(Xt,2),en=Zt[0],tn=Zt[1],nn=Object(u.useState)(""),rn=Object(l.a)(nn,2),on=rn[0],cn=rn[1],an=Object(u.useState)(!1),sn=Object(l.a)(an,2),ln=sn[0],un=sn[1],dn=Object(u.useState)(!1),pn=Object(l.a)(dn,2),fn=(pn[0],pn[1],Object(u.useState)(!1)),bn=Object(l.a)(fn,2),mn=(bn[0],bn[1]),jn=Object(u.useState)(-1),vn=Object(l.a)(jn,2),On=(vn[0],vn[1]),hn=["Sr.No.","Invoice","Invoice No.","Invoice Date","Open Invoice"],xn=["Serial No.","Add Details","Barcode","POS SKU","Qty Shipped","ITEM NO","Link Product","DESCRIPTION","Units in  Case","Case cost","Extended Price","Unit Cost ","Unit Price","Mark up (%)","Tick to Delete","Update POS","Reverse POS Update","NO LINKING","Serial No.(2)"],gn=Object(u.useState)({item:"",quantity:"",description:"",price:"",pos:"",barcode:"",posSku:"",invoice:"",size:"",department:"",unitCost:"",unitPrice:""}),Nn=Object(l.a)(gn,2),Sn=Nn[0],yn=Nn[1];function kn(){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("IN WOOCOM PRODUCTS"),e.next=3,Promise.all(ft.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o,c,a,s,l,u,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.barcode),e.prev=1,e.next=4,Le.GetProductDetails(t.barcode);case 4:return n=e.sent,console.log(n),r=n[0],o=r.id,c=r.name,a=r.regular_price,s=r.price,l=r.sku,u=r.slug,d=r.stock_quantity,p=r.sale_price,e.abrupt("return",{id:o,name:c,regular_price:a,price:s,sku:l,slug:u,stock_quantity:d,sale_price:p,itemNo:t.itemNo});case 10:return e.prev=10,e.t0=e.catch(1),console.log("Couldn't fetch product from woodpress.",t.itemNo),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()));case 3:t=e.sent,Te(!1),console.log(t),pt=t;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(){return wn.apply(this,arguments)}function wn(){return(wn=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("IN POS PRODUCTS"),Te(!0),t=!1,e.next=5,Promise.all(ft.map(function(){var e=Object(s.a)(i.a.mark((function e(n){var r,o,a,s,l,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n.barcode),e.prev=1,e.next=4,Le.GetPOSProductDetails(n.barcode);case 4:if(r=e.sent,console.log(r),Array.isArray(r)){e.next=9;break}return alert("API not working"),e.abrupt("return");case 9:if(console.log("fetched pos data",r),o=r[0],a=o.SKU,s=o.UPC,l=o.ITEMNAME,u=o.TOTALQTY,d=o.DEPNAME,console.log(a),console.log(It),a!=It){e.next=19;break}return console.log(a),console.log(It),e.abrupt("return",Object(c.a)(Object(c.a)({},n),{},{COST:n.cp,PRICE:n.sp,SKU:a,UPC:s,ITEMNAME:l,TOTALQTY:parseInt(n.qty)*parseInt(n.pieces)+parseInt(u),itemNo:n.itemNo,isNew:!1,BUYASCASE:1,CASEUNITS:n.pieces.toString(),CASECOST:n.unitPrice.toString(),DEPNAME:d}));case 19:alert("SKU mismatch!!");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(1),t=!0,e.abrupt("return",Object(c.a)(Object(c.a)({},n),{},{COST:n.cp,PRICE:n.sp,SKU:n.posSku,UPC:n.barcode,ITEMNAME:n.description,TOTALQTY:parseInt(n.qty)*parseInt(n.pieces),itemNo:n.itemNo,isNew:!0,BUYASCASE:1,CASEUNITS:n.pieces.toString(),CASECOST:n.unitPrice.toString(),DEPNAME:""}));case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}()));case 5:n=e.sent,t&&alert("Couldn't fetch some data from POS"),Te(!1),console.log(n),dt=n,console.log(dt);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var In=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te(!0),e.next=3,Promise.all(t.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.UpdateProductDetails(t.id,{regular_price:t.regular_price,stock_quantity:t.stock_quantity});case 3:return n=e.sent,r=n.id,o=n.name,c=n.regular_price,a=n.stock_quantity,e.abrupt("return",{id:r,name:o,regular_price:c,stock_quantity:a,itemNo:t.itemNo});case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),alert("Couldn't update product on website."),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 3:e.sent,Te(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dn=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te(!0),console.log(t),e.next=4,Promise.all(t.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o,c,a,s,l,u,d,p,f,b,m,j,v,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.COST,r=t.PRICE,o=t.UPC,c=t.TOTALQTY,a=t.isNew,s=t.ITEMNAME,l=t.BUYASCASE,u=t.CASEUNITS,d=t.CASECOST,p=t.SKU,f=t.DEPNAME,b=t.itemNo,e.next=4,Le.UpdatePOSProducts(JSON.stringify({UPC:o,ITEMNAME:s,DESCRIPTION:"",PRICE:r,COST:n,QTY:c,SIZE:"",PACK:"",REPLACEQTY:1,DEPARTMENT:f,CATEGORY:"",SUBCATEGORY:"",ISFOODSTAMP:1,ISWEIGHTED:0,ISTAXABLE:1,ISNEWITEM:a?1:0,BUYASCASE:l,CASEUNITS:u,CASECOST:d,COMPANYNAME:y.slug,PRODUCTCODE:b}));case 4:if(m=e.sent,console.log("updated pos data",m),j={UPC:o,SKU:p,Cost:n,ItemName:s,Price:r,TotalQty:c},!a){e.next=14;break}return e.next=10,Le.CreateDBProduct(j);case 10:v=e.sent,console.log("Created new product",v),e.next=18;break;case 14:return e.next=16,Le.UpdateDBProduct({count:parseInt(t.qty)*parseInt(t.pieces),UPC:o});case 16:O=e.sent,console.log("updated existing product",O);case 18:return console.log("res from POS",m),e.abrupt("return",!0);case 22:return e.prev=22,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}()));case 4:e.sent,Te(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Un=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log(dt),Te(!0),t=ft.map((function(e){return{item:e.itemNo,qty:parseInt(e.qty)*parseInt(e.pieces),cp:e.unitPrice,markup:e.markup,sp:e.sp,description:e.description}})),n={},r=0;r<t.length;r++)n.hasOwnProperty(t[r].item)?n[t[r].item].push(r):t.lastIndexOf(t[r].item)!==r&&(n[t[r].item]=[r]);if((o=Object.values(n).filter((function(e){return e.length>1}))).length>0&&o.forEach((function(e){var n=0;e.forEach((function(e){t[e]&&(n+=t[e].qty)-t[e].qty!==0&&(t[e]=null)})),t[e[0]].qty=n})),t=t.filter((function(e){return null!==e})),console.log(pt.length),null==pt[0]){e.next=14;break}return c=t.map((function(e,t){var n=pt.findIndex((function(t){return e.item===t.itemNo}));if(-1!==n){var r=pt[n],o=r.id,c=r.stock_quantity;return c+=e.qty,{id:o,regular_price:e.sp,stock_quantity:c,itemNo:e.item}}return null})).filter((function(e){return null!==e})),console.log(c),e.next=14,In(c);case 14:return e.next=16,Dn(dt);case 16:Te(!1),window.alert("Inventory updated successfully");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var En=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o,a,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne(!0),console.log(t),Re(-1),console.log(se),n=[],r=pe.map((function(e){return se[e]})),o=[],n.push(se[t]),console.log(n),n.isUpdated="true",n.itemNo,n.forEach((function(e,t){if(!pe.includes(t)&&!0===e.show&&1!=e.isForReview){var n=Object(c.a)({index:t+1},e);o.push(n)}})),console.log(o),0===pe.length){e.next=19;break}return Te(!0),e.next=17,Promise.all(r.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={Item:t.itemNo,Description:t.description,Quantity:t.qty,Price:t.unitPrice,sku:t.sku,Barcode:t.barcode,PosSKU:t.posSku,InvoiceName:y.slug},e.next=4,Le.CreateNotFoundItems(n);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Couldn't create not found product",t.description,{error:e.t0}),alert("Couldn't create product on website."),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 17:e.sent,Te(!1);case 19:return a=o.filter((function(e){return 0!==e.priceIncrease})),Te(!0),e.next=23,Promise.all(a.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={invoiceName:y.slug,itemName:t.itemNo,value:{Price:t.unitPrice}},console.log(n),e.next=5,Le.UpdateProductFields(n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("couldn't update price for product ".concat(t.itemNo));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 23:return e.sent,Te(!1),o[0].isUpdated="true",ft=o,console.log(ft),It=ft[0].posSku,e.next=31,kn();case 31:return e.next=33,Pn();case 33:if(console.log(dt),void 0==dt[0]){e.next=51;break}return e.next=37,Un();case 37:return console.log(pt),console.log(dt),console.log(ft),it("true"),ut(t),console.log(ft),console.log(ft.itemNo),e.next=44,Le.UpdateInvoiceData(q,G,V,ft[0].itemNo);case 44:return l={cost:ft[0].cp,price:ft[0].sp,item:ft[0].itemNo,invoice:y.slug},console.log(l),e.next=48,Le.UpdateDBafterPosUpdate(l);case 48:Rn(),e.next=53;break;case 51:alert("POS not updated!!"),Rn();case 53:ne(!1);case 54:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tn=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Jt),console.log($t),t=se[Jt],console.log(t),n={invoice:y.slug,itemNo:t.itemNo,details:$t},e.next=7,Le.saveDetails(n);case 7:r=e.sent,console.log(r),"s"===r?(alert("Details added successfully"),Gt(""),Vt(-1),Ln("details"),Rn()):(alert("Some error Occured."),Vt(-1),Gt(""),Ln("details"));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),An=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!0),un(!1),console.log(y),e.next=5,Le.getSavedInvoices(y);case 5:t=e.sent,console.log(t),console.log(t),Bt(t),ne(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(se),console.log(se[t]),n=se[t],r={invoice:y.slug,itemNo:n.itemNo},e.next=7,Le.reverseUpdate(r);case 7:o=e.sent,console.log(o),1==o.ok?Rn():alert("Some error occured in updation");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fn=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(se),console.log(se[t]),n=se[t],e.next=6,Le.reversePOSUpdate(q,G,V,n.itemNo);case 6:1==e.sent.ok?Rn():alert("Some error occured in updation");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qn=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(se),console.log(se[t]),n=se[t],console.log(n),r={invoice:q,itemNo:n.itemNo},console.log(r),e.next=9,Le.linkingCorrect(r);case 9:if(o=e.sent,console.log(o),"OK"!=o.statusText){e.next=21;break}return alert("SUCCESS"),c={Description:n.description,PosName:n.posName,SKU:n.posSku,Barcode:n.barcode,InvoiceName:q,ItemCode:n.itemNo,LinkingDate:on,PersonName:en,Size:n.size,UnitCost:n.cost,UnitPrice:n.sellingPrice,InvoiceNo:G,InvoiceDate:V,Department:n.department,InvoiceUnitCost:n.cp,CostIncrease:1==n.priceIncrease?"YES":"",CostDecrease:-1==n.priceIncrease?"YES":"",CostSame:0==n.priceIncrease?"YES":"",Unidentified:"YES"},e.next=16,Le.UnidentifiedLog(c);case 16:a=e.sent,console.log(a),Rn(),e.next=23;break;case 21:alert("Some error occured"),Rn();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_n=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,o,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(se),console.log(se[t]),n=se[t],console.log(n),r={invoice:q,itemNo:n.itemNo},e.next=8,Le.linkManually(r);case 8:return o=e.sent,console.log(o),c={Description:n.description,PosName:n.posName,SKU:n.posSku,Barcode:n.barcode,InvoiceName:q,ItemCode:n.itemNo,LinkingDate:on,PersonName:en,Size:n.size,UnitCost:n.cost,UnitPrice:n.sellingPrice,InvoiceNo:G,InvoiceDate:V,Department:n.department,InvoiceUnitCost:n.cp,CostIncrease:1==n.priceIncrease?"YES":"",CostDecrease:-1==n.priceIncrease?"YES":"",CostSame:0==n.priceIncrease?"YES":""},console.log(c),e.next=14,Le.linkManuallyLog(c);case 14:a=e.sent,console.log(a),"OK"==o.statusText||alert("Some error occured in updation"),Rn();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zn=function(){var t=Object(s.a)(i.a.mark((function t(){var n,r,o,c,a=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:q,r=a.length>1&&void 0!==a[1]?a[1]:G,o=a.length>2&&void 0!==a[2]?a[2]:V,t.next=5,e.GetSavedInvoiceData(n,r,o);case 5:if(c=t.sent,console.log(c),0!==c.length){t.next=11;break}alert("Invoice doesnt Exist!!"),t.next=12;break;case 11:return t.abrupt("return",c[0].InvoiceData);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Rn=function(){function t(){return(t=Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetProductDetails(q);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Te(!0),zn().then((function(e){(function(){return t.apply(this,arguments)})().then((function(t){t=function(e){var t={};for(var n in e)t[n.toUpperCase()]=e[n];return t}(t),console.log(t);var n=e.map((function(e){void 0===e.itemNo&&(e.itemNo=e.description.trim().toUpperCase()),e.itemNo=e.itemNo.toString().toUpperCase(),e.description=e.description,e.pieces=void 0!==t[e.itemNo]?t[e.itemNo].Quantity:0,e.sku=void 0!==t[e.itemNo]?t[e.itemNo].sku:"",e.barcode=void 0!==t[e.itemNo]?t[e.itemNo].Barcode:"",e.posName=void 0!==t[e.itemNo]?t[e.itemNo].POS:"",e.markup=0,e.show=!0,e.posSku=void 0!==t[e.itemNo]?t[e.itemNo].PosSKU:"",e.isReviewed=void 0!==t[e.itemNo]?t[e.itemNo].isReviewed:"",e.size=void 0!==t[e.itemNo]?t[e.itemNo].Size:"",e.department=void 0!==t[e.itemNo]?t[e.itemNo].Department:"",e.cost=void 0!==t[e.itemNo]?t[e.itemNo].SellerCost:"",e.sellingPrice=void 0!==t[e.itemNo]?t[e.itemNo].SellingPrice:"",e.price=void 0!==t[e.itemNo]?t[e.itemNo].Price:"",e.details=void 0!==t[e.itemNo]?t[e.itemNo].Details:"",e.linkingCorrect=void 0!==t[e.itemNo]?t[e.itemNo].LinkingCorrect:"";var n=0,r=0;return parseInt(e.pieces)&&(r=n=(parseFloat(e.unitPrice)/parseInt(e.pieces)).toFixed(2)),void 0!==t[e.itemNo]?n>+t[e.itemNo].SellerCost?e.priceIncrease=1:n<+t[e.itemNo].SellerCost?e.priceIncrease=-1:n==+t[e.itemNo].SellerCost&&(e.priceIncrease=0):e.priceIncrease=0,"0"==e.qty&&"0.00"===e.extendedPrice?null:(e.qty||(e.qty=(parseFloat(e.extendedPrice)/parseFloat(e.unitPrice)).toFixed(0)),Object(c.a)(Object(c.a)({},e),{},{sp:n,cp:r}))}));Te(!1),le(n.filter((function(e){return null!==e}))),Ie(Object.keys(t)),ve(t)})).catch((function(e){console.log("error on mapping ocrdata",e),Te(!1)}))}))},Ln=function(e){"notfounds"==e?Qe(!Ke):zt(!_t)},Yn=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r){var o,a,s,l,u,d,p,f,b,m,j,v,O,h,x,g,N,S,y,k;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),console.log(n),console.log(n.length),console.log(se[r].itemNo),On(r),Mt([]),isNaN(n)||!(n.length>0)||n==se[r].itemNo){e.next=22;break}return console.log("number"),mn(!0),e.next=11,Le.getHicksvilleData(n.toUpperCase());case 11:for(o=e.sent,a=o,console.log(a),s="",l=0;l<a.length;l++)s=s+a[l].name+"$$$";for(u=s.split("$$$"),d=[],p=0;p<u.length;p++)f=u[p].split("@@@"),b={sku:"nan"===f[1]?null:f[1],upc:"nan"===f[0]?null:f[0],altupc1:"nan"===f[14]?null:f[14],altupc2:"nan"===f[15]?null:f[15],name:"nan"===f[2]?null:f[2],vintage:"nan"===f[8]?null:f[8],totalQty:"nan"===f[13]?null:f[13],cost:"nan"===f[4]?null:f[4],pricea:"nan"===f[10]?null:f[10],priceb:"nan"===f[11]?null:f[11],pricec:"nan"===f[12]?null:f[12],department:"nan"===f[9]?null:f[9],salePrice:"nan"===f[5]?null:f[5],size:"nan"===f[6]?null:f[6],pack:"nan"===f[7]?null:f[7],price:"nan"===f[3]?null:f[3]},d.push(b);m=d.map((function(e){var t=Object(c.a)({},e);return t.label="".concat(e.name,"--").concat(e.price,"--").concat(e.upc,"--").concat(e.size,"--").concat(e.cost,"--").concat(e.sku),t})),ce(m),Mt(m);case 22:if(!(isNaN(n)&&null!=n&&n.length>=4&&n!=se[r].itemNo)){e.next=38;break}return console.log("string"),mn(!0),e.next=27,Le.getHicksvilleData(n.toUpperCase());case 27:for(j=e.sent,v=j,console.log(v),O="",h=0;h<v.length;h++)O=O+v[h].name+"$$$";for(x=O.split("$$$"),g=[],N=0;N<x.length;N++)S=x[N].split("@@@"),y={sku:"nan"===S[1]?null:S[1],upc:"nan"===S[0]?null:S[0],altupc1:"nan"===S[14]?null:S[14],altupc2:"nan"===S[15]?null:S[15],name:"nan"===S[2]?null:S[2],vintage:"nan"===S[8]?null:S[8],totalQty:"nan"===S[13]?null:S[13],cost:"nan"===S[4]?null:S[4],pricea:"nan"===S[10]?null:S[10],priceb:"nan"===S[11]?null:S[11],pricec:"nan"===S[12]?null:S[12],department:"nan"===S[9]?null:S[9],salePrice:"nan"===S[5]?null:S[5],size:"nan"===S[6]?null:S[6],pack:"nan"===S[7]?null:S[7],price:"nan"===S[3]?null:S[3]},g.push(y);k=g.map((function(e){var t=Object(c.a)({},e);return"undefined"!=e.itemNo&&(t.label="".concat(e.name,"--").concat(e.price,"--").concat(e.upc,"--").concat(e.size,"--").concat(e.cost,"--").concat(e.sku)),t})),ce(k),Mt(k);case 38:mn(!1);case 39:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Bn=function(e,t){var n;"true"===jt?(console.log("notfoundstrue"),n={invoiceName:q,itemName:Sn.item,value:{POS:Sn.pos,Barcode:Sn.barcode,PosSKU:Sn.posSku,isReviewed:"true",Description:Sn.description,Size:Sn.size,Department:Sn.department,SellerCost:Sn.unitCost,SellingPrice:Sn.unitPrice,Quantity:xt,Price:yt,LinkingCorrect:"true"}},Ln("notfounds")):n={invoiceName:q,itemName:Sn.item,value:{POS:Sn.pos,Barcode:Sn.barcode,PosSKU:Sn.posSku,isReviewed:"true",Size:Sn.size,Department:Sn.department,SellerCost:Sn.unitCost,SellingPrice:Sn.unitPrice,LinkingCorrect:"true"}},console.log(n),Le.UpdateProductFields(n).then((function(e){if(!e)throw new Error("Product not created");console.log(e),alert("Successfully updated fields"),We(!0)})).catch((function(e){console.log(e),alert("Some error occuured in creating product")})).finally(Object(s.a)(i.a.mark((function e(){var r,o,c,a,s,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te(!1),We("true"),t>rt&&(Ve("true"),et("")),t<rt&&(et("true"),Ve("")),"true"===jt&&(vt("false"),gt(""),kt("")),console.log(en),console.log(se[ze]),r=se[ze].description,o=se[ze].priceIncrease,c="",a="",s="",1==o&&(c="YES"),-1==o&&(a="YES"),0==o&&(s="YES"),console.log(o),console.log(r),console.log(on),console.log(V),console.log(G),delete(l=n).value.isReviewed,l.Description=r,l.PersonName=en,l.LinkingDate=on,l.InvoiceDate=V,l.InvoiceNo=G,l.CostIncrease=c,l.CostDecrease=a,l.CostSame=s,l.InvoiceUnitCost=se[ze].cp,console.log(l),e.next=32,Le.generateLog(l);case 32:u=e.sent,console.log(u),Rn();case 35:case"end":return e.stop()}}),e)}))))},Kn=function(){var e=Object(o.a)(se);e.push({qty:0,itemNo:"",description:"",pieces:0,unitPrice:0,extendedPrice:"",markup:0,sp:0,show:!0,showPOS:""}),Q.push(e.length-1),fe(Q),le(e)},Qn=function(t){console.log(t),un(!0),console.log(Yt[t]);var n=Yt[t].InvoiceName;_(n);var r=Yt[t].SavedDate;X(r);var o=Yt[t].SavedInvoiceNo;function a(){return(a=Object(s.a)(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetProductDetails(n);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}W(o),Te(!0),zn(n,o,r).then((function(e){(function(){return a.apply(this,arguments)})().then((function(t){t=function(e){var t={};for(var n in e)t[n.toUpperCase()]=e[n];return t}(t),console.log(t);var n=e.map((function(e){void 0===e.itemNo&&(e.itemNo=e.description.trim().toUpperCase()),e.itemNo=e.itemNo.toString().toUpperCase(),e.description=e.description,e.pieces=void 0!==t[e.itemNo]?t[e.itemNo].Quantity:0,e.sku=void 0!==t[e.itemNo]?t[e.itemNo].sku:"",e.barcode=void 0!==t[e.itemNo]?t[e.itemNo].Barcode:"",e.posName=void 0!==t[e.itemNo]?t[e.itemNo].POS:"",e.markup=0,e.show=!0,e.posSku=void 0!==t[e.itemNo]?t[e.itemNo].PosSKU:"",e.isReviewed=void 0!==t[e.itemNo]?t[e.itemNo].isReviewed:"",e.size=void 0!==t[e.itemNo]?t[e.itemNo].Size:"",e.department=void 0!==t[e.itemNo]?t[e.itemNo].Department:"",e.cost=void 0!==t[e.itemNo]?t[e.itemNo].SellerCost:"",e.sellingPrice=void 0!==t[e.itemNo]?t[e.itemNo].SellingPrice:"",e.price=void 0!==t[e.itemNo]?t[e.itemNo].Price:"",e.details=void 0!==t[e.itemNo]?t[e.itemNo].Details:"",e.linkingCorrect=void 0!==t[e.itemNo]?t[e.itemNo].LinkingCorrect:"";var n=0,r=0;return parseInt(e.pieces)&&(r=n=(parseFloat(e.unitPrice)/parseInt(e.pieces)).toFixed(2)),void 0!==t[e.itemNo]?n>+t[e.itemNo].SellerCost?e.priceIncrease=1:n<+t[e.itemNo].SellerCost?e.priceIncrease=-1:n==+t[e.itemNo].SellerCost&&(e.priceIncrease=0):e.priceIncrease=0,"0"==e.qty&&"0.00"===e.extendedPrice?null:(e.qty||(e.qty=(parseFloat(e.extendedPrice)/parseFloat(e.unitPrice)).toFixed(0)),Object(c.a)(Object(c.a)({},e),{},{sp:n,cp:r}))}));Te(!1),le(n.filter((function(e){return null!==e}))),Ie(Object.keys(t)),ve(t)})).catch((function(e){console.log("error on mapping ocrdata",e),Te(!1)}))}))},$n=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=pe.map((function(e){return se[e]})),n=[],se.forEach((function(e,t){if(!pe.includes(t)&&!0===e.show&&1!=e.isForReview){var r=Object(c.a)({index:t+1},e);n.push(r)}})),0===pe.length){e.next=9;break}return Te(!0),e.next=7,Promise.all(t.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={Item:t.itemNo,Description:t.description,Quantity:t.qty,Price:t.unitPrice,sku:t.sku,Barcode:t.barcode,PosSKU:t.posSku,InvoiceName:y.slug},e.next=4,Le.CreateNotFoundItems(n);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Couldn't create not found product",t.description,{error:e.t0}),alert("Couldn't create product on website."),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 7:e.sent,Te(!1);case 9:return r=n.filter((function(e){return 0!==e.priceIncrease})),Te(!0),e.next=13,Promise.all(r.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={invoiceName:y,itemName:t.itemNo,value:{Price:t.unitPrice}},e.next=4,Le.UpdateProductFields(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("couldn't update price for product ".concat(t.itemNo));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 13:e.sent,console.log(r.length),Te(!1),ke(Wn(n)),ge(!0);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Gn=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r){var c,a,s,l,u,d,p,f,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=Object(o.a)(se))[t][n]=r,a=c[t].itemNo,""!==c[t].qty&&""!==c[t].itemNo&&""!==c[t].unitPrice?(s=Q.indexOf(t))>-1&&Q.splice(s,1):Q.push(t),fe(Q),"itemNo"===n&&(c[t].description=je[r].Description,c[t].pieces=je[r].Quantity,c[t].sku=je[r].sku,c[t].barcode=je[r].Barcode,c[t].posName=je[r].POS,c[t].posSku=je[r].PosSKU),"unitPrice"!==n&&"sp"!==n&&"itemNo"!==n||(l=parseFloat(c[t].cp),u=parseFloat(c[t].sp),d=(u-l)/l*100,p=parseFloat(c[t].unitPrice)/c[t].pieces,c[t].markup=isNaN(d)?0:d.toFixed(2),c[t].cp=isNaN(p)?0:p.toFixed(2)),"qty"!==n&&"unitPrice"!==n||(f=parseFloat(c[t].qty)*parseFloat(c[t].unitPrice),b=c[t].unitPrice/c[t].pieces,isNaN(f)||(c[t].extendedPrice=f.toFixed(2)),isNaN(b)||(c[t].cp=b.toFixed(2))),a&&(+c[t].unitPrice>+je[a].Price?c[t].priceIncrease=1:+c[t].unitPrice<+je[a].Price?c[t].priceIncrease=-1:+c[t].unitPrice==+je[a].Price&&(c[t].priceIncrease=0)),"barcode"===n&&(c[t].barcode=r),le(c);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Wn=function(e){for(var t=Object(o.a)(e),n=new Map,a=0;a<t.length;a++)if(n.has(t[a].itemNo)){var i=Object(c.a)({},n.get(t[a].itemNo));i.qty=(parseFloat(i.qty)+parseFloat(t[a].qty)).toString(),n.set(t[a].itemNo,i)}else n.set(t[a].itemNo,t[a]);var s,l=[],u=Object(r.a)(n.values());try{for(u.s();!(s=u.n()).done;){var d=s.value;l.push(d)}}catch(p){u.e(p)}finally{u.f()}return l};return Object(u.useEffect)((function(){var e=new Date;console.log(e);var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();console.log(t),cn(t),R.default.auth().onAuthStateChanged((function(e){e?(tn(e.email),console.log("This is the user: ",e),console.log("This is the user: ",e.email)):console.log("There is no logged in user")}))}),[]),Ee?Object(B.jsx)(w.a,{}):te?Object(B.jsx)("div",{style:{marginTop:"100px",marginLeft:"700px"},children:Object(B.jsx)(z,{})}):Object(B.jsxs)("div",{className:"container-fluid",children:[Object(B.jsx)(b.a,{className:t.root,children:Object(B.jsxs)(m.a,{style:{display:"flex"},children:[Object(B.jsx)(f.a,{value:y,onChange:function(e,t){t&&I(t)},id:"combo-box",options:p.a,getOptionLabel:function(e){return e.value},style:{width:250},autoHighlight:!0,renderInput:function(e){return Object(B.jsx)(d.a,Object(c.a)(Object(c.a)({},e),{},{label:A,variant:"outlined"}))}}),Object(B.jsx)("button",{style:{backgroundColor:"green",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left",marginLeft:20},onClick:An,children:"Fetch Invoice Data"})]})}),ln?Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{children:Object(B.jsxs)("p",{children:["Invoice No.-- ",G]})}),Object(B.jsx)("div",{children:Object(B.jsxs)("p",{children:["Invoice Date -- ",V]})})]}):null,xe?Object(B.jsx)(P.a,{newInventoryData:ye,header:xn,goBack:ge,invoice:y}):ln?function(){if(se){console.log(se);var e=se.map((function(e,t){var n=""===e.qty||""===e.itemNo||!e.pieces||isNaN(e.unitPrice)||""===e.unitPrice||isNaN(e.extendedPrice);if(n&&e.show){var r=[].concat(Object(o.a)(Q),[t]);Q=Object(o.a)(new Set(r))}var a=0!=e.qty&&"0.00"===e.extendedPrice;return Object(B.jsxs)("tr",{className:n?k.a.red:a?k.a.free:null,style:"false"==e.linkingCorrect?{backgroundColor:"orange"}:"true"===e.isUpdated?{backgroundColor:"lightGreen"}:e.show?{opacity:"1"}:{opacity:"0.4"},children:[Object(B.jsx)("td",{children:t+1}),Object(B.jsxs)("td",{className:k.a.element,children:[Object(B.jsx)(C.a,{onClick:function(){Ln("details"),Vt(t)},children:Object(B.jsx)(D.a,{})}),Object(B.jsx)("div",{className:k.a.tooltip,children:Object(B.jsxs)("p",{children:["Details- ",e.details]})})]}),Object(B.jsxs)("td",{className:k.a.element,children:[Object(B.jsx)(d.a,{type:"tel",value:ze===t?Sn.barcode:e.barcode,id:"outlined-secondary",variant:"outlined",onChange:function(e){Gn(t,"barcode",e.target.value)},style:{width:150}}),Object(B.jsx)(C.a,{color:"primary","aria-label":"add to review",children:Object(B.jsx)(x.a,{style:Fe.includes(t)?{backgroundColor:"green"}:null})}),Object(B.jsxs)("div",{className:"true"===e.isReviewed?k.a.tooltipIsReviewed:k.a.tooltip,children:[Object(B.jsxs)("p",{children:["POS Product- ",ze===t?Sn.pos:e.posName]}),Object(B.jsxs)("p",{children:["Size- ",ze===t?Sn.size:e.size]}),Object(B.jsxs)("p",{children:["Department - ",ze===t?Sn.department:e.department]}),Object(B.jsxs)("p",{children:["Unit Cost- ",ze===t?Sn.unitCost:e.cost]}),Object(B.jsxs)("p",{children:["Unit Price- ",ze===t?Sn.unitPrice:e.sellingPrice]}),Object(B.jsx)("div",{children:Object(B.jsx)("button",{onClick:function(){"true"===jt?Ln("notfounds"):Bn(y.slug,(parseFloat(e.unitPrice)/parseInt(e.pieces)).toFixed(2))},disabled:ze!==t,style:{backgroundColor:"green",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left"},children:"Update Item"})}),Object(B.jsx)("br",{}),Object(B.jsx)("div",{children:Object(B.jsx)("button",{onClick:function(){return _n(t)},style:{backgroundColor:"blue",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left"},children:"Link Manually"})}),Object(B.jsx)("br",{}),Object(B.jsx)("div",{children:Object(B.jsx)("button",{onClick:function(){return Mn(t)},style:{backgroundColor:"red",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left"},children:"Reverse Update"})})]})]}),Object(B.jsx)("td",{children:ze===t?Sn.posSku:e.posSku}),Object(B.jsx)("td",{children:Object(B.jsx)(d.a,{type:"tel",value:e.qty,id:"outlined-secondary",variant:"outlined",onChange:function(e){Gn(t,"qty",e.target.value)},style:{width:100}})}),Object(B.jsx)("td",{children:Object(B.jsx)(f.a,{value:e.itemNo,onChange:function(e,n){n&&Gn(t,"itemNo",n)},id:"combo-box",options:we,getOptionLabel:function(e){return e},style:{width:200},renderInput:function(e){return Object(B.jsx)(d.a,Object(c.a)(Object(c.a)({},e),{},{variant:"outlined"}))}})}),Object(B.jsx)("td",{children:Object(B.jsx)(f.a,{value:ze===t?Sn.item:e.itemNo,loading:!0,onInputChange:function(e,n){console.log("ON INPUT CHANGE"),null!=e&&setTimeout((function(){Yn(e,n,t)}),1500)},onChange:function(r,o){if(o){var a=Object(c.a)({},Sn);console.log(o),a.item=e.itemNo,a.description=o.name,a.barcode=o.upc,a.pos=o.name,a.posSku=o.sku,a.size=o.size,a.department=o.department,a.unitCost=o.cost,a.unitPrice=o.price,yn(a),Re(t),ot(o.cost),We(""),n&&(vt("true"),wt("false")),console.log(a)}},id:"combo-box",options:At,getOptionLabel:function(t){var n;return null!==(n=t.label)&&void 0!==n?n:e.itemNo},style:{width:400},renderInput:function(e){return Object(B.jsx)(d.a,Object(c.a)(Object(c.a)({},e),{},{variant:"outlined"}))}})}),Object(B.jsx)("td",{children:e.description}),Object(B.jsx)("td",{children:e.pieces}),Object(B.jsx)("td",{children:Object(B.jsx)(d.a,{type:"tel",value:e.unitPrice,variant:"outlined",onChange:function(e){Gn(t,"unitPrice",e.target.value)},style:1===e.priceIncrease?{backgroundColor:"#1a8cff",width:100}:-1===e.priceIncrease?{backgroundColor:"#ffb31a",width:100}:{width:100}})}),Object(B.jsx)("td",{children:e.extendedPrice}),Object(B.jsx)("td",{children:e.cp}),Object(B.jsx)("td",{children:Object(B.jsx)(d.a,{type:"tel",value:e.sp,variant:"outlined",onChange:function(e){Gn(t,"sp",e.target.value)},style:{width:100}})}),Object(B.jsx)("td",{children:e.markup}),Object(B.jsx)("td",{children:Object(B.jsx)(S.a,{text:e.show?"Delete":"Undo",color:"btn btn-info",type:"submit",onClick:function(){return function(e){var t=Object(o.a)(se);if(se[e].show){if(window.confirm("Delete the item?")){t[e].show=!1;var n=Q.indexOf(e);n>-1&&Q.splice(n,1)}}else if(t[e].show=!0,""!==t[e].qty&&""!==t[e].itemNo&&""!==t[e].unitPrice){var r=Q.indexOf(e);r>-1&&Q.splice(r,1)}else Q.push(e);le(t),fe(Q)}(t)}})}),Object(B.jsx)("td",{children:Object(B.jsx)(S.a,{text:"Update POS",color:"btn btn-info",type:"submit",onClick:function(){return En(t)},style:{width:120}})}),Object(B.jsx)("td",{children:Object(B.jsx)(S.a,{text:"Reverse POS",type:"submit",onClick:function(){return Fn(t)},style:{width:120,backgroundColor:"red",color:"white"}})}),Object(B.jsx)("td",{className:k.a.element,children:Object(B.jsx)(C.a,{onClick:function(){return qn(t)},children:Object(B.jsx)(Y.a,{})})}),Object(B.jsx)("td",{children:t+1})]},t)}));return Object(B.jsxs)("div",{style:{marginTop:"35px"},children:[Object(B.jsx)("table",{className:"table table-hover table-responsive-sm",children:Object(B.jsxs)("tbody",{children:[Object(B.jsx)("tr",{children:xn.map((function(e,t){return Object(B.jsx)("th",{style:{position:"sticky",top:"70px",background:"grey"},children:e.toUpperCase()},t)}))}),e,Object(B.jsx)("tr",{children:Object(B.jsx)("td",{children:Object(B.jsx)(S.a,{text:"Add cell",color:"btn btn-info",onClick:Kn})})})]})}),Object(B.jsxs)("div",{className:k.a.divRow,children:[Object(B.jsx)(S.a,{text:"Update Inventory",color:"btn btn-info",type:"submit",onClick:$n}),Object(B.jsx)(S.a,{text:"Re upload",color:"btn btn-info",type:"submit",onClick:function(){return window.location.reload()}})]})]})}}():function(){var e=Yt.map((function(e,t){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:t+1}),Object(B.jsx)("td",{children:e.InvoiceName}),Object(B.jsx)("td",{children:e.SavedInvoiceNo}),Object(B.jsx)("td",{children:e.SavedDate}),Object(B.jsx)("td",{children:Object(B.jsx)("button",{style:{backgroundColor:"#4CAF50",border:"none",color:"white",padding:"15px 32px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"12px",margin:"4px 2px",cursor:"pointer"},onClick:function(){Qn(t)},children:"Show Invoice"})})]},t)}));return Object(B.jsx)("div",{style:{marginTop:"35px"},children:Object(B.jsx)("table",{className:"table table-hover table-responsive-sm",children:Object(B.jsxs)("tbody",{children:[Object(B.jsx)("tr",{children:hn.map((function(e,t){return Object(B.jsx)("th",{style:{position:"sticky",top:"70px",background:"grey"},children:e.toUpperCase()},t)}))}),e]})})})}(),Object(B.jsxs)(N.o,{show:Ke,onClose:function(){return Ln("notfounds")},children:[Object(B.jsx)(N.r,{closeButton:!0,children:"Add Red Products"}),Object(B.jsx)(N.p,{children:Object(B.jsx)(N.f,{fluid:!0,children:Object(B.jsx)(N.s,{children:Object(B.jsx)(N.e,{sm:"6",children:Object(B.jsxs)(N.k,{children:[Object(B.jsx)(N.m,{htmlFor:"invoiceNo",children:"Units In Case"}),Object(B.jsx)(N.l,{type:"text",name:"unitsInCase",value:xt,onChange:function(e){return gt(e.target.value)}}),Object(B.jsx)(N.m,{htmlFor:"date",children:"Case Cost"}),Object(B.jsx)(N.l,{type:"text",name:"price",value:yt,onChange:function(e){return kt(e.target.value)}})]})})})})}),Object(B.jsxs)(N.q,{children:[Object(B.jsx)(N.d,{color:"primary",onClick:Bn,children:"ADD"})," ",Object(B.jsx)(N.d,{color:"secondary",onClick:function(){return Ln("notfounds")},children:"Cancel"})]})]}),Object(B.jsxs)(N.o,{show:_t,onClose:function(){return Ln("details")},children:[Object(B.jsx)(N.r,{closeButton:!0,children:"Add Details"}),Object(B.jsx)(N.p,{children:Object(B.jsx)(N.f,{fluid:!0,children:Object(B.jsx)(N.s,{children:Object(B.jsx)(N.e,{sm:"6",children:Object(B.jsxs)(N.k,{children:[Object(B.jsx)(N.m,{htmlFor:"invoiceNo",children:"Add Details"}),Object(B.jsx)(U.a,{"aria-label":"empty textarea",placeholder:"add details",style:{width:400,height:100},onChange:function(e){return Gt(e.target.value)}})]})})})})}),Object(B.jsxs)(N.q,{children:[Object(B.jsx)(N.d,{color:"primary",onClick:Tn,children:"ADD"})," ",Object(B.jsx)(N.d,{color:"secondary",onClick:function(){return Ln("details")},children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=6.083709dd.chunk.js.map