/*! For license information please see 7.83946150.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{113:function(e,t,n){"use strict";function o(e,t){return function(){return null}}n.d(t,"a",(function(){return o}))},119:function(e,t,n){"use strict";function o(e){return function(){return null}}n.d(t,"a",(function(){return o}))},124:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},125:function(e,t,n){var o=n(166).default;function r(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var c={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(c,i,s):c[i]=e[i]}return c.default=e,n&&n.set(e,c),c},e.exports.__esModule=!0,e.exports.default=e.exports},126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=n(131)},131:function(e,t,n){"use strict";n.r(t);var o=n(111);n.d(t,"capitalize",(function(){return o.a}));var r=n(123);n.d(t,"createChainedFunction",(function(){return r.a}));var c=n(120);n.d(t,"createSvgIcon",(function(){return c.a}));var a=n(128);n.d(t,"debounce",(function(){return a.a}));var i=n(113);n.d(t,"deprecatedPropType",(function(){return i.a}));var s=n(129);n.d(t,"isMuiElement",(function(){return s.a}));var l=n(115);n.d(t,"ownerDocument",(function(){return l.a}));var u=n(130);n.d(t,"ownerWindow",(function(){return u.a}));var d=n(119);n.d(t,"requirePropFactory",(function(){return d.a}));var p=n(118);n.d(t,"setRef",(function(){return p.a}));var b=n(132);n.d(t,"unsupportedProp",(function(){return b.a}));var f=n(141);n.d(t,"useControlled",(function(){return f.a}));var g=n(122);n.d(t,"useEventCallback",(function(){return g.a}));var j=n(112);n.d(t,"useForkRef",(function(){return j.a}));var m=n(142);n.d(t,"unstable_useId",(function(){return m.a}));var x=n(143);n.d(t,"useIsFocusVisible",(function(){return x.a}))},132:function(e,t,n){"use strict";function o(e,t,n,o,r){return null}n.d(t,"a",(function(){return o}))},150:function(e,t,n){"use strict";var o=n(124),r=n(125);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(2)),a=(0,o(n(126)).default)(c.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");t.default=a},151:function(e,t,n){"use strict";var o=n(124),r=n(125);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(2)),a=(0,o(n(126)).default)(c.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=a},164:function(e,t,n){"use strict";var o=n(3);n.d(t,"a",(function(){return o.default}));var r="8.10.0";o.default.registerVersion("firebase",r,"app"),o.default.SDK_VERSION=r},165:function(e,t,n){"use strict";n(67)},166:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},167:function(e,t,n){"use strict";var o=n(124),r=n(125);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(2)),a=(0,o(n(126)).default)(c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.default=a},176:function(e,t,n){"use strict";var o=n(7),r=n(268),c=n(134);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(e,Object(o.a)({defaultTheme:c.a},t))}},177:function(e,t,n){"use strict";var o=n(107),r=n(7),c=n(2),a=(n(21),n(108)),i=n(109),s=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var d=c.forwardRef((function(e,t){var n=e.alignContent,i=void 0===n?"stretch":n,s=e.alignItems,l=void 0===s?"stretch":s,u=e.classes,d=e.className,p=e.component,b=void 0===p?"div":p,f=e.container,g=void 0!==f&&f,j=e.direction,m=void 0===j?"row":j,x=e.item,O=void 0!==x&&x,v=e.justify,h=e.justifyContent,S=void 0===h?"flex-start":h,C=e.lg,y=void 0!==C&&C,P=e.md,w=void 0!==P&&P,k=e.sm,N=void 0!==k&&k,I=e.spacing,E=void 0===I?0:I,D=e.wrap,U=void 0===D?"wrap":D,T=e.xl,_=void 0!==T&&T,A=e.xs,M=void 0!==A&&A,z=e.zeroMinWidth,R=void 0!==z&&z,F=Object(o.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),q=Object(a.a)(u.root,d,g&&[u.container,0!==E&&u["spacing-xs-".concat(String(E))]],O&&u.item,R&&u.zeroMinWidth,"row"!==m&&u["direction-xs-".concat(String(m))],"wrap"!==U&&u["wrap-xs-".concat(String(U))],"stretch"!==l&&u["align-items-xs-".concat(String(l))],"stretch"!==i&&u["align-content-xs-".concat(String(i))],"flex-start"!==(v||S)&&u["justify-content-xs-".concat(String(v||S))],!1!==M&&u["grid-xs-".concat(String(M))],!1!==N&&u["grid-sm-".concat(String(N))],!1!==w&&u["grid-md-".concat(String(w))],!1!==y&&u["grid-lg-".concat(String(y))],!1!==_&&u["grid-xl-".concat(String(_))]);return c.createElement(b,Object(r.a)({className:q,ref:t},F))})),p=Object(i.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(o){var r=e.spacing(o);0!==r&&(n["spacing-".concat(t,"-").concat(o)]={margin:"-".concat(u(r,2)),width:"calc(100% + ".concat(u(r),")"),"& > $item":{padding:u(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var o={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");o[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else o[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else o[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,o):e[t.breakpoints.up(n)]=o}(t,e,n),t}),{}))}),{name:"MuiGrid"})(d);t.a=p},277:function(e,t,n){"use strict";n.r(t);var o=n(44),r=n(5),c=n(29),a=n(46),i=n(22),s=n.n(i),l=n(2),u=n(272),d=n(274),p=n(255),b=n(177),f=[{value:"Giant Farm",slug:"giant-farm",jsonName:"giant-farm.json",emptyColumn:!0,databaseName:"giantfarms"},{value:"Duty Free Produce",slug:"duty-free-produce",jsonName:"duty-free-produce.json",emptyColumn:!0,databaseName:"dutyfreeproduces"},{value:"Gurme Guru",slug:"gurme-guru",jsonName:"gurme-guru.json",emptyColumn:!0,databaseName:"gurmegurus"}],g=n(176),j=n(114),m=n(133),x=n(164),O=(n(165),n(23)),v=n(146),h=n(138),S=n(159),C=n.n(S),y=n(256),P=n(167),w=n.n(P),k=n(151),N=n.n(k),I=n(150),E=n.n(I),D=n(4),U=Object(g.a)({root:{width:"100%",paddingTop:50},container:{maxHeight:"80vh",marginTop:10},table:{"& thead th":{fontWeight:"600",fontSize:20,backgroundColor:"grey"},"& tbody td":{fontWeight:"300"},"& tbody tr:hover":{backgroundColor:"#fffbf2",cursor:"pointer"}}});t.default=function(){var e=new v.a,t=Object(l.useState)([]),n=Object(a.a)(t,2),i=(n[0],n[1]),g=Object(l.useState)([]),S=Object(a.a)(g,2),P=S[0],k=S[1],I=Object(O.c)(),T="Select Invoice("+f.length+")",_="",A=U(),M=new j.a,z=Object(l.useState)([]),R=Object(a.a)(z,2),F=R[0],q=R[1],L=Object(l.useState)(!1),W=Object(a.a)(L,2),Y=W[0],K=W[1],B=Object(l.useState)(""),G=Object(a.a)(B,2),H=G[0],Q=(G[1],Object(l.useState)("")),$=Object(a.a)(Q,2),V=$[0],J=$[1],X=Object(l.useState)(""),Z=Object(a.a)(X,2),ee=Z[0],te=Z[1],ne=Object(l.useState)(""),oe=Object(a.a)(ne,2),re=oe[0],ce=oe[1],ae=Object(l.useState)(""),ie=Object(a.a)(ae,2),se=ie[0],le=ie[1],ue=Object(l.useState)(),de=Object(a.a)(ue,2),pe=de[0],be=de[1],fe=Object(l.useState)(""),ge=Object(a.a)(fe,2),je=ge[0],me=(ge[1],Object(l.useState)("")),xe=Object(a.a)(me,2),Oe=xe[0],ve=xe[1],he=Object(l.useState)(""),Se=Object(a.a)(he,2),Ce=Se[0],ye=Se[1],Pe=Object(l.useState)(-1),we=Object(a.a)(Pe,2),ke=we[0],Ne=we[1],Ie=Object(O.d)((function(e){return e.redItems.notFounds})),Ee=Object(l.useState)(!1),De=Object(a.a)(Ee,2),Ue=De[0],Te=(De[1],Object(l.useState)("")),_e=Object(a.a)(Te,2),Ae=(_e[0],_e[1],Object(l.useState)(-1)),Me=Object(a.a)(Ae,2),ze=(Me[0],Me[1]),Re=Object(l.useState)(""),Fe=Object(a.a)(Re,2),qe=(Fe[0],Fe[1]),Le=Object(l.useState)("true"),We=Object(a.a)(Le,2),Ye=(We[0],We[1]),Ke=(Object(O.d)((function(e){return e.openInvoice.inv})),Object(O.d)((function(e){return e.openInvoice.num})),Object(O.d)((function(e){return e.openInvoice.day})),Object(l.useState)("")),Be=Object(a.a)(Ke,2),Ge=Be[0],He=Be[1],Qe=Object(l.useState)(""),$e=Object(a.a)(Qe,2),Ve=$e[0],Je=$e[1],Xe=Object(l.useState)(),Ze=Object(a.a)(Xe,2),et=Ze[0],tt=Ze[1],nt=Object(l.useState)(""),ot=Object(a.a)(nt,2),rt=ot[0],ct=ot[1],at=Object(l.useState)(""),it=Object(a.a)(at,2),st=it[0],lt=it[1],ut=Object(l.useState)(),dt=Object(a.a)(ut,2),pt=dt[0],bt=dt[1],ft=Object(l.useState)("false"),gt=Object(a.a)(ft,2),jt=(gt[0],gt[1],Object(l.useState)({item:"",quantity:"",description:"",price:"",pos:"",barcode:"",posSku:"",invoice:"",size:"",department:"",unitCost:"",unitPrice:""})),mt=Object(a.a)(jt,2),xt=mt[0],Ot=mt[1],vt=Object(l.useState)([]),ht=Object(a.a)(vt,2),St=ht[0],Ct=ht[1],yt=Object(l.useState)([]),Pt=Object(a.a)(yt,2),wt=Pt[0],kt=Pt[1];console.log("table_state_value : ",wt);var Nt=Object(l.useState)({isReviewed:"",Item:"",Quantity:"",Description:"",Price:"",POS:"",Barcode:"",PosSKU:"",Size:"",Department:"",SellerCost:"",SellingPrice:""}),It=Object(a.a)(Nt,2),Et=It[0],Dt=It[1],Ut=(Object(O.d)((function(e){return e.loaders.apiLoader})),Object(O.d)((function(e){return e.loaders.loader})),[]),Tt=[],_t=[],At="",Mt=["Serial No.","Barcode","POS SKU","Qty Shipped",,"Unit Cost","ITEM NO","Link Product","DESCRIPTION","Units in  Case","Case cost","Extended Price","Unit Price","Mark up (%)","Add Details","Tick to Delete","Update POS","Reverse POS Update","NO LINKING","Serial No.(2)"];function zt(){return Rt.apply(this,arguments)}function Rt(){return Rt=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("IN WOOCOM PRODUCTS"),e.next=3,Promise.all(_t.map(function(){var e=Object(c.a)(s.a.mark((function e(t){var n,o,r,c,a,i,l,u,d,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.barcode),e.prev=1,e.next=4,M.GetProductDetails(t.barcode);case 4:return n=e.sent,console.log(n),o=n[0],r=o.id,c=o.name,a=o.regular_price,i=o.price,l=o.sku,u=o.slug,d=o.stock_quantity,p=o.sale_price,console.log("res[0]"),console.log("id : ",r),console.log("name : ",c),console.log("regular_price : ",a),console.log("price : ",i),console.log("sku : ",l),console.log("slug : ",u),console.log("stock_quantity : ",d),console.log("sale_price : ",p),e.abrupt("return",{id:r,name:c,regular_price:a,price:i,sku:l,slug:u,stock_quantity:d,sale_price:p,itemNo:t.itemNo});case 19:return e.prev=19,e.t0=e.catch(1),console.log("Couldn't fetch product from woodpress.",t.itemNo),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}()));case 3:t=e.sent,console.log(t),Tt=t;case 6:case"end":return e.stop()}}),e)}))),Rt.apply(this,arguments)}function Ft(){return qt.apply(this,arguments)}function qt(){return qt=Object(c.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("IN POS PRODUCTS"),t=!1,e.next=4,Promise.all(_t.map(function(){var e=Object(c.a)(s.a.mark((function e(n){var o,c,a,i,l,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n.barcode),e.prev=1,e.next=4,M.GetPOSProductDetails(n.barcode);case 4:if(o=e.sent,console.log(o),Array.isArray(o)){e.next=9;break}return alert("API not working"),e.abrupt("return");case 9:if(console.log("fetched pos data",o),c=o[0],a=c.SKU,i=c.UPC,l=c.ITEMNAME,u=c.TOTALQTY,d=c.DEPNAME,console.log(a),console.log(At),a!=At){e.next=19;break}return console.log(a),console.log(At),e.abrupt("return",Object(r.a)(Object(r.a)({},n),{},{COST:n.cp,PRICE:""===Oe?n.sellingPrice:Oe,SKU:a,UPC:i,ITEMNAME:l,TOTALQTY:parseInt(n.qty)*parseInt(n.pieces)+parseInt(u),itemNo:n.itemNo,isNew:!1,BUYASCASE:1,CASEUNITS:n.pieces.toString(),CASECOST:n.unitPrice.toString(),DEPNAME:d}));case 19:alert("SKU mismatch!!");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(1),t=!0,e.abrupt("return",Object(r.a)(Object(r.a)({},n),{},{COST:n.cp,PRICE:n.sp,SKU:n.posSku,UPC:n.barcode,ITEMNAME:n.description,TOTALQTY:parseInt(n.qty)*parseInt(n.pieces),itemNo:n.itemNo,isNew:!0,BUYASCASE:1,CASEUNITS:n.pieces.toString(),CASECOST:n.unitPrice.toString(),DEPNAME:""}));case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}()));case 4:n=e.sent,t&&alert("Couldn't fetch some data from POS"),console.log(n),Ut=n,console.log(Ut);case 9:case"end":return e.stop()}}),e)}))),qt.apply(this,arguments)}var Lt=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Promise.all(t.map(function(){var e=Object(c.a)(s.a.mark((function e(t){var n,o,r,c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.UpdateProductDetails(t.id,{regular_price:t.regular_price,stock_quantity:t.stock_quantity});case 3:return n=e.sent,o=n.id,r=n.name,c=n.regular_price,a=n.stock_quantity,e.abrupt("return",{id:o,name:r,regular_price:c,stock_quantity:a,itemNo:t.itemNo});case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),alert("Couldn't update product on website."),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 3:n=e.sent,console.log("pushToWoocom_result : ",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Promise.all(t.map(function(){var e=Object(c.a)(s.a.mark((function e(t){var n,o,r,c,a,i,l,u,d,p,b,g,j,m,x,O,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.COST,o=t.PRICE,r=t.UPC,c=t.TOTALQTY,a=t.isNew,i=t.ITEMNAME,l=t.BUYASCASE,u=t.CASEUNITS,d=t.CASECOST,p=t.SKU,b=t.DEPNAME,g=t.itemNo,console.log("product : ",t),j="",console.log(t.itemNo),console.log(i.indexOf("-")),m=i,console.log("pushToPos_ITEMNAME : ",i),!(i.indexOf("-")<0)){e.next=25;break}O=0;case 10:if(!(O<f.length)){e.next=22;break}if(console.log(pt.slug),f[O].slug!==pt.slug){e.next=17;break}return x=!1,e.abrupt("break",22);case 17:return x=!0,e.abrupt("break",22);case 19:O++,e.next=10;break;case 22:console.log(x),j="SKU "+t.posSku,m=i+" - "+j;case 25:return e.next=27,M.UpdatePOSProducts(JSON.stringify({UPC:r,ITEMNAME:m,DESCRIPTION:"",PRICE:o,COST:n,QTY:c,SIZE:"",PACK:"",REPLACEQTY:1,DEPARTMENT:b,CATEGORY:"",SUBCATEGORY:"",ISFOODSTAMP:1,ISWEIGHTED:0,ISTAXABLE:1,VENDORNAME:pt.slug,VENDORCODE:g,VENDORCOST:"",ISNEWITEM:a?1:0,BUYASCASE:l,CASEUNITS:u,CASECOST:d,COMPANYNAME:pt.slug,PRODUCTCODE:g,MODELNUM:ee.slice(0,4)+" "+(new Date).toLocaleDateString(),VINTAGE:"ICMS"}));case 27:return v=e.sent,console.log("updated pos data",v),{UPC:r,SKU:p,Cost:n,ItemName:i,Price:o,TotalQty:c},console.log("res from POS",v),e.abrupt("return",!0);case 34:return e.prev=34,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t){return e.apply(this,arguments)}}()));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(c.a)(s.a.mark((function e(){var t,n,o,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log(Ut),console.log(_t),t=_t.map((function(e){return{item:e.itemNo,qty:parseInt(e.qty)*parseInt(e.pieces),cp:e.unitPrice,markup:e.markup,sp:e.sellingPrice,description:e.description}})),console.log(t),n={},o=0;o<t.length;o++)n.hasOwnProperty(t[o].item)?(console.log("true"),n[t[o].item].push(o)):t.lastIndexOf(t[o].item)!==o&&(console.log("false"),console.log(t.lastIndexOf(t[o].item)),n[t[o].item]=[o]);if(console.log(n),r=Object.values(n).filter((function(e){return e.length>1})),console.log(r),r.length>0&&r.forEach((function(e){var n=0;e.forEach((function(e){t[e]&&(n+=t[e].qty)-t[e].qty!==0&&(t[e]=null)})),t[e[0]].qty=n})),console.log(t),t=t.filter((function(e){return null!==e})),console.log(t),console.log(Tt.length),console.log(Tt),null==Tt[0]){e.next=19;break}return c=t.map((function(e,t){var n=Tt.findIndex((function(t){return e.item===t.itemNo}));if(console.log("wooIndex : ",n),-1!==n){var o=Tt[n],r=o.id,c=o.stock_quantity;return c+=e.qty,{id:r,regular_price:e.sp,stock_quantity:c,itemNo:e.item}}return null})).filter((function(e){return null!==e})),e.next=19,Lt(c);case 19:return e.next=21,Wt(Ut);case 21:window.alert("Inventory updated successfully");case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var Kt=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,o,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],console.log("posProduct : ",Et),[],n.push(Et),console.log(n),n.isUpdated="true",n.itemNo,_t=[wt[t]],console.log(_t),At=_t[0].posSku,e.next=12,zt();case 12:return e.next=14,Ft();case 14:if(console.log(Ut),void 0==Ut[0]){e.next=36;break}return e.next=18,Yt();case 18:return console.log(Tt),console.log(Ut),console.log(_t),console.log(_t),console.log(_t.itemNo),o={invoiceName:pt.slug,itemName:_t[0].itemNo.toLowerCase(),value:{cost:_t[0].cp,sellingPrice:Oe,isUpdated:"true",isUpdatedDate:V}},console.log(o),e.next=25,M.UpdateHandWrittenProductFields(o);case 25:return console.log("PRODUCTT"),console.log(_t),r={InvoiceName:pt.slug,InvoiceDate:"",ItemNo:_t[0].itemNo,InvoiceDescription:_t[0].description,PosDescription:_t[0].posName,OldUnitCost:_t[0].cost,OldUnitPrice:Ce,OldMarkup:((Ce-_t[0].cost)/_t[0].cost*100).toFixed(2).toString(),NewUnitCost:Ut[0].COST,NewUnitPrice:Ut[0].PRICE,NewMarkup:((Ut[0].PRICE-Ut[0].COST)/Ut[0].COST*100).toFixed(2).toString(),UpdateDate:V,Person:ee,TimeStamp:(new Date).toTimeString().split(" ")[0],InvCaseCost:_t[0].unitPrice,InvUnitsInCase:_t[0].pieces,HandWritten:"YES",SKU:_t[0].posSku},console.log(r),e.next=31,M.handwrittenPosLogs(r);case 31:c=e.sent,console.log(c),rn(pt),e.next=38;break;case 36:alert("POS not updated!!"),rn(pt);case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Bt=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("reversePOSUpdate"),_t=[wt[t]],console.log(_t),At=_t[0].posSku,e.next=6,Ft();case 6:if(console.log(Ut),void 0==Ut[0]){e.next=16;break}return n={invoiceName:pt.slug,itemName:_t[0].itemNo.toLowerCase(),value:{isUpdated:"false"}},console.log(n),e.next=12,M.UpdateHandWrittenProductFields(n);case 12:console.log("PRODUCTT"),rn(pt),e.next=18;break;case 16:alert("POS not updated!!"),rn(pt);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(wt),console.log(wt[t]),n=wt[t],o={invoice:_.slug,itemNo:n.itemNo},e.next=7,M.reverseUpdate(o);case 7:r=e.sent,console.log(r),1==r.ok?on():alert("Some error occured in updation");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,o,r,c,a,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(wt),console.log(wt[t]),n=wt[t],console.log(n),o={invoice:_.slug,itemNo:n.itemNo},e.next=8,M.linkManually(o);case 8:return r=e.sent,console.log(r),c=n.cp-n.cost,a=n.cp>=3*n.cost?"YES":"",console.log(a),i={InvoiceDescription:n.description,PosDescription:n.posName,SKU:n.posSku,Barcode:n.barcode,InvoiceName:_.slug,ItemCode:n.itemNo,LinkingDate:V,PersonName:ee,Size:n.size,PosUnitCost:n.cost,PosUnitPrice:n.sellingPrice,Department:n.department,InvUnitCost:n.cp,CostIncrease:"YES"==a?"":c>0?"YES":"",CostDecrease:"YES"==a?"":c<0?"YES":"",CostSame:"YES"==a?"":0==c?"YES":"",InvError:a},console.log(i),e.next=17,M.linkManuallyLog(i);case 17:l=e.sent,console.log(l),"OK"==r.statusText||alert("Some error occured in updation"),on();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wt[t],console.log(n),o={invoiceName:pt.slug,itemName:n.itemNo.toLowerCase(),value:{pieces:n.pieces}},console.log("updateUnits_data : ",o),M.UpdateHandWrittenProductFields(o).then((function(e){if(!e)throw new Error("Product not updated");console.log(e),alert("Successfully updated fields")})).catch((function(e){console.log(e),alert("Some error occuured in creating product")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wt[t],console.log(n),o={invoiceName:pt.slug,itemName:n.itemNo.toLowerCase(),value:Object(r.a)(Object(r.a)({},n),{},{barcode:Et.barcode,department:Et.department,posName:Et.pos,posSku:Et.posSku,size:Et.size,sellingPrice:Et.sellingPrice,cost:Et.sellerCost,isUpdated:"false"})},console.log("updatePosDetails : ",o),M.UpdateHandWrittenProductFields(o).then((function(e){if(!e)throw new Error("Product not updated");console.log(e),alert("Successfully updated fields")})).catch((function(e){console.log(e),alert("Some error occuured in creating product")})).finally((function(){rn(pt)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,o,r,c,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(wt),console.log(wt[t]),n=wt[t],console.log(n),o={invoice:_.slug,itemNo:n.itemNo},console.log(o),e.next=9,M.linkingCorrect(o);case 9:if(r=e.sent,console.log(r),"OK"!=r.statusText){e.next=23;break}return n.cp-n.cost,c=n.cp>=3*n.cost?"YES":"",a={InvoiceDescription:n.description,PosDescription:n.posName,SKU:n.posSku,Barcode:n.barcode,InvoiceName:_.slug,ItemCode:n.itemNo,LinkingDate:V,PersonName:ee,Size:n.size,PosUnitCost:n.cost,PosUnitPrice:n.sellingPrice,Department:n.department,InvUnitCost:n.cp,CostIncrease:"",CostDecrease:"",CostSame:"",Unidentified:"YES",InvError:c},e.next=17,M.UnidentifiedLog(a);case 17:i=e.sent,console.log(i),alert("SUCCESS"),on(),e.next=25;break;case 23:alert("Some error occured"),on();case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){if(console.log("renderTableData_tableData : ",wt),console.log("renderTableData_showPosState : ",xt),console.log("renderTableData_tableData : ",wt),wt){console.log(wt),console.log("renderTableData_showPosState : ",xt);var e=wt.map((function(e,t){var n=""===e.qty||""===e.itemNo||!e.pieces||isNaN(e.unitPrice)||""===e.unitPrice||isNaN(e.extendedPrice),o=0!=e.qty&&"0.00"===e.extendedPrice;console.log("renderTableData_element : ",e);var c=(e.sellingPrice-e.cost)/e.cost*100;console.log("isEmpty : ",n),console.log("isFree : ",o);return Object(D.jsxs)("tr",{className:n?C.a.red:o?C.a.free:null,style:"false"==e.linkingCorrect?{backgroundColor:"pink"}:"true"===e.isUpdated?{backgroundColor:"lightGreen"}:e.show?{opacity:"1"}:{opacity:"0.4"},children:[Object(D.jsxs)("td",{children:[" ",t+1," "]}),Object(D.jsxs)("td",{className:C.a.element,children:[Object(D.jsx)(d.a,{type:"tel",value:ke===t?xt.barcode:e.barcode,id:"outlined-secondary",variant:"outlined",onChange:function(e){en(t,"barcode",e.target.value)},style:{width:150}}),Object(D.jsx)(y.a,{color:"primary","aria-label":"add to review",children:Object(D.jsx)(E.a,{style:"true"===e.isReviewed?{fill:"red"}:null})}),Object(D.jsxs)("div",{className:"true"===e.isReviewed?C.a.tooltipIsReviewed:C.a.tooltip,children:[Object(D.jsxs)("p",{children:["POS Product-"," ",ke===t?xt.pos:e.posName]}),Object(D.jsxs)("p",{children:["Size-"," ",ke===t?xt.size:e.size]}),Object(D.jsxs)("p",{children:["Department -"," ",ke===t?xt.department:e.department]}),Object(D.jsxs)("p",{children:["Margin(%) - ",ke===t?((xt.sellingPrice-xt.sellerCost)/xt.sellerCost*100).toFixed(2):c.toFixed(2)]}),Object(D.jsxs)("p",{children:["Unit Cost-"," ",ke===t?xt.sellerCost:e.cost]}),Object(D.jsxs)("p",{children:["Unit Price-"," ",ke===t?xt.sellingPrice:e.sellingPrice]}),Object(D.jsx)("div",{children:Object(D.jsx)("button",{onClick:function(){"true"===Ie?Zt("notfounds"):$t(t)},disabled:ke!==t,style:{backgroundColor:"green",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left"},children:"Update Item"})}),Object(D.jsx)("br",{}),Object(D.jsx)("div",{children:Object(D.jsx)("button",{onClick:function(){return Ht(t)},style:{backgroundColor:"blue",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left"},children:"Link Manually"})}),Object(D.jsx)("br",{}),Object(D.jsx)("div",{children:Object(D.jsx)("button",{onClick:function(){return Gt(t)},style:{backgroundColor:"red",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left"},children:"Reverse Update"})})]})]}),Object(D.jsx)("td",{children:ke===t?xt.posSku:e.posSku}),Object(D.jsx)("td",{children:Object(D.jsx)(d.a,{type:"tel",value:e.qty,id:"outlined-secondary",variant:"outlined",onChange:function(e){en(t,"qty",e.target.value)},style:{width:100}})}),Object(D.jsx)("td",{children:e.cp}),Object(D.jsx)("td",{children:Object(D.jsx)(u.a,{value:e.itemNo,onChange:function(e,n){n&&en(t,"itemNo",n)},id:"combo-box",options:P,getOptionLabel:function(e){return e},style:{width:200},renderInput:function(e){return Object(D.jsx)(d.a,Object(r.a)(Object(r.a)({},e),{},{variant:"outlined"}))}})}),Object(D.jsx)("td",{children:Object(D.jsx)(u.a,{value:ke===t?xt.item:e.itemNo,loading:!0,onInputChange:function(e,n){console.log("ON INPUT CHANGE"),null!=e&&setTimeout((function(){tn(e,n,t)}),1500)},onChange:function(o,c){if(c){var a=Object(r.a)({},xt);console.log(c),a.item=e.itemNo,a.description=c.name,a.barcode=c.upc,a.pos=c.name,a.posSku=c.sku,a.size=c.size,a.department=c.department,a.sellerCost=c.cost,a.sellingPrice=c.price,I({type:"SET_POS_STATE",data:a}),Ne(t),qe(c.cost),Dt(a),Ot(a),n&&(I({type:"NOT_FOUNDS",data:"true"}),Ye("false")),console.log(a)}},id:"combo-box",options:F,getOptionLabel:function(t){var n;return null!==(n=t.label)&&void 0!==n?n:e.itemNo},style:{width:400},renderInput:function(e){return Object(D.jsx)(d.a,Object(r.a)(Object(r.a)({},e),{},{variant:"outlined"}))}})}),Object(D.jsx)("td",{children:e.description}),Object(D.jsxs)("td",{children:[Object(D.jsx)(d.a,{type:"tel",value:e.pieces,variant:"outlined",onChange:function(e){en(t,"pieces",e.target.value)},style:{width:100}}),Object(D.jsx)("button",{onClick:function(){Qt(t)},style:{backgroundColor:"#008CBA",border:"none",color:"white",padding:"5px 16px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"10px",margin:"4px 2px",cursor:"pointer"},children:"Update Units"})]}),Object(D.jsx)("td",{children:Object(D.jsx)(d.a,{type:"tel",value:e.unitPrice,variant:"outlined",onChange:function(e){en(t,"unitPrice",e.target.value)},style:1===e.priceIncrease?{backgroundColor:"#1a8cff",width:100}:-1===e.priceIncrease?{backgroundColor:"#ffb31a",width:100}:{width:100}})}),Object(D.jsx)("td",{children:e.extendedPrice}),Object(D.jsx)("td",{children:Object(D.jsx)(d.a,{type:"tel",value:ke===t?xt.sellingPrice:e.sellingPrice,variant:"outlined",onChange:function(e){en(t,"sellingPrice",e.target.value)},style:{width:100}})}),Object(D.jsx)("td",{children:e.markup}),Object(D.jsxs)("td",{className:C.a.element,children:[Object(D.jsx)(y.a,{onClick:function(){Zt("details"),ze(t)},children:Object(D.jsx)(w.a,{})}),Object(D.jsx)("div",{className:C.a.tooltip,children:Object(D.jsxs)("p",{children:["Details- ",e.details]})})]}),Object(D.jsx)("td",{children:Object(D.jsx)(h.a,{text:e.show?"Delete":"Undo",color:"btn btn-info",type:"submit",onClick:function(){console.log("deleteRow")}})}),Object(D.jsx)("td",{children:Object(D.jsx)(h.a,{text:"Update POS",color:"btn btn-info",type:"submit",onClick:function(){window.confirm("Do You Want to Update Data in POS")&&Kt(t)},style:{width:120}})}),Object(D.jsx)("td",{children:Object(D.jsx)(h.a,{text:"Reverse POS",type:"submit",onClick:function(){return Bt(t)},style:{width:120,backgroundColor:"red",color:"white"}})}),Object(D.jsx)("td",{className:C.a.element,children:Object(D.jsx)(y.a,{onClick:function(){return Vt(t)},children:Object(D.jsx)(N.a,{})})}),Object(D.jsx)("td",{children:t+1})]},t)}));return Object(D.jsxs)("div",{style:{marginTop:"35px"},children:[Object(D.jsx)("table",{className:"table table-hover table-responsive-sm",children:Object(D.jsxs)("tbody",{children:[Object(D.jsx)("tr",{children:Mt.map((function(e,t){return Object(D.jsx)("th",{style:{position:"sticky",top:"70px",background:"grey"},children:e.toUpperCase()},t)}))}),e,Object(D.jsx)("tr",{children:Object(D.jsx)("td",{children:Object(D.jsx)(h.a,{text:"Add cell",color:"btn btn-info",onClick:function(){return console.log("addRow")}})})})]})}),Object(D.jsxs)("div",{className:C.a.divRow,children:[Object(D.jsx)(h.a,{text:"Update Inventory",color:"btn btn-info",type:"submit",onClick:function(){return console.log("addRow")}}),Object(D.jsx)(h.a,{text:"Re upload",color:"btn btn-info",type:"submit",onClick:function(){return window.location.reload()}})]})]})}},Xt=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updateItem_selectedDropdown : ",pt),console.log("updateItem_posProduct : ",Et),console.log("updateItem_tableData[index] : ",wt[t]),console.log("updateItem_itemName : ",re),n={invoiceName:pt.slug,itemName:re,value:{barcode:Et.barcode,department:Et.department,posName:Et.pos,posSku:Et.posSku,size:Et.size,cost:Et.sellerCost,sellingPrice:Et.sellingPrice,pieces:se,sellingCost:je,itemNo:re,description:re,price:void 0===pe?et:pe,sku:"",details:"",extendedPrice:(Ve*et).toFixed(2).toString(),unitPrice:et,isUpdated:"",isUpdatedDate:"",itemNoPresent:"",linkingCorrect:"",margin:"",markup:"",priceIncrease:"",qty:Ve,show:"",isReviewed:"true"}},console.log(n),e.next=8,M.UpdateHandWrittenProductFields(n);case 8:o=e.sent,console.log(o),rn(pt),Jt();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=function(e){console.log(Et),console.log(!Y),K(!Y)},en=function(e,t,n){console.log("handleChange_key : ",t),console.log("handleChange_val : ",n),console.log("handleChange_index : ",e),console.log("handleChange_setPosProduct : ",Et),console.log("handleChange_tableData[index] : ",wt[e]),"sellingPrice"===t&&(ve(n),ye(St[e].sellingPrice),console.log("NewUnitPrice_value : ",n),console.log("PrevNewUnitPrice_value : ",St[e].sellingPrice));var c=Object(r.a)(Object(r.a)({},wt),{},Object(o.a)({},e,Object(r.a)(Object(r.a)({},wt[e]),{},Object(o.a)({},t,n)))),a=Object.values(c);console.log("propertyName : ",a),console.log("handelChange_propertyNames[index] : ",a[e]),kt(a)},tn=function(){var e=Object(c.a)(s.a.mark((function e(t,n,o){var c,a,i,l,u,d,p,b,f,g,j,m,x,O,v,h,S,C,y,P;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),console.log(n),console.log(n.length),q([]),isNaN(n)||!(n.length>0)){e.next=18;break}return console.log("number"),e.next=8,M.getHicksvilleData(n.toUpperCase());case 8:for(c=e.sent,a=c,console.log(a),i="",l=0;l<a.length;l++)i=i+a[l].name+"$$$";for(u=i.split("$$$"),d=[],p=0;p<u.length;p++)b=u[p].split("@@@"),f={sku:"nan"===b[1]?null:b[1],upc:"nan"===b[0]?null:b[0],altupc1:"nan"===b[14]?null:b[14],altupc2:"nan"===b[15]?null:b[15],name:"nan"===b[2]?null:b[2],vintage:"nan"===b[8]?null:b[8],totalQty:"nan"===b[13]?null:b[13],cost:"nan"===b[4]?null:b[4],pricea:"nan"===b[10]?null:b[10],priceb:"nan"===b[11]?null:b[11],pricec:"nan"===b[12]?null:b[12],department:"nan"===b[9]?null:b[9],salePrice:"nan"===b[5]?null:b[5],size:"nan"===b[6]?null:b[6],pack:"nan"===b[7]?null:b[7],price:"nan"===b[3]?null:b[3]},d.push(f);g=d.map((function(e){var t=Object(r.a)({},e);return t.label="".concat(e.name,"--").concat(e.price,"--").concat(e.upc,"--").concat(e.size,"--").concat(e.cost,"--").concat(e.sku),t})),q(g);case 18:if(!(isNaN(n)&&null!=n&&n.length>=4)){e.next=32;break}return console.log("string"),e.next=22,M.getHicksvilleData(n.toUpperCase());case 22:for(j=e.sent,m=j,console.log(m),x="",O=0;O<m.length;O++)x=x+m[O].name+"$$$";for(v=x.split("$$$"),h=[],S=0;S<v.length;S++)C=v[S].split("@@@"),y={sku:"nan"===C[1]?null:C[1],upc:"nan"===C[0]?null:C[0],altupc1:"nan"===C[14]?null:C[14],altupc2:"nan"===C[15]?null:C[15],name:"nan"===C[2]?null:C[2],vintage:"nan"===C[8]?null:C[8],totalQty:"nan"===C[13]?null:C[13],cost:"nan"===C[4]?null:C[4],pricea:"nan"===C[10]?null:C[10],priceb:"nan"===C[11]?null:C[11],pricec:"nan"===C[12]?null:C[12],department:"nan"===C[9]?null:C[9],salePrice:"nan"===C[5]?null:C[5],size:"nan"===C[6]?null:C[6],pack:"nan"===C[7]?null:C[7],price:"nan"===C[3]?null:C[3]},h.push(y);P=h.map((function(e){var t=Object(r.a)({},e);return"undefined"!=e.itemNo&&(t.label="".concat(e.name,"--").concat(e.price,"--").concat(e.upc,"--").concat(e.size,"--").concat(e.cost,"--").concat(e.sku)),t})),q(P);case 32:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),nn=function(){var e=Object(c.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=pt,console.log(t),e.next=4,M.getItemForHandwrittenInvoice(t);case 4:return n=e.sent,console.log("getItems_res : ",n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),on=function(){function t(){return(t=Object(c.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetProductDetails(pt.slug);case 2:return n=t.sent,console.log("setProductsInTable_invoiceData() : ",n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}I({type:"LOADER"}),function(){t.apply(this,arguments)}(),nn().then((function(e){console.log("setProductsInTable_getItems() : ",e);var t=e.map((function(e){void 0===e.itemNo&&(e.itemNo=e.Description.trim()),e.itemNo=e.Item.toString(),e.description=e.Description,e.pieces=e.Quantity,e.sku=e.sku,e.barcode=e.Barcode,e.posName=e.POS,e.markup=0,e.show=!0,e.posSku=e.PosSKU,e.isReviewed=e.isReviewed,e.size=e.Size,e.department=e.Department,e.cost=e.SellerCost,e.sellingPrice=e.SellingPrice,e.price=e.Price,e.details=e.Details,e.linkingCorrect=e.linkingCorrect,e.margin=void 0!==e.Item?(e.SellingPrice-e.SellerCost)/e.SellerCost*100:"";return e.cp="",e.sp="",void 0!==e.Item?0>e.sellerCost?e.priceIncrease=1:0<+e.sellerCost?e.priceIncrease=-1:0==+e.sellerCost&&(e.priceIncrease=0):e.priceIncrease=0,Object(r.a)(Object(r.a)({},e),{},{sp:0,cp:0})}));I({type:"LOADER"}),kt(t.filter((function(e){return null!==e}))),k(Object.keys(e)),i(e)})).catch((function(e){console.log("error on mapping ocrdata",e),I({type:"LOADER"})}))},rn=function(e){var t=e;function n(){return(n=Object(c.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getItemForHandwrittenInvoice(t);case 2:return n=e.sent,console.log("setProductsInTableNew_products : ",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("setProductsInTableNew_invoice : ",t),function(){return n.apply(this,arguments)}().then((function(e){console.log("fetchSavedData_handwrittenInvoiceData : ",e);var t=e.map((function(e){e.itemNoPresent=void 0!==e.itemNo,void 0===e.itemNo&&(e.itemNo=e.description.trim().toUpperCase()),e.itemNo=e.itemNo.toString().toUpperCase(),e.description=e.description.toString().toUpperCase(),e.markup=0,e.show=!0,console.log("check here");var t=0,n=0;return parseInt(e.pieces)&&(n=t=(parseFloat(e.unitPrice)/parseInt(e.pieces)).toFixed(2)),void 0!==e.itemNo?t>+e.cost?e.priceIncrease=1:t<e.cost?e.priceIncrease=-1:t==+e.cost&&(e.priceIncrease=0):e.priceIncrease=0,"0"==e.qty&&"0.00"===e.extendedPrice?null:(e.qty||(e.qty=(parseFloat(e.extendedPrice)/parseFloat(e.unitPrice)).toFixed(0)),e.margin=void 0!==e.itemNo?(e.SellingPrice-e.cost)/e.cost*100:"",Object(r.a)(Object(r.a)({},e),{},{sp:t,cp:n}))}));kt(t.filter((function(e){return null!==e}))),Ct(t.filter((function(e){return null!==e}))),console.log("fetchSavedData_tableData : ",wt)})).catch((function(e){console.log("error on mapping ocrdata",e)}))};return Object(l.useEffect)((function(){var e=new Date;console.log(e);var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();console.log(t),J(t),x.a.auth().onAuthStateChanged((function(e){e?(te(e.email),console.log("This is the user: ",e),console.log("This is the user: ",e.email)):console.log("There is no logged in user")}))}),[]),Object(D.jsxs)("div",{className:"container-fluid",children:[Object(D.jsx)(p.a,{className:A.root,children:Object(D.jsxs)(b.a,{style:{display:"flex"},children:[Object(D.jsx)(u.a,{value:pt,onChange:function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("newValue",n),n&&(console.log("setSelectedDropdown :",n),bt(n),rn(n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),id:"combo-box",options:f,getOptionLabel:function(e){return e.value},style:{width:200},autoHighlight:!0,renderInput:function(e){return Object(D.jsx)(d.a,Object(r.a)(Object(r.a)({},e),{},{label:T,variant:"outlined"}))}}),Object(D.jsx)("br",{}),Object(D.jsx)(d.a,{label:"Item Name",variant:"outlined",value:re,onChange:function(e){ce(e.target.value)}}),Object(D.jsx)(d.a,{label:"Quantity",variant:"outlined",type:"text",name:"quantity",value:Ve,onChange:function(e){Je(e.target.value),console.log("setInvoiceNo_quantity : ",Ve)}}),Object(D.jsx)(d.a,{label:"Price",variant:"outlined",type:"text",name:"price",value:et,onChange:function(e){tt(e.target.value),console.log("setInvoiceNo_price : ",et)}}),Object(D.jsx)(d.a,{disabled:!0,label:"Extended Price",variant:"outlined",type:"text",name:"extendedprice",value:(Ve*et).toFixed(2),onChange:function(e){ct(e.target.value),console.log("setInvoiceNo_extendedprice : ",rt)}}),Object(D.jsx)("br",{}),Object(D.jsx)(u.a,{value:Et.POS,loading:!0,onInputChange:function(e,t){console.log("ON INPUT CHANGE"),null!=e&&setTimeout((function(){tn(e,t)}),1500)},onChange:function(e,t){if(t){var n=Object(r.a)({},Et);console.log("newValue : ",t),n.item=re,n.isReviewed="true",n.description=t.name,n.barcode=t.upc,n.pos=t.name,n.posSku=t.sku,n.size=t.size,n.department=t.department,n.sellerCost=t.cost,n.sellingPrice=t.price,Dt(n),console.log("setPosProduct : ",n),_t=[],console.log(n)}},id:"combo-box",options:F,getOptionLabel:function(e){var t;return null!==(t=e.label)&&void 0!==t?t:Et.item},style:{width:400},renderInput:function(e){return Object(D.jsx)(d.a,Object(r.a)(Object(r.a)({},e),{},{label:"POS Product",variant:"outlined"}))}}),Object(D.jsx)("button",{style:{backgroundColor:"green",height:"50px",border:"none",color:"white",padding:"4px 8px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"14px",align:"left",marginLeft:20},onClick:function(){return Zt("showModal")},children:"Add New Product"})]})}),Object(D.jsx)("p",{children:"Invoice-- ".concat(void 0===pt?"":pt.value)}),Object(D.jsx)("div",{children:Jt()}),Object(D.jsxs)(m.o,{show:Y,onClose:function(){return Zt("showModal")},children:[Object(D.jsx)(m.r,{closeButton:!0,children:H}),Object(D.jsx)(m.p,{children:Object(D.jsx)(m.f,{fluid:!0,children:Object(D.jsx)(m.s,{children:Object(D.jsxs)(m.e,{sm:"12",children:[Object(D.jsxs)(m.s,{children:[Object(D.jsx)(m.e,{sm:"6",children:Object(D.jsxs)(m.k,{children:[Object(D.jsx)(m.m,{htmlFor:"type",children:"Barcode"}),Object(D.jsx)(m.l,{disabled:!0,type:"text",name:"type",value:Et.barcode,onChange:function(e){return en("barcode",e.target.value)}})]})}),Object(D.jsx)(m.e,{sm:"6",children:Object(D.jsxs)(m.k,{children:[Object(D.jsx)(m.m,{htmlFor:"short_description",children:"POS SKU"}),Object(D.jsx)(m.l,{disabled:!0,type:"text",name:"short_description",value:Et.posSku,onChange:function(e){return en("posSku",e.target.value)}})]})})]}),Object(D.jsxs)(m.k,{children:[Object(D.jsx)(m.m,{htmlFor:"regular_price",children:"POS Name"}),Object(D.jsx)(m.l,{disabled:!0,type:"text",name:"regular_price",value:Et.pos,onChange:function(e){return en("pos",e.target.value)}})]}),Object(D.jsxs)(m.k,{children:[Object(D.jsx)(m.m,{htmlFor:"size",children:"POS Size"}),Object(D.jsx)(m.l,{disabled:!0,type:"text",name:"size",value:Et.size,onChange:function(e){return en("size",e.target.value)}})]}),Object(D.jsxs)(m.k,{children:[Object(D.jsx)(m.m,{htmlFor:"department",children:"Department"}),Object(D.jsx)(m.l,{disabled:!0,type:"text",name:"department",value:Et.department,onChange:function(e){return en("department",e.target.value)}})]}),Object(D.jsxs)(m.k,{children:[Object(D.jsx)(m.m,{htmlFor:"unitsInCase",children:"Units In Case"}),Object(D.jsx)(m.l,{type:"text",name:"unitsInCase",value:se,onChange:function(e){return le(e.target.value)}})]}),Object(D.jsxs)(m.k,{children:[Object(D.jsx)(m.m,{htmlFor:"caseCost",children:"Case Cost"}),Object(D.jsx)(m.l,{type:"text",name:"caseCost",value:void 0===pe?et:pe,onChange:function(e){return be(e.target.value)}})]}),Object(D.jsxs)(m.k,{children:[Object(D.jsx)(m.m,{htmlFor:"unitPrice",children:"POS Unit Price"}),Object(D.jsx)(m.l,{disabled:!0,type:"text",name:"unitPrice",value:Et.sellingPrice,onChange:function(e){return en("SellingPrice",e.target.value)}})]}),Object(D.jsxs)(m.k,{children:[Object(D.jsx)(m.m,{htmlFor:"unitCost",children:"POS Unit Cost"}),Object(D.jsx)(m.l,{disabled:!0,type:"text",name:"unitCost",value:Et.sellerCost,onChange:function(e){return en("SellerCost",e.target.value)}})]})]})})})}),Object(D.jsxs)(m.q,{children:[Object(D.jsx)(m.d,{color:"primary",onClick:function(){Xt(),Zt("details")},children:"Add"})," ",Object(D.jsx)(m.d,{color:"secondary",onClick:Zt,children:"Cancel"})]})]}),Object(D.jsxs)(m.o,{show:Ue,onClose:function(){return Zt("details")},children:[Object(D.jsx)(m.r,{closeButton:!0,children:"Save Invoice Data"}),Object(D.jsx)(m.p,{children:Object(D.jsx)(m.f,{fluid:!0,children:Object(D.jsx)(m.s,{children:Object(D.jsx)(m.e,{sm:"6",children:Object(D.jsxs)(m.k,{children:[Object(D.jsx)(m.m,{htmlFor:"invoiceNo",children:"Invoice No."}),Object(D.jsx)(m.l,{type:"text",name:"invoiceNo",value:Ge,onChange:function(e){return He(e.target.value)}}),Object(D.jsx)(m.m,{htmlFor:"date",children:"Date"}),Object(D.jsx)(m.l,{type:"date",name:"date",value:st,onChange:function(e){return lt(e.target.value)}})]})})})})}),Object(D.jsxs)(m.q,{children:[Object(D.jsx)(m.d,{color:"primary",children:"Save Invoice"})," ",Object(D.jsx)(m.d,{color:"secondary",onClick:Zt,children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=7.83946150.chunk.js.map