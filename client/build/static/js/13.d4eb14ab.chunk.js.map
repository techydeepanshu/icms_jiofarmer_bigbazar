{"version":3,"sources":["services/InventoryService.js","components/Inventory/Inventory.js"],"names":["InventoryService","productSKU","a","WordpressAxios","get","params","sku","response","data","productId","put","res","post","upc","itemName","Axios","appendURL","console","log","invoiceName","invoiceNo","date","itemNo","value","input","dateObj","columns","id","label","useStyles","makeStyles","root","width","paddingTop","container","maxHeight","marginTop","table","fontWeight","fontSize","backgroundColor","cursor","StickyHeadTable","classes","React","useState","page","setPage","rowsPerPage","setRowsPerPage","inventoryService","products","setProducts","loader","setLoader","searchVal","setSearchVal","startDate","setStartDate","endDate","setEndDate","getProducts","SyncInventory","map","item","UPC","SKU","ItemName","Price","cost","Cost","price","currentStockQuantity","TotalQty","posSoldQuantity","soldQty","wordpressSoldQty","alert","useEffect","getInitialSyncedData","ITEMNAME","PRICEPERUNIT","QuantitySold","OnHand","className","style","display","variant","marginLeft","onChange","e","target","type","InputLabelProps","shrink","event","border","color","padding","textAlign","textDecoration","align","onClick","options","method","headers","UserId","Password","Pin","body","STARTDATE","ENDDATE","json","then","error","onGo","flexGrow","sm","stickyHeader","aria-label","column","minWidth","slice","filter","toLowerCase","includes","row","hover","role","rowsPerPageOptions","component","count","length","onChangePage","newPage","onChangeRowsPerPage"],"mappings":"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","file":"static/js/13.d4eb14ab.chunk.js","sourcesContent":["import { POSAxios, WordpressAxios } from \"./axios\";\nimport Axios from \"./axios\";\nconst appendURL = process.env.NODE_ENV === \"production\" ? \"/server\" : \"\";\n\nexport class InventoryService {\n  async GetProductDetails(productSKU) {\n    const response = await WordpressAxios.get(`/products/`, {\n      params: { sku: productSKU },\n    });\n    return response.data;\n  }\n\n  async UpdateProductDetails(productId, data) {\n    const res = await WordpressAxios.put(`/products/${productId}`, data);\n    return res.data;\n  }\n  async getAllProducts() {\n    const res = await WordpressAxios.get(\"products\");\n    return res.data;\n  }\n  async createProduct(data) {\n    const res = await WordpressAxios.post(\"products\", data);\n    return res.data;\n  }\n\n  async GetPOSProductDetails(upc, itemName = \"\") {\n    const response = await Axios.get(appendURL + \"/api/getPOSProduct\", {\n      params: { upc, itemName },\n    });\n    return response.data;\n  }\n  async UpdatePOSProducts(data) {\n    console.log(data);\n    const res = await Axios.post(\n      appendURL + \"/api/pos/Product/ManageItem\",\n      data\n    );\n    return res.data;\n  }\n  async SyncInventory() {\n    const res = await Axios.get(appendURL + \"/api/sync\");\n    console.log(res.data);\n    return res.data;\n  }\n  async UpdateProductFields(data) {\n    /**\n     ***** data format\n     * data = {invoiceName: \"chetak\", itemName:\"CAS 123\", value:{\"Description\": \"jnckwc\", \"Price\": \"44\"}}\n     */\n    //  console.log(data);\n    const res = await Axios.put(\n      appendURL + \"/api/invoice/product/update\",\n      data\n    );\n    return res.data;\n  }\n\n  async CreateNotFoundItems(data) {\n    /**\n     * data format\n     * {Item:String,Description:String,Quantity:String,Price:String,sku:String,Barcode:String,PosSKU:String,InvoiceName:String}\n     */\n    const res = await Axios.post(appendURL + \"/api/invoice/notfound\", data);\n    return res.data;\n  }\n\n  async CreateScanInvoiceData(data){\n    //console.log(\"IN INVENTORY SERVICE\");\n    //console.log(data);\n    const res = await Axios.post(appendURL + \"/api/invoice/scaninvoicedata\", data);\n    return res.data;\n  }\n  async UpdateInvoiceData(invoiceName, invoiceNo, date, itemNo) {\n    console.log(invoiceName);\n    console.log(invoiceNo);\n    console.log(itemNo);\n    console.log(date);\n    const res = await Axios.post(appendURL + \"/api/invoice/updateinvoicedata\", {params:{ invoiceName: invoiceName, invoiceNo: invoiceNo,date: date, itemNo: itemNo}});\n    return res.data;\n  }\n\n  async UpdateDBafterPosUpdate(data){\n    console.log(data);\n    const res = await Axios.post(appendURL + \"/api/invoice/updatedbafterposupdate\", data);\n    console.log(res);\n\n  }\n\n  async saveDetails(data) {\n    console.log(data);\n    const res = await Axios.post(appendURL + \"/api/invoice/savedetails\", data);\n    return res.data;\n\n  }\n\n  async reversePOSUpdate(invoiceName, invoiceNo, date, itemNo) {\n    console.log(invoiceName);\n    console.log(invoiceNo);\n    console.log(itemNo);\n    console.log(date);\n    const res = await Axios.post(appendURL + \"/api/invoice/reverseposupdate\", {params:{ invoiceName: invoiceName, invoiceNo: invoiceNo,date: date, itemNo: itemNo}});\n    return res.data;\n  }\n  \n  async linkingCorrect(data) {\n    console.log(data);\n    const res = await Axios.post(appendURL+ \"/api/invoice/linkingcorrect\", data);\n    return res;\n  }\n\n\n  async linkManually(data) {\n    console.log(data);\n\n    const res = await Axios.post(appendURL + \"/api/invoice/linkmanually\", data);\n    return res;\n  }\n\n  async getHicksvilleData(value) {\n    console.log(\"in inventory for hicks data\");\n    const res = await Axios.get(appendURL + \"/api/invoice/gethicksvilledata\", {params: {input: value}});\n    return res.data;\n  }\n\n  async getSavedInvoices (data) {\n    console.log(\"in inventory for saved invoices\");\n    console.log(data);\n    const res = await Axios.get(appendURL + \"/api/invoice/getsavedinvoices\", {params: data} );\n    return res.data;\n\n  }\n\n  async UpdateDBProduct(data) {\n    console.log(data);\n    const res = await Axios.put(appendURL + \"/api/invoice/pos/update\", data);\n    return res.data;\n  }\n  async CreateDBProduct(data) {\n    const res = await Axios.post(appendURL + \"/api/invoice/pos/create\", data);\n    return res.data;\n  }\n\n  async getInitialSyncedData(dateObj) {\n    console.log(\"In inventory service\");\n    console.log(dateObj);\n    const res = await Axios.get(appendURL + \"/api/invoice/pos\",dateObj);\n    console.log(res);\n    return res.data;\n  }\n\n  async generateLog(data) {\n    console.log(data);\n    const res = await Axios.post(appendURL + \"/api/invoice/generatelog\", data);\n    return res;\n\n  }\n\n  async linkManuallyLog(data) {\n    console.log(data);\n    const res = await Axios.post(appendURL+ \"/api/invoice/linkmanuallylog\", data);\n    return res;\n  }\n\n  async reverseUpdate(data) {\n    console.log(data);\n\n    const res = await Axios.post(appendURL + \"/api/invoice/reverseupdate\", data);\n    return res.data;\n  }\n}\n","import { CRow, CCol, CDataTable } from \"@coreui/react\";\nimport { InventoryService } from \"../../services/InventoryService\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Box, Grid } from \"@material-ui/core\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Axios from \"axios\";\n\nconst columns = [\n  { id: \"upc\", label: \"UPC\" },\n  { id: \"sku\", label: \"SKU\" },\n  { id: \"itemName\", label: \"Item Name\" },\n  { id: \"cost\", label: \"Cost\" },\n  { id: \"price\", label: \"Price\" },\n  { id: \"currentStockQuantity\", label: \"Current Stock Quantity\" },\n  { id: \"posSoldQuantity\", label: \"POS Sold Quantity\" },\n  { id: \"wordpressSoldQty\", label: \"Wordpress Sold Qty.\" },\n  { id: \"OnHand\", label: \"On Hand\"},\n];\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    paddingTop: 50,\n  },\n  container: {\n    maxHeight: \"80vh\",\n    marginTop: 10,\n  },\n  table: {\n    \"& thead th\": {\n      fontWeight: \"600\",\n      fontSize: 20,\n      backgroundColor: \"grey\",\n    },\n    \"& tbody td\": {\n      fontWeight: \"300\",\n    },\n    \"& tbody tr:hover\": {\n      backgroundColor: \"#fffbf2\",\n      cursor: \"pointer\",\n    },\n  },\n});\n\nexport default function StickyHeadTable() {\n  const classes = useStyles();\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(100);\n  const inventoryService = new InventoryService();\n  const [products, setProducts] = React.useState([]);\n  const [loader, setLoader] = React.useState(true);\n  const [searchVal, setSearchVal] = React.useState(\"\");\n  const [startDate, setStartDate] = React.useState(\"20-July-2021\");\n  const [endDate, setEndDate] = React.useState(\"22-July-2021\");\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  const changeDateFormat = (date) => {\n    let defaultDate = new Date(date);\n    let month = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"][defaultDate.getMonth()];\n    let formattedDate = defaultDate.getDate()+\"-\"+month+\"-\"+defaultDate.getFullYear();\n    return formattedDate;\n  }\n\n  const onGo = () => {\n    console.log(startDate);\n    console.log(endDate);\n    const options = {\n      method: \"GET\",\n      headers:{\n        UserId: \"lRRqlkYefuV=\",\n        Password: \"lRRqlkYefuV6jJ==\",\n        Pin: \"qzOUsBmZFgMDlwGtrgYypxUz\",\n        'Content-Type' : 'application/x-www-form-urlencoded; charset=UTF-8',\n      },\n      body:{\n        STARTDATE: startDate,\n        ENDDATE: endDate\n      },\n      json: true,\n    }    \n    const dateObj = {startDate: startDate, endDate: endDate};\n    try {\n      setLoader(true);\n      const res = Axios.get(\"https://dataservices.sypramsoftware.com/api/Product/GetSoldItemList\",options)\n                    .then(response => {return response});\n      const data = res.map((item) => {\n        const {\n          UPC,\n          SKU,\n          //ItemName,\n          ITEMNAME,\n          //Price,\n          PRICEPERUNIT,\n          Cost,\n          TotalQty,\n          //soldQty,\n          QuantitySold,\n          wordpressSoldQty,\n          OnHand\n        } = item;\n        return {\n          upc: UPC,\n          itemName: ITEMNAME,\n          cost: Cost,\n          price: PRICEPERUNIT,\n          sku: SKU,\n          currentStockQuantity: TotalQty,\n          posSoldQuantity: QuantitySold,\n          wordpressSoldQty,\n          OnHand: OnHand\n        };\n      });\n\n      setProducts(data);\n    } catch (error) {\n      alert(\"Couldn't sync inventory\", error);\n    } finally {\n      setLoader(false);\n    }\n  }\n\n  const getProducts = async () => {\n    try {\n      setLoader(true);\n      const res = await inventoryService.SyncInventory();\n      const data = res.map((item) => {\n        const {\n          UPC,\n          SKU,\n          ItemName,\n          Price,\n          Cost,\n          TotalQty,\n          soldQty,\n          wordpressSoldQty,\n        } = item;\n        return {\n          upc: UPC,\n          itemName: ItemName,\n          cost: Cost,\n          price: Price,\n          sku: SKU,\n          currentStockQuantity: TotalQty,\n          posSoldQuantity: soldQty,\n          wordpressSoldQty,\n        };\n      });\n      setProducts(data);\n      alert(\"Sync complete\");\n    } catch (error) {\n      alert(\"Couldn't sync inventory\", error);\n    } finally {\n      setLoader(false);\n    }\n  };\n\n  React.useEffect(() => {\n    async function getInitialSyncedData() {\n      try {\n        setLoader(true);\n        const res = await inventoryService.getInitialSyncedData();\n        const data = res.map((item) => {\n          const {\n            UPC,\n            SKU,\n            //ItemName,\n            ITEMNAME,\n            //Price,\n            PRICEPERUNIT,\n            Cost,\n            TotalQty,\n            //soldQty,\n            QuantitySold,\n            wordpressSoldQty,\n            OnHand\n          } = item;\n          return {\n            upc: UPC,\n            itemName: ITEMNAME,\n            cost: Cost,\n            price: PRICEPERUNIT,\n            sku: SKU,\n            currentStockQuantity: TotalQty,\n            posSoldQuantity: QuantitySold,\n            wordpressSoldQty,\n            OnHand: OnHand\n          };\n        });\n\n        setProducts(data);\n      } catch (error) {\n        alert(\"Couldn't sync inventory\", error);\n      } finally {\n        setLoader(false);\n      }\n    }\n    console.log(startDate, endDate);\n    getInitialSyncedData();\n  }, []);\n\n  if (loader) {\n    return <Spinner />;\n  }\n  return (\n    <Paper className={classes.root}>\n      <Grid style={{ display: \"flex\" }}>\n        <TextField\n          label=\"Search\"\n          variant=\"outlined\"\n          value={searchVal}\n          style={{ marginLeft: 20 }}\n          onChange={(e) => setSearchVal(e.target.value)}\n        />\n        <TextField\n          id=\"date\"\n          label=\"Start Date\"\n          type=\"date\"\n          value={startDate}\n          style={{ marginLeft: 20 }}          \n          InputLabelProps={{\n            shrink: true,\n          }}\n          onChange={(event) => setStartDate(event.target.value)}          \n        />\n        <TextField\n          id=\"date\"\n          label=\"End Date\"\n          type=\"date\"\n          value={endDate}\n          style={{ marginLeft: 20 }}          \n          InputLabelProps={{\n            shrink: true,\n          }}\n          onChange={(event) => setEndDate(event.target.value)}\n        />\n        <button  style={{backgroundColor: \"green\",\n          border: \"none\",\n          color: \"white\",\n          padding: \"4px 8px\",\n          textAlign: \"center\",\n          textDecoration: \"none\",\n          display: \"inline-block\",\n          fontSize: \"14px\",\n          align: \"left\",\n          marginLeft: 20}}\n          onClick={() => onGo()}>\n            Go!\n          </button>\n\n        <Box style={{ flexGrow: 1 }} />\n        <CCol sm=\"1\">\n          <button className=\"btn btn-lg btn-info\" onClick={() => getProducts()}>\n            Sync\n          </button>\n        </CCol>\n      </Grid>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label=\"sticky table\" className={classes.table}>\n          <TableHead>\n            <TableRow>\n              {columns.map((column) => (\n                <TableCell\n                  key={column.id}\n                  align={column.align}\n                  style={{ minWidth: column.minWidth }}\n                >\n                  {column.label}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {products\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .filter((item) => {\n                if (searchVal) {\n                  if (item.itemName.toLowerCase().includes(searchVal)) {\n                    return item;\n                  } else {\n                    return null;\n                  }\n                }\n                return item;\n              })\n              .map((row) => {\n                return (\n                  <TableRow hover role=\"checkbox\" key={row.upc}>\n                    {columns.map((column) => {\n                      const value = row[column.id];\n                      return (\n                        <TableCell key={column.id} align={column.align}>\n                          {value}\n                        </TableCell>\n                      );\n                    })}\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[100, 200, 500]}\n        component=\"div\"\n        count={products.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n    </Paper>\n  );\n}\n"],"sourceRoot":""}