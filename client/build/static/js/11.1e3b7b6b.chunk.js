(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{143:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(27),a=r.n(n),c=r(35),s=r(20),o=r(21),u=r(56),i=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,[{key:"GetProductDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/products/",{params:{sku:t}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateProductDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.put("/products/".concat(t),r);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAllProducts",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("products");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createProduct",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("products",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetPOSProductDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"",e.next=3,u.b.get("/server/api/getPOSProduct",{params:{upc:t,itemName:r}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdatePOSProducts",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.post("/server/api/pos/Product/ManageItem",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"SyncInventory",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.get("/server/api/sync");case 2:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"UpdateProductFields",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.put("/server/api/invoice/product/update",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateNotFoundItems",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post("/server/api/invoice/notfound",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateScanInvoiceData",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post("/server/api/invoice/scaninvoicedata",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateInvoiceData",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(r),console.log(c),console.log(n),e.next=6,u.b.post("/server/api/invoice/updateinvoicedata",{params:{invoiceName:t,invoiceNo:r,date:n,itemNo:c}});case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"UpdateDBafterPosUpdate",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.post("/server/api/invoice/updatedbafterposupdate",t);case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveDetails",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.post("/server/api/invoice/savedetails",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"reversePOSUpdate",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(r),console.log(c),console.log(n),e.next=6,u.b.post("/server/api/invoice/reverseposupdate",{params:{invoiceName:t,invoiceNo:r,date:n,itemNo:c}});case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"linkingCorrect",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.post("/server/api/invoice/linkingcorrect",t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkManually",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.post("/server/api/invoice/linkmanually",t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHicksvilleData",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in inventory for hicks data"),e.next=3,u.b.get("/server/api/invoice/gethicksvilledata",{params:{input:t}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSavedInvoices",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in inventory for saved invoices"),console.log(t),e.next=4,u.b.get("/server/api/invoice/getsavedinvoices",{params:t});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateDBProduct",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.put("/server/api/invoice/pos/update",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CreateDBProduct",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post("/server/api/invoice/pos/create",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInitialSyncedData",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In inventory service"),console.log(t),e.next=4,u.b.get("/server/api/invoice/pos",t);case 4:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateLog",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.post("/server/api/invoice/generatelog",t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkManuallyLog",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.post("/server/api/invoice/linkmanuallylog",t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"reverseUpdate",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.post("/server/api/invoice/reverseupdate",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},145:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(27),a=r.n(n),c=r(35),s=r(20),o=r(21),u=r(56),i=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,[{key:"GetFuzz",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,r),e.next=3,u.b.get("/server/api/fuzzwuzz",{params:{name:t,type:r}});case 3:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()},285:function(e,t,r){"use strict";r.r(t);var n=r(161),a=r(24),c=r(58),s=r(2),o=r(37),u=r(143),i=r(145),p=r(153),l=r(61),v=r(57),d=r(297),b=r(300),f=r(4);t.default=function(){var e=new u.a,t=new i.a,r=Object(s.useState)([]),j=Object(c.a)(r,2),h=j[0],m=j[1],O=Object(s.useState)(!0),x=Object(c.a)(O,2),g=x[0],y=x[1],k=Object(s.useState)([]),w=Object(c.a)(k,2),N=w[0],S=w[1],P=Object(s.useState)(!1),C=Object(c.a)(P,2),D=C[0],_=C[1],F=Object(s.useState)(null),z=Object(c.a)(F,2),I=(z[0],z[1]),U=Object(s.useState)([]),B=Object(c.a)(U,2),q=(B[0],B[1]),G=Object(s.useState)([]),T=Object(c.a)(G,2),A=T[0],L=T[1],M=Object(s.useState)(""),J=Object(c.a)(M,2),E=J[0],H=J[1],R=Object(s.useState)(""),K=Object(c.a)(R,2),Q=K[0],V=K[1],W=Object(s.useState)({name:"",type:"",regular_price:"",description:"",short_description:"",categories:[],images:[],label:""}),X=Object(c.a)(W,2),Y=X[0],Z=X[1],$=function(e,t){var r=Object(a.a)({},Y);if("categories"!==e.target.name&&"images"!==e.target.name)r[e.target.name]=e.target.value;else{var n=null;"categories"===e.target.name?(n={id:t},r[e.target.name]=[n]):(n={src:t},r[e.target.name].push(n))}Z(r)},ee=function(){_(!D)};Object(s.useEffect)((function(){l.a.database().ref("/queue").on("value",(function(e){if(e.val()){var t=Object.values(e.val());m(t),y(!1)}}));var t=[];e.getAllProducts().then((function(e){t=e.map((function(e){return e.categories[0].id})),S(Object(n.a)(new Set(t)))})).catch((function(e){return console.log(e)}))}),[]);var te=function(e){console.log("item to be deleted",e);try{l.a.database().ref("/queue/".concat(e)).remove();var t=Object(n.a)(h).filter((function(t){return t.itemNo!==e}));return m(t),!0}catch(r){return console.log(r),!1}};return g?Object(f.jsx)(v.a,{}):Object(f.jsxs)("div",{style:{marginTop:"90px"},children:[Object(f.jsx)("div",{className:"row",children:h.map((function(e,r){return Object(f.jsx)("div",{className:"col-md-4",style:{padding:"10px"},children:Object(f.jsxs)("div",{style:{border:"1px solid grey",margin:"10px"},children:[Object(f.jsx)("div",{className:"text-center bg-secondary",children:e.itemNo}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"text-center",children:e.description}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",style:{marginBottom:"10px"},children:[Object(f.jsx)("div",{className:"col-md-9"}),Object(f.jsx)("div",{className:"col-md-3",children:Object(f.jsx)("button",{className:"btn btn-sm btn-primary",onClick:function(){_(!0),H(e.description),V(e.itemNo),function(e){I(e);var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(n);q(r);var c={name:e.description,type:"simple",regular_price:e.cp,description:e.description,short_description:e.description,categories:[],images:[],label:e.description};Z(c),t.GetFuzz(e.description,"queue").then((function(e){var t=e.result.map((function(e){var t=Object(a.a)({},e);return t.label="".concat(e.name,"- ").concat(e.price,"- ").concat(e.upc),t}));L(t)})).catch((function(e){return console.log(e)}))}(e)},children:"Details"})})]})]})},e.sku)}))}),Object(f.jsxs)(p.o,{show:D,onClose:ee,children:[Object(f.jsx)(p.r,{closeButton:!0,children:E}),Object(f.jsx)(p.p,{children:Object(f.jsx)(p.f,{fluid:!0,children:Object(f.jsx)(p.s,{children:Object(f.jsxs)(p.e,{sm:"12",children:[Object(f.jsxs)(p.k,{children:[Object(f.jsx)(p.m,{htmlFor:"name",children:"Name"}),Object(f.jsx)(d.a,{value:Y,onChange:function(e,t){if(t){var r=Object(a.a)({},Y);console.log(t),r.name=t.name,r.short_description=t.name,r.description=t.name,r.regular_price=t.price,r.label=t.name,Z(r)}},id:"combo-box",options:A,getOptionLabel:function(e){var t;return null!==(t=e.label)&&void 0!==t?t:e.name},style:{paddingTop:4},renderInput:function(e){return Object(f.jsx)(b.a,Object(a.a)(Object(a.a)({},e),{},{variant:"outlined",size:"small"}))}})]}),Object(f.jsxs)(p.s,{children:[Object(f.jsx)(p.e,{sm:"6",children:Object(f.jsxs)(p.k,{children:[Object(f.jsx)(p.m,{htmlFor:"type",children:"Type"}),Object(f.jsx)(p.l,{type:"text",name:"type",value:Y.type,onChange:function(e){return $(e,"")}})]})}),Object(f.jsx)(p.e,{sm:"6",children:Object(f.jsxs)(p.k,{children:[Object(f.jsx)(p.m,{htmlFor:"regular_price",children:"Regular Price"}),Object(f.jsx)(p.l,{type:"text",name:"regular_price",value:Y.regular_price,onChange:function(e){return $(e,"")}})]})})]}),Object(f.jsxs)(p.k,{children:[Object(f.jsx)(p.m,{htmlFor:"description",children:"Description"}),Object(f.jsx)(p.l,{type:"text",name:"description",value:Y.description,onChange:function(e){return $(e,"")}})]}),Object(f.jsxs)(p.k,{children:[Object(f.jsx)(p.m,{htmlFor:"short_description",children:"Short Description"}),Object(f.jsx)(p.l,{type:"text",name:"short_description",value:Y.short_description,onChange:function(e){return $(e,"")}})]}),Object(f.jsxs)(p.s,{children:[Object(f.jsx)(p.e,{sm:"3",children:Object(f.jsxs)(p.k,{children:[Object(f.jsx)(p.m,{htmlFor:"categories",children:"Category"}),Object(f.jsxs)(p.g,{name:"categories",className:"mt-2",children:[Object(f.jsx)(p.j,{caret:!0,children:0===Y.categories.length?"Select a Category":Y.categories[0].id}),Object(f.jsx)(p.i,{children:N.map((function(e,t){return Object(f.jsx)(p.h,{name:"categories",onClick:function(t){return $(t,e)},children:e},t)}))})]})]})}),Object(f.jsx)(p.e,{sm:"9"})]})]})})})}),Object(f.jsxs)(p.q,{children:[Object(f.jsx)(p.d,{color:"primary",onClick:function(){return console.log(Q),_(!D),void e.createProduct(Y).then((function(){return te(Q)})).then((function(e){return alert("Successfully created a product")})).catch((function(e){return alert("Some error occuured in creating product")}))},children:"Add"})," ",Object(f.jsx)(p.d,{color:"secondary",onClick:ee,children:"Cancel"})]})]}),Object(f.jsx)("div",{className:"row",style:{marginTop:"40px"},children:Object(f.jsx)("div",{className:"col-md-2",children:Object(f.jsx)(o.b,{className:"btn btn-lg btn-info",to:"/invoice",children:"Back"})})})]})}}}]);
//# sourceMappingURL=11.1e3b7b6b.chunk.js.map